"use strict";!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LC=e()}window&&(!window.LC||window.LC&&!window.LC.shapeToJSON)&&(window.LC=e())}(function(){return function a(r,s,A){function l(o,e){if(!s[o]){if(!r[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(c)return c(o,!0);var n=new Error("Cannot find module '"+o+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[o]={exports:{}};r[o][0].call(i.exports,function(e){var t=r[o][1][e];return l(t||e)},i,i.exports,a,r,s,A)}return s[o].exports}for(var c="function"==typeof require&&require,e=0;e<A.length;e++)l(A[e]);return l}({1:[function(e,t,o){var u,d,h,a,n,i,s,r,A,l,c,f=[].slice,p=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};function g(e,t){var o,n;this.setImageSize=function(e,t){return function(){return e.apply(t,arguments)}}(this.setImageSize,this),o=n=null,n=e instanceof HTMLElement?(o=e,t):e,this.opts=n||{},this.config={zoomMin:n.zoomMin||.2,zoomMax:n.zoomMax||4,zoomStep:n.zoomStep||.2},this.colors={primary:n.primaryColor||"#000",secondary:n.secondaryColor||"#fff",background:n.backgroundColor||"transparent"},this.watermarkImage=n.watermarkImage,this.watermarkScale=n.watermarkScale||1,this.backgroundCanvas=document.createElement("canvas"),this.backgroundCanvas.className="background-canvas",this.backgroundCtx=this.backgroundCanvas.getContext("2d"),this.canvas=document.createElement("canvas"),this.canvas.style["background-color"]="transparent",this.buffer=document.createElement("canvas"),this.buffer.style["background-color"]="transparent",this.ctx=this.canvas.getContext("2d"),this.bufferCtx=this.buffer.getContext("2d"),this.backingScale=c.getBackingScale(this.ctx),this.backgroundShapes=n.backgroundShapes||[],this._shapesInProgress=[],this.shapes=[],this.undoStack=[],this.redoStack=[],this.isDragging=!1,this.isDrawAble=!0,this.isTmpDrawAble=!0,this.rotateDeg=0,this.position={x:0,y:0},this.scale=1,this.setTool(new this.opts.tools[0](this)),this.width=n.imageSize.width||u,this.height=n.imageSize.height||u,this.setZoom(this.scale),n.snapshot&&this.loadSnapshot(n.snapshot),this.isBound=!1,o&&this.bindToElement(o)}h=e("./actions"),a=e("./bindEvents"),n=e("./math"),(i=e("./shapes")).createShape,l=i.shapeToJSON,d=i.JSONToShape,s=e("./canvasRenderer").renderShapeToContext,e("./svgRenderer").renderShapeToSVG,r=e("./renderSnapshotToImage"),A=e("./renderSnapshotToSVG"),e("../tools/Pencil"),c=e("./util"),u="infinite",t.exports=(g.prototype.setWatermarkImageToLcBackground=function(e){this.watermarkImageToLcBackground=e,this.containerEl.setAttribute("watermarkImageToLcBackground",this.watermarkImageToLcBackground)},g.prototype.bindToElement=function(e){var t,o,n,i;if(!this.containerEl)return this.containerEl=e,this._unsubscribeEvents=a(this,this.containerEl,this.opts.keyboardShortcuts),this.containerEl.style["background-color"]=this.colors.background,this.containerEl.appendChild(this.backgroundCanvas),this.containerEl.appendChild(this.canvas),this.isBound=!0,o=function(){return n.keepPanInImageBounds(),n.repaintAllLayers()},(n=this).respondToSizeChange=c.matchElementSize(this.containerEl,[this.backgroundCanvas,this.canvas],this.backingScale,o),this.watermarkImage&&(this.watermarkImage.onload=(i=this,function(){return i.repaintLayer("background")})),null!=(t=this.tool)&&t.didBecomeActive(this),o();console.warn("Trying to bind Literally Canvas to a DOM element more than once is unsupported.")},g.prototype._teardown=function(){var e;return null!=(e=this.tool)&&e.willBecomeInactive(this),"function"==typeof this._unsubscribeEvents&&this._unsubscribeEvents(),this.tool=null,this.containerEl=null,this.isBound=!1},g.prototype.trigger=function(e,t){return this.canvas.dispatchEvent(new CustomEvent(e,{detail:t})),null},g.prototype.on=function(e,t){var o,n;return o=function(e){return t(e.detail)},this.canvas.addEventListener(e,o),n=this,function(){return n.canvas.removeEventListener(e,o)}},g.prototype.getRenderScale=function(){return this.scale*this.backingScale},g.prototype.clientCoordsToDrawingCoords=function(e,t){var o,n,i=this.canvas.width,a=this.canvas.height;switch(this.rotateDeg){case 0:o=e,n=t;break;case 90:o=t,n=a-e;break;case 180:o=i-e,n=a-t;break;case 270:o=i-t,n=e;break;default:o=e,n=t}return{x:(o*this.backingScale-this.position.x)/this.getRenderScale(),y:(n*this.backingScale-this.position.y)/this.getRenderScale()}},g.prototype.drawingCoordsToClientCoords=function(e,t){return{x:e*this.getRenderScale()+this.position.x,y:t*this.getRenderScale()+this.position.y}},g.prototype.setImageSize=function(e,t){return this.width=e||u,this.height=t||u,this.keepPanInImageBounds(),this.repaintAllLayers(),this.trigger("imageSizeChange",{width:this.width,height:this.height})},g.prototype.setTool=function(e){var t;if(this.isBound&&null!=(t=this.tool)&&t.willBecomeInactive(this),this.tool=e,this.trigger("toolChange",{tool:e}),this.isBound)return this.tool.didBecomeActive(this)},g.prototype.setShapesInProgress=function(e){return this._shapesInProgress=e},g.prototype.pointerDown=function(e,t){var o;return o=this.clientCoordsToDrawingCoords(e,t),this.tool.usesSimpleAPI?(this.tool.begin(o.x,o.y,this),this.isDragging=!0,this.trigger("drawStart",{tool:this.tool})):(this.isDragging=!0,this.trigger("lc-pointerdown",{tool:this.tool,x:o.x,y:o.y,rawX:e,rawY:t}))},g.prototype.pointerMove=function(o,n){return c.requestAnimationFrame((i=this,function(){var e,t;return e=i.clientCoordsToDrawingCoords(o,n),null!=(t=i.tool)&&t.usesSimpleAPI?i.isDragging?(i.tool.continue(e.x,e.y,i),i.trigger("drawContinue",{tool:i.tool})):void 0:i.isDragging?i.trigger("lc-pointerdrag",{tool:i.tool,x:e.x,y:e.y,rawX:o,rawY:n}):i.trigger("lc-pointermove",{tool:i.tool,x:e.x,y:e.y,rawX:o,rawY:n})}));var i},g.prototype.pointerUp=function(e,t){var o;return o=this.clientCoordsToDrawingCoords(e,t),this.tool.usesSimpleAPI?this.isDragging?(this.tool.end(o.x,o.y,this),this.isDragging=!1,this.trigger("drawEnd",{tool:this.tool})):void 0:(this.isDragging=!1,this.trigger("lc-pointerup",{tool:this.tool,x:o.x,y:o.y,rawX:e,rawY:t}))},g.prototype.setColor=function(e,t){if(this.colors[e]=t,this.isBound){switch(e){case"background":this.containerEl.style.backgroundColor=this.colors.background,this.repaintLayer("background");break;case"primary":this.repaintLayer("main");break;case"secondary":this.repaintLayer("main")}return this.trigger(e+"ColorChange",this.colors[e]),"background"===e?this.trigger("drawingChange"):void 0}},g.prototype.getColor=function(e){return this.colors[e]},g.prototype.saveShape=function(e,t,o,n,i,a){n=null!=n&&null!=n&&n,null==t&&(t=!0),null==o&&(o=null),o=o||(this.shapes.length?this.shapes[this.shapes.length-1].id:null),e.authorUserId=i;var r="saveShape_"+(new Date).getTime()+parseInt(1e4*Math.random()),s=new h.AddShapeAction(this,e,o,r,n,i,a);return this.execute(s),this.isDrawAble&&t&&this.trigger("shapeSave",{shape:e,previousShapeId:o,executeId:r,shapeId:e.id,action:{actionName:s.actionName}}),this.trigger("drawingChange")},g.prototype.pan=function(e,t){return this.setPan(this.position.x-e,this.position.y-t)},g.prototype.keepPanInImageBounds=function(){var e,t,o,n;return t=this.getRenderScale(),o=(e=this.position).x,n=e.y,this.width!==u&&(o=this.canvas.width>this.width*t?(this.canvas.width-this.width*t)/2:Math.max(Math.min(0,o),this.canvas.width-this.width*t)),this.height!==u&&(n=this.canvas.height>this.height*t?(this.canvas.height-this.height*t)/2:Math.max(Math.min(0,n),this.canvas.height-this.height*t)),this.position={x:o,y:n}},g.prototype.setPan=function(e,t){return this.position={x:e,y:t},this.keepPanInImageBounds(),this.repaintAllLayers(),this.trigger("pan",{x:this.position.x,y:this.position.y})},g.prototype.zoom=function(e){var t;return t=this.scale+e,t=Math.max(t,this.config.zoomMin),t=Math.min(t,this.config.zoomMax),t=Math.round(100*t)/100,this.setZoom(t)},g.prototype.setZoom=function(e){var t;return t=this.scale,this.scale=e,this.position.x=n.scalePositionScalar(this.position.x,this.canvas.width,t,this.scale),this.position.y=n.scalePositionScalar(this.position.y,this.canvas.height,t,this.scale),this.keepPanInImageBounds(),this.repaintAllLayers(),this.trigger("zoom",{oldScale:t,newScale:this.scale})},g.prototype.setPdf=function(e,t){var o={pdfOpenParams:{pagemode:"bookmarks",navpanes:0,statusbar:0,toolbar:0,view:"FitV"},forcePDFJS:!0,PDFJS_URL:e},n="#"+this.customCanvasBackgroundElement.id;window.PDFObject.embed(e,n,o),t&&"function"==typeof t&&t(n)},g.prototype.clearPdf=function(e){var t=document.getElementById("customCanvasView"),o=t.childNodes[0];o&&(o.style.display="none",t.removeChild(o)),e&&"function"==typeof e&&e()},g.prototype.setWatermarkImage=function(e){if(this.watermarkImage=e,this.watermarkImageToLcBackground){if(c.addImageOnload(e,(t=this,function(){return t.repaintLayer("background")})),e.width)return this.repaintLayer("background")}else this.customCanvasBackgroundElement.style.backgroundImage="url("+JSON.stringify(e.src)+")";var t},g.prototype.repaintAllLayers=function(){var e,t,o,n;for(e=0,o=(n=["background","main"]).length;e<o;e++)t=n[e],this.repaintLayer(t);return null},g.prototype.repaintLayer=function(e,t){var o;if(null==t&&(t="main"===e),this.isBound){switch(e){case"background":if(!this.watermarkImageToLcBackground)return;this.backgroundCtx.clearRect(0,0,this.backgroundCanvas.width,this.backgroundCanvas.height),o=function(){return r.repaintLayer("background")},(r=this).watermarkImage&&this._renderWatermark(this.backgroundCtx,!0,o),this.draw(this.backgroundShapes,this.backgroundCtx,o);break;case"main":i=this,o=function(){return i.repaintLayer("main",!0)},t&&(this.buffer.width=this.canvas.width,this.buffer.height=this.canvas.height,this.bufferCtx.clearRect(0,0,this.buffer.width,this.buffer.height),this.draw(this.shapes,this.bufferCtx,o)),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),0<this.canvas.width&&0<this.canvas.height&&(this.ctx.fillStyle="#ccc",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.clipped(function(){return n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height),n.ctx.drawImage(n.buffer,0,0)},(n=this).ctx),this.clipped(function(){return a.transformed(function(){var e,t,o,n,i;for(n=[],e=0,t=(o=a._shapesInProgress).length;e<t;e++)i=o[e],n.push(s(a.ctx,i,{bufferCtx:a.bufferCtx,shouldOnlyDrawLatest:!0}));return n},a.ctx,a.bufferCtx)},(a=this).ctx,this.bufferCtx))}var a,n,i,r;return this.trigger("repaint",{layerKey:e})}},g.prototype._renderWatermark=function(e,t,o){if(null==t&&(t=!0),this.watermarkImage.width)return e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.scale(this.watermarkScale,this.watermarkScale),t&&e.scale(this.backingScale,this.backingScale),e.drawImage(this.watermarkImage,-this.watermarkImage.width/2,-this.watermarkImage.height/2),e.restore();this.watermarkImage.onload=o},g.prototype.drawShapeInProgress=function(e){return this.repaintLayer("main",!1),this.clipped(function(){return t.transformed(function(){return s(t.ctx,e,{bufferCtx:t.bufferCtx,shouldOnlyDrawLatest:!0})},t.ctx,t.bufferCtx)},(t=this).ctx,this.bufferCtx);var t},g.prototype.draw=function(i,a,r){var e,t;if(i.length)return e=function(){var e,t,o,n;for(o=[],e=0,t=i.length;e<t;e++)n=i[e],o.push(s(a,n,{retryCallback:r}));return o},this.clipped((t=this,function(){return t.transformed(e,a)}),a)},g.prototype.clipped=function(){var e,t,o,n,i,a,r,s,A,l,c,d;for(o=arguments[0],e=2<=arguments.length?f.call(arguments,1):[],c=this.width===u?0:this.position.x,d=this.height===u?0:this.position.y,l=function(){switch(this.width){case u:return this.canvas.width;default:return this.width*this.getRenderScale()}}.call(this),n=function(){switch(this.height){case u:return this.canvas.height;default:return this.height*this.getRenderScale()}}.call(this),i=0,r=e.length;i<r;i++)(t=e[i]).save(),t.beginPath(),t.rect(c,d,l,n),t.clip();for(o(),A=[],a=0,s=e.length;a<s;a++)t=e[a],A.push(t.restore());return A},g.prototype.transformed=function(){var e,t,o,n,i,a,r,s,A;for(o=arguments[0],n=0,a=(e=2<=arguments.length?f.call(arguments,1):[]).length;n<a;n++)(t=e[n]).save(),t.translate(Math.floor(this.position.x),Math.floor(this.position.y)),A=this.getRenderScale(),t.scale(A,A);for(o(),s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(t.restore());return s},g.prototype.sendClear=function(e){var t=!1;if(e){for(var o=0;o<this.shapes.length;o++)if(this.shapes[o].authorUserId===e){t=!0;break}}else t=!0;if(t){var n="clear_"+(new Date).getTime()+parseInt(1e4*Math.random());this.trigger("sendClear",{clearActionId:n,action:{actionName:"ClearAction"}})}},g.prototype.clear=function(e,t,o,n,i){var a,r;if(null==e&&(e=!0),r=this.shapes,a=[],0!==this.shapes.length){if(n&&0<this.shapes.length){for(var s=!1,A=0;A<this.shapes.length;A++)this.shapes[A].authorUserId!==n?a.push(this.shapes[A]):s=!0;if(!s)return}this.setShapesInProgress([]);var l=t||"clear_"+(new Date).getTime()+parseInt(1e4*Math.random()),c=new h.ClearAction(this,r,a,l,o,n,i);return this.execute(c),this.repaintLayer("main"),e&&this.trigger("clear",{clearActionId:l,oldShapes:r,action:{actionName:c.actionName}}),this.trigger("drawingChange",{})}},g.prototype.execute=function(e){return this.undoStack.push(e),e.do(),0<this.redoStack.length&&this.trigger("doClearRedoStack",{doClearRedoStack:this.redoStack}),this.redoStack=[]},g.prototype.goToStackPosition=function(e){},g.prototype.sendUndo=function(e){if(this.undoStack.length){var t;if(e){for(var o=this.undoStack.length-1;0<=o;o--)if(e===this.undoStack[o].authorUserId){t=this.undoStack[o];break}}else t=this.undoStack[this.undoStack.length-1];t&&(t.executeId="undo_"+(new Date).getTime()+parseInt(1e4*Math.random()),this.trigger("sendUndo",{action:t,executeId:t.executeId}))}},g.prototype.undo=function(e,t){var o;if(null==e&&(e=!0),this.undoStack.length){if(t){for(var n=this.undoStack.length-1;0<=n;n--)if(this.undoStack[n]&&this.undoStack[n].id===t){o=this.undoStack[n],this.undoStack.splice(n,1);break}}else o=this.undoStack.pop();return o?(o.undo(),o.executeId="undo_"+(new Date).getTime()+parseInt(1e4*Math.random()),this.redoStack.push(o),this.undoStack.sort(function(e,t){return void 0!==e&&e.hasOwnProperty("seq")&&void 0!==t&&t.hasOwnProperty("seq")&&void 0!==e.seq&&void 0!==t.seq?e.seq-t.seq:0}),this.redoStack.sort(function(e,t){return void 0!==e&&e.hasOwnProperty("seq")&&void 0!==t&&t.hasOwnProperty("seq")&&void 0!==e.seq&&void 0!==t.seq?t.seq-e.seq:0}),e&&this.trigger("undo",{action:o,executeId:o.executeId}),this.trigger("drawingChange",{})):void 0}},g.prototype.sendRedo=function(e){if(this.redoStack.length){var t;if(e){for(var o=this.redoStack.length-1;0<=o;o--)if(e===this.redoStack[o].authorUserId){t=this.redoStack[o];break}}else t=this.redoStack[this.redoStack.length-1];t&&(t.executeId="redo_"+(new Date).getTime()+parseInt(1e4*Math.random()),this.trigger("sendRedo",{action:t,executeId:t.executeId}))}},g.prototype.redo=function(e,t){var o;if(null==e&&(e=!0),this.redoStack.length){if(t){for(var n=this.redoStack.length-1;0<=n;n--)if(this.redoStack[n]&&this.redoStack[n].id===t){o=this.redoStack[n],this.redoStack.splice(n,1);break}}else o=this.redoStack.pop();if(o)return this.undoStack.push(o),o.do(!0),this.undoStack.sort(function(e,t){return void 0!==e&&e.hasOwnProperty("seq")&&void 0!==t&&t.hasOwnProperty("seq")&&void 0!==e.seq&&void 0!==t.seq?e.seq-t.seq:0}),this.redoStack.sort(function(e,t){return void 0!==e&&e.hasOwnProperty("seq")&&void 0!==t&&t.hasOwnProperty("seq")&&void 0!==e.seq&&void 0!==t.seq?t.seq-e.seq:0}),o.executeId="redo_"+(new Date).getTime()+parseInt(1e4*Math.random()),e&&this.trigger("redo",{action:o,executeId:o.executeId}),this.trigger("drawingChange",{})}},g.prototype.canUndo=function(){if(this.isOnlyUndoRedoClearMyselfShape&&this.myselfId){for(var e=!1,t=this.undoStack.length-1;0<=t;t--)if(this.undoStack[t].authorUserId==this.myselfId){e=!0;break}return e}return!!this.undoStack.length},g.prototype.canRedo=function(){if(this.isOnlyUndoRedoClearMyselfShape&&this.myselfId){for(var e=!1,t=0;t<this.redoStack.length;t++)this.redoStack[t].authorUserId==this.myselfId&&(e=!0);return e}return!!this.redoStack.length},g.prototype.getPixel=function(e,t){var o,n;return o=this.drawingCoordsToClientCoords(e,t),(n=this.ctx.getImageData(o.x,o.y,1,1).data)[3]?"rgb("+n[0]+", "+n[1]+", "+n[2]+")":null},g.prototype.getContentBounds=function(){return c.getBoundingRect(this.shapes.concat(this.backgroundShapes).map(function(e){return e.getBoundingRect()}),this.width===u?0:this.width,this.height===u?0:this.height)},g.prototype.getDefaultImageRect=function(e,t){var i;return null==e&&(e={width:0,height:0}),null==t&&(t={top:0,right:0,bottom:0,left:0}),c.getDefaultImageRect(function(){var e,t,o,n;for(n=[],e=0,t=(o=this.shapes.concat(this.backgroundShapes)).length;e<t;e++)i=o[e],n.push(i.getBoundingRect(this.ctx));return n}.call(this),e,t)},g.prototype.getImage=function(e){return null==e&&(e={}),null==e.includeWatermark&&(e.includeWatermark=!0),null==e.scaleDownRetina&&(e.scaleDownRetina=!0),null==e.scale&&(e.scale=1),e.scaleDownRetina||(e.scale*=this.backingScale),e.includeWatermark&&(e.watermarkImage=this.watermarkImage,e.watermarkScale=this.watermarkScale,e.scaleDownRetina||(e.watermarkScale*=this.backingScale)),r(this.getSnapshot(),e)},g.prototype.canvasForExport=function(){return this.repaintAllLayers(),c.combineCanvases(this.backgroundCanvas,this.canvas)},g.prototype.canvasWithBackground=function(e){return c.combineCanvases(e,this.canvasForExport())},g.prototype.getSnapshot=function(e){var t,o,n,i,a,r;for(null==e&&(e=null),null==e&&(e=["shapes","imageSize","colors","position","scale","backgroundShapes"]),r={},t=0,n=(i=["colors","position","scale"]).length;t<n;t++)o=i[t],0<=p.call(e,o)&&(r[o]=this[o]);return 0<=p.call(e,"shapes")&&(r.shapes=function(){var e,t,o,n;for(n=[],e=0,t=(o=this.shapes).length;e<t;e++)a=o[e],n.push(l(a));return n}.call(this)),0<=p.call(e,"backgroundShapes")&&(r.backgroundShapes=function(){var e,t,o,n;for(n=[],e=0,t=(o=this.backgroundShapes).length;e<t;e++)a=o[e],n.push(l(a));return n}.call(this)),0<=p.call(e,"imageSize")&&(r.imageSize={width:this.width,height:this.height}),r},g.prototype.getSnapshotJSON=function(){return console.warn("lc.getSnapshotJSON() is deprecated. use JSON.stringify(lc.getSnapshot()) instead."),JSON.stringify(this.getSnapshot())},g.prototype.getSVGString=function(e){return null==e&&(e={}),A(this.getSnapshot(),e)},g.prototype.loadSnapshot=function(i){var e,t,o,n,a,r,s,A,l,c;if(i){if(i.colors)for(e=0,n=(r=["primary","secondary","background"]).length;e<n;e++)o=r[e],this.setColor(o,i.colors[o]);if(i.shapes)for(this.shapes=[],t=0,a=(s=i.shapes).length;t<a;t++)c=s[t],(l=d(c))&&this.execute(new h.AddShapeAction(this,l));return i.backgroundShapes&&(this.backgroundShapes=function(){var e,t,o,n;for(n=[],e=0,t=(o=i.backgroundShapes).length;e<t;e++)A=o[e],n.push(d(A));return n}()),i.imageSize&&(this.width=i.imageSize.width,this.height=i.imageSize.height),i.position&&(this.position=i.position),i.scale&&(this.scale=i.scale),this.repaintAllLayers(),this.trigger("snapshotLoad"),this.trigger("drawingChange",{})}},g.prototype.loadSnapshotJSON=function(e){return console.warn("lc.loadSnapshotJSON() is deprecated. use lc.loadSnapshot(JSON.parse(snapshot)) instead."),this.loadSnapshot(JSON.parse(e))},g)},{"../tools/Pencil":24,"./actions":3,"./bindEvents":4,"./canvasRenderer":5,"./math":10,"./renderSnapshotToImage":11,"./renderSnapshotToSVG":12,"./shapes":13,"./svgRenderer":14,"./util":15}],2:[function(e,t,o){var n,l,u,c;function i(t,e,o,n,i){var a,r,s,A;this.text=e,this.font=o,this.forcedWidth=n,this.forcedHeight=i,a=(s=c(this.font)).fontFamily,r=s.fontSize,t.font=this.font,t.textBaseline="baseline",this.emDashWidth=t.measureTextWidth("â€”",r,a).width,this.caratWidth=t.measureTextWidth("|",r,a).width,this.lines=l(t,this.text,this.forcedWidth),this.metricses=this.lines.map((A=this,function(e){return t.measureText2(e||"X",r,A.font)})),this.metrics={ascent:Math.max.apply(Math,this.metricses.map(function(e){return e.ascent})),descent:Math.max.apply(Math,this.metricses.map(function(e){return e.descent})),fontsize:Math.max.apply(Math,this.metricses.map(function(e){return e.fontsize})),leading:Math.max.apply(Math,this.metricses.map(function(e){return e.leading})),width:Math.max.apply(Math,this.metricses.map(function(e){return e.width})),height:Math.max.apply(Math,this.metricses.map(function(e){return e.height})),bounds:{minx:Math.min.apply(Math,this.metricses.map(function(e){return e.bounds.minx})),miny:Math.min.apply(Math,this.metricses.map(function(e){return e.bounds.miny})),maxx:Math.max.apply(Math,this.metricses.map(function(e){return e.bounds.maxx})),maxy:Math.max.apply(Math,this.metricses.map(function(e){return e.bounds.maxy}))}},this.boundingBoxWidth=Math.ceil(this.metrics.width)}e("./fontmetrics.js"),c=function(e){var t,o,n,i,a,r;for(i=o=0,a=(t=e.split(" ")).length;i<a;i++)n=t[i],r=parseInt(n.replace("px",""),10),isNaN(r)||(o=r);if(!o)throw"Font size not found";return{fontSize:o,fontFamily:e.substring(t[0].length+1).replace("bold ","").replace("italic ","").replace("underline ","")}},u=function(e,t,o){var n,i,a,r,s,A,l,c,d,u;if(!t.length)return["",""];for(l=A=i=0,u=!1;;)if(r=(s=!(a=(i+=1)>=t.length)&&t[i].match(/\s/))||a,d=t.substring(0,i),(n=!o||e.measureTextWidth(d).width<=o)&&(l=i),r&&u&&(u=!1,n&&(A=i)),u=!s,a||!n){if(n)return[t,""];if(0<A){for(c=A+1;c<t.length&&t[c].match("/s/");)c+=1;return[t.substring(0,A),t.substring(c)]}return[t.substring(0,l),t.substring(l)]}},l=function(e,t,o){var n,i,a,r,s,A,l,c,d;for(a=[],n=0,i=(d=t.split(/\r\n|\r|\n/g)).length;n<i;n++)if(c=d[n],r=(s=u(e,c,o))[0],l=s[1],r)for(;r;)a.push(r),r=(A=u(e,l,o))[0],l=A[1];else a.push(c);return a},i.prototype.draw=function(e,t,o){var n,i,a,r,s,A;for(e.textBaseline="top",e.font=this.font,A=[],i=n=0,a=(s=this.lines).length;i<a;i++)r=s[i],e.fillText(r,t,o+n*this.metrics.leading),A.push(n+=1);return A},i.prototype.getWidth=function(e){return null==e&&(e=!1),this.forcedWidth?this.forcedWidth:e?this.metrics.bounds.maxx+this.caratWidth:this.metrics.bounds.maxx},i.prototype.getHeight=function(){return this.forcedHeight||this.metrics.leading*this.lines.length},n=i,t.exports=n},{"./fontmetrics.js":7}],3:[function(e,t,o){var n,i;function a(e,t,o,n,i,a,r){this.lc=e,this.oldShapes=t,this.newShapes=o,this.executeId=n,this.id=n,this.clearActionId=n,this.authorUserId=i,this.toAuthorUserId=a,this.seq=r,this.actions=[],this.actionName="ClearAction"}function r(e,t,o,n,i,a,r){this.lc=e,this.shape=t,this.previousShapeId=null!=o?o:null,this.doNotPaint=i,this.executeId=n,this.shapeId=t.id,this.id=t.id,this.authorUserId=a,this.seq=r,this.actionName="AddShapeAction"}a.prototype.do=function(){var e=[];this.actions=[];for(var t=this.lc.undoStack.length-1;0<=t;t--){var o=this.lc.undoStack[t];"AddShapeAction"===o.actionName&&(this.toAuthorUserId?this.lc.undoStack[t].authorUserId===this.toAuthorUserId?(this.actions.push(o),this.lc.undoStack.splice(t,1)):e.push(this.lc.undoStack[t].shape):(this.actions.push(o),this.lc.undoStack.splice(t,1)))}return this.lc.shapes=e.reverse(),this.lc.repaintLayer("main")},a.prototype.undo=function(){var e=[];this.lc.undoStack=this.lc.undoStack.concat(this.actions),this.actions=[],this.lc.undoStack.sort(function(e,t){return void 0!==e&&e.hasOwnProperty("seq")&&void 0!==t&&t.hasOwnProperty("seq")&&void 0!==e.seq&&void 0!==t.seq?e.seq-t.seq:0});for(var t=0;t<this.lc.undoStack.length;t++)"AddShapeAction"===this.lc.undoStack[t].actionName&&e.push(this.lc.undoStack[t].shape);return this.lc.shapes=e,this.lc.repaintLayer("main")},i=a,r.prototype.do=function(e,t){var o,n,i,a,r,s;if(e=null!=e&&e,this.lc.shapes.length&&this.lc.shapes[this.lc.shapes.length-1].id!==this.previousShapeId&&null!==this.previousShapeId){for(o=!(a=[]),n=0,i=(r=this.lc.shapes).length;n<i;n++)s=r[n],a.push(s),s.id===this.previousShapeId&&(a.push(this.shape),o=!0);o||a.push(this.shape),this.lc.shapes=a}else this.lc.shapes.push(this.shape);if((e||!this.doNotPaint)&&!t)return this.lc.repaintLayer("main")},r.prototype.undo=function(){var e,t,o,n,i;if(this.lc.shapes[this.lc.shapes.length-1].id===this.shape.id)this.lc.shapes.pop();else{for(o=[],e=0,t=(n=this.lc.shapes).length;e<t;e++)(i=n[e]).id!==this.shape.id&&o.push(i);this.lc.shapes=o}return this.lc.repaintLayer("main")},n=r,t.exports={ClearAction:i,AddShapeAction:n}},{}],4:[function(e,t,o){var h,f;h=function(e,t){var o,n,i;return n=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY,[n-(o=e.getBoundingClientRect()).left,i-o.top]},f=function(e,t){var o;return o=e.getBoundingClientRect(),{left:t.clientX-o.left,top:t.clientY-o.top}},t.exports=function(A,l,e){var t,c,d,s,u,i;return null==e&&(e=!1),i=[],c=function(e){var t;return e.preventDefault(),t=f(l,e),A.pointerMove(t.left,t.top)},d=function(e){var t;e.preventDefault(),l.onselectstart=function(){return!0},t=f(l,e),A.pointerUp(t.left,t.top);try{var o=document.getElementsByTagName("iframe");if(o&&0<o.length)for(var n=0;n<o.length;n++){var i=o[n].parentNode;if(i){var a=i.getElementsByClassName("ifreamTempLayer");if(a&&0<a.length)for(var r=a.length-1;0<=r;r--)i.removeChild(a[r])}}}catch(e){console.error("tklc error:",e)}return document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),l.addEventListener("mousemove",c)},l.addEventListener("mousedown",function(e){var t;if("canvas"===e.target.tagName.toLowerCase()){e.preventDefault(),l.onselectstart=function(){return!1},t=f(l,e),A.pointerDown(t.left,t.top);try{var o=document.getElementsByTagName("iframe");if(o&&0<o.length)for(var n=0;n<o.length;n++){var i=o[n].parentNode;if(i){var a=i.getElementsByClassName("ifreamTempLayer");if(a&&0<a.length)for(var r=a.length-1;0<=r;r--)i.removeChild(a[r]);var s=document.createElement("div");s.className="ifreamTempLayer",i.appendChild(s)}}}catch(e){console.error("tklc error:",e)}return l.removeEventListener("mousemove",c),document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}}),u=function(e){return e.preventDefault(),A.pointerMove.apply(A,h(l,e))},s=function(e){e.preventDefault();try{var t=document.getElementsByTagName("iframe");if(t&&0<t.length)for(var o=0;o<t.length;o++){var n=t[o].parentNode;if(n){var i=n.getElementsByClassName("ifreamTempLayer");if(i&&0<i.length)for(var a=i.length-1;0<=a;a--)n.removeChild(i[a])}}}catch(e){console.error("tklc error:",e)}return A.pointerUp.apply(A,h(l,e)),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",s),document.removeEventListener("touchcancel",s)},l.addEventListener("touchstart",function(e){if("canvas"===e.target.tagName.toLowerCase()){e.preventDefault();try{var t=document.getElementsByTagName("iframe");if(t&&0<t.length)for(var o=0;o<t.length;o++){var n=t[o].parentNode;if(n){var i=n.getElementsByClassName("ifreamTempLayer");if(i&&0<i.length)for(var a=i.length-1;0<=a;a--)n.removeChild(i[a]);var r=document.createElement("div");r.className="ifreamTempLayer",n.appendChild(r)}}}catch(e){console.error("tklc error:",e)}return 1===e.touches.length?(A.pointerDown.apply(A,h(l,e)),document.addEventListener("touchmove",u),document.addEventListener("touchend",s),document.addEventListener("touchcancel",s)):A.pointerMove.apply(A,h(l,e))}}),e&&(console.warn("Keyboard panning is deprecated."),t=function(e){switch(e.keyCode){case 37:A.pan(-10,0);break;case 38:A.pan(0,-10);break;case 39:A.pan(10,0);break;case 40:A.pan(0,10)}return A.repaintAllLayers()},i.push(function(){return document.removeEventListener(t)})),function(){var e,t,o,n;for(n=[],t=0,o=i.length;t<o;t++)e=i[t],n.push(e());return n}}},{}],5:[function(e,t,o){var r,n,i,a,s,A,l,c,d,u;s=e("./lineEndCapShapes"),d={},A=function(){},c=function(e,t,o){var n;if(null==o&&(o={}),null==o.shouldIgnoreUnsupportedShapes&&(o.shouldIgnoreUnsupportedShapes=!1),null==o.retryCallback&&(o.retryCallback=A),null==o.shouldOnlyDrawLatest&&(o.shouldOnlyDrawLatest=!1),null==o.bufferCtx&&(o.bufferCtx=null),n=o.bufferCtx,d[t.className])return o.shouldOnlyDrawLatest&&d[t.className].drawLatestFunc?d[t.className].drawLatestFunc(e,n,t,o.retryCallback):d[t.className].drawFunc(e,t,o.retryCallback);if(o.shouldIgnoreUnsupportedShapes)return console.warn("Can't render shape of type "+t.className+" to canvas");throw"Can't render shape of type "+t.className+" to canvas"},l=function(e,t,o){return c(e.getContext("2d"),t,o)},(n=function(e,t,o){return d[e]={drawFunc:t,drawLatestFunc:o}})("Rectangle",function(e,t){var o,n;return o=t.x,n=t.y,t.strokeWidth%2!=0&&(o+=.5,n+=.5),e.fillStyle=t.fillColor,e.fillRect(o,n,t.width,t.height),e.lineWidth=t.strokeWidth,e.strokeStyle=t.strokeColor,e.strokeRect(o,n,t.width,t.height)}),n("Ellipse",function(e,t){var o,n,i,a;return e.save(),a=Math.floor(t.width/2),i=Math.floor(t.height/2),o=t.x+a,n=t.y+i,e.translate(o,n),e.scale(1,Math.abs(t.height/t.width)),e.beginPath(),e.arc(0,0,Math.abs(a),0,2*Math.PI),e.closePath(),e.restore(),e.fillStyle=t.fillColor,e.fill(),e.lineWidth=t.strokeWidth,e.strokeStyle=t.strokeColor,e.stroke()}),n("SelectionBox",(u=function(e,t,o){var n,i;if(n=t.x,i=t.y,0!==o)return e.fillStyle="#fff",e.fillRect(n,i,o,o),e.strokeStyle="#000",e.strokeRect(n,i,o,o)},function(e,t){return u(e,t.getTopLeftHandleRect(),t.handleSize),u(e,t.getTopRightHandleRect(),t.handleSize),u(e,t.getBottomLeftHandleRect(),t.handleSize),u(e,t.getBottomRightHandleRect(),t.handleSize),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fillRect(t._br.x-t.margin,t._br.y-t.margin,t._br.width+2*t.margin,t._br.height+2*t.margin)),e.lineWidth=1,e.strokeStyle="#000",e.setLineDash([2,4]),e.strokeRect(t._br.x-t.margin,t._br.y-t.margin,t._br.width+2*t.margin,t._br.height+2*t.margin),e.setLineDash([])})),n("Image",function(e,t,o){return t.image.width?1===t.scale?e.drawImage(t.image,t.x,t.y):e.drawImage(t.image,t.x,t.y,t.image.width*t.scale,t.image.height*t.scale):o?t.image.onload=o:void 0}),n("Line",function(e,t){var o,n,i,a,r;if(t.x1!==t.x2||t.y1!==t.y2)return n=t.x1,i=t.x2,a=t.y1,r=t.y2,t.strokeWidth%2!=0&&(n+=.5,i+=.5,a+=.5,r+=.5),e.lineWidth=t.strokeWidth,e.strokeStyle=t.color,e.lineCap=t.capStyle,t.dash&&e.setLineDash(t.dash),e.beginPath(),e.moveTo(n,a),e.lineTo(i,r),e.stroke(),t.dash&&e.setLineDash([]),o=Math.max(2.2*t.strokeWidth,5),t.endCapShapes[0]&&s[t.endCapShapes[0]].drawToCanvas(e,n,a,Math.atan2(a-r,n-i),o,t.color),t.endCapShapes[1]?s[t.endCapShapes[1]].drawToCanvas(e,i,r,Math.atan2(r-a,i-n),o,t.color):void 0}),r=function(e,t,o,n){var i,a,r,s;if(null==o&&(o=!1),null==n&&(n="round"),t.length){for(e.lineCap=n,e.strokeStyle=t[0].color,e.lineWidth=t[0].size,e.beginPath(),t[0].size%2==0?e.moveTo(t[0].x,t[0].y):e.moveTo(t[0].x+.5,t[0].y+.5),i=0,a=(s=t.slice(1)).length;i<a;i++)r=s[i],t[0].size%2==0?e.lineTo(r.x,r.y):e.lineTo(r.x+.5,r.y+.5);return o?e.closePath():void 0}},n("LinePath",i=function(e,t){return r(e,t.smoothedPoints),e.stroke()},a=function(e,t,o){var n,i,a;return o.tail?(i=(a=o.smoothedPoints.length-o.segmentSize*o.tailSize)<2*o.segmentSize?0:a,n=a+o.segmentSize+1,r(t,o.smoothedPoints.slice(i,n))):r(t,o.smoothedPoints),t.stroke()}),n("ErasedLinePath",function(e,t){return e.save(),e.globalCompositeOperation="destination-out",i(e,t),e.restore()},function(e,t,o){return e.save(),e.globalCompositeOperation="destination-out",t.save(),t.globalCompositeOperation="destination-out",a(0,t,o),e.restore(),t.restore()}),n("Text",function(e,t){return t.renderer||t._makeRenderer(e),e.fillStyle=t.color,t.renderer.draw(e,t.x,t.y)}),n("Polygon",function(e,t){return e.fillStyle=t.fillColor,r(e,t.points,t.isClosed,"butt"),e.fill(),e.stroke()}),t.exports={defineCanvasRenderer:n,renderShapeToCanvas:l,renderShapeToContext:c}},{"./lineEndCapShapes":8}],6:[function(e,t,o){t.exports={imageURLPrefix:"lib/img",primaryColor:"hsla(0, 0%, 0%, 1)",secondaryColor:"hsla(0, 0%, 100%, 1)",backgroundColor:"transparent",strokeWidths:[1,2,5,10,20,30],defaultStrokeWidth:5,toolbarPosition:"top",keyboardShortcuts:!1,imageSize:{width:"infinite",height:"infinite"},backgroundShapes:[],watermarkImage:null,watermarkScale:1,zoomMin:.2,zoomMax:4,zoomStep:.2,snapshot:null,onInit:function(){},tools:[e("../tools/Pencil"),e("../tools/Eraser"),e("../tools/Line"),e("../tools/Rectangle"),e("../tools/Ellipse"),e("../tools/Text"),e("../tools/Polygon"),e("../tools/Pan"),e("../tools/Eyedropper")]}},{"../tools/Ellipse":19,"../tools/Eraser":20,"../tools/Eyedropper":21,"../tools/Line":22,"../tools/Pan":23,"../tools/Pencil":24,"../tools/Polygon":25,"../tools/Rectangle":26,"../tools/Text":28}],7:[function(e,t,o){!function(){if(!document.defaultView.getComputedStyle)throw"ERROR: 'document.defaultView.getComputedStyle' not found. This library only works in browsers that can report computed CSS values.";CanvasRenderingContext2D.prototype.measureTextWidth=CanvasRenderingContext2D.prototype.measureText;CanvasRenderingContext2D.prototype.measureText2=function(e,t,o){var n=this.measureTextWidth(e),i=!/\S/.test(e);n.fontsize=t;var a=document.createElement("div");a.style.position="absolute",a.style.opacity=0,a.style.font=o,a.innerHTML=e+"<br/>"+e,document.body.appendChild(a),n.leading=1.2*t;var r=function(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}(a,"height");if(2*t<=(r=r.replace("px",""))&&(n.leading=r/2|0),document.body.removeChild(a),i)n.ascent=0,n.descent=0,n.bounds={minx:0,maxx:n.width,miny:0,maxy:0},n.height=0;else{var s=document.createElement("canvas");s.width=n.width+100,s.height=3*t,s.style.opacity=1,s.style.font=o;var A=s.getContext("2d");A.font=o;var l=s.width,c=s.height,d=c/2;A.fillStyle="white",A.fillRect(-1,-1,l+2,c+2),A.fillStyle="black",A.fillText(e,50,d);for(var u=A.getImageData(0,0,l,c).data,h=0,f=4*l,p=u.length;++h<p&&255===u[h];);var g=h/f|0;for(h=p-1;0<--h&&255===u[h];);var m=h/f|0;for(h=0;h<p&&255===u[h];)p<=(h+=f)&&(h=h-p+4);var y=h%f/4|0,v=1;for(h=p-3;0<=h&&255===u[h];)(h-=f)<0&&(h=p-3-4*v++);var w=h%f/4+1|0;n.ascent=d-g,n.descent=m-d,n.bounds={minx:y-50,maxx:w-50,miny:0,maxy:m-g},n.height=m-g+1}return n}}()},{}],8:[function(e,t,o){var A;t.exports={arrow:(A=function(e,t,o,n,i){return[{x:e+Math.cos(o+Math.PI/2)*n/2,y:t+Math.sin(o+Math.PI/2)*n/2},{x:e+Math.cos(o)*i,y:t+Math.sin(o)*i},{x:e+Math.cos(o-Math.PI/2)*n/2,y:t+Math.sin(o-Math.PI/2)*n/2}]},{drawToCanvas:function(e,t,o,n,i,a,r){var s;return null==r&&(r=0),r=r||i,e.fillStyle=a,e.lineWidth=0,e.strokeStyle="transparent",e.beginPath(),s=A(t,o,n,i,r),e.moveTo(s[0].x,s[0].y),e.lineTo(s[1].x,s[1].y),e.lineTo(s[2].x,s[2].y),e.fill()},svg:function(e,t,o,n,i,a){return null==a&&(a=0),"<polygon fill='"+i+"' stroke='none' points='"+A(e,t,o,n,a=a||n).map(function(e){return e.x+","+e.y})+"' />"}})}},{}],9:[function(e,t,o){var n,i,a;a={},i=function(e){return a=e},n=function(e){return a[e]||e},t.exports={localize:i,_:n}},{}],10:[function(e,t,o){var A,n,l,i;e("./shapes").Point,e("./util"),n={toPoly:function(e){var t,o,n,i,a,r,s;for(r=[],s=[],t=o=0,n=e.length;t<n;t++)a=e[t],i=l(a,A(e,o)),r=r.concat([i[0]]),s=[i[1]].concat(s),o+=1;return r.concat(s)}},A=function(e,t){return e.length<3&&{x:0,y:0},0===t?A(e,t+1):t===e.length-1?A(e,t-1):n.diff(e[t-1],e[t+1])},n.diff=function(e,t){return{x:t.x-e.x,y:t.y-e.y}},i=function(e){var t;return t=n.len(e),{x:e.x/t,y:e.y/t}},l=function(e,t){return(t=i(t)).x=t.x*e.size/2,t.y=t.y*e.size/2,[{x:e.x-t.y,y:e.y+t.x,color:e.color},{x:e.x+t.y,y:e.y-t.x,color:e.color}]},n.len=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},n.scalePositionScalar=function(e,t,o,n){return e+(t*o-t*n)/2},t.exports=n},{"./shapes":13,"./util":15}],11:[function(e,t,o){var c,d,u,h;h=e("./util"),d=e("./shapes").JSONToShape,c="infinite",u=function(e,t,o){if(t.width)return e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.scale(o,o),e.drawImage(t,-t.width/2,-t.height/2),e.restore()},t.exports=function(i,e){var n,t,o,a,r,s,A,l;return null==e&&(e={}),null==e.scale&&(e.scale=1),s=function(){var e,t,o,n;for(n=[],e=0,t=(o=i.shapes).length;e<t;e++)r=o[e],n.push(d(r));return n}(),t=[],i.backgroundShapes&&(t=function(){var e,t,o,n;for(n=[],e=0,t=(o=i.backgroundShapes).length;e<t;e++)r=o[e],n.push(d(r));return n}()),null==e.margin&&(e.margin={top:0,right:0,bottom:0,left:0}),a=i.imageSize||{width:c,height:c},o=i.colors||{background:"transparent"},n=s.concat(t),A=document.createElement("canvas"),l=A.getContext("2d"),e.rect?(e.rect.x-=e.margin.left,e.rect.y-=e.margin.top,e.rect.width+=e.margin.left+e.margin.right,e.rect.height+=e.margin.top+e.margin.bottom):e.rect=h.getDefaultImageRect(function(){var e,t,o;for(o=[],e=0,t=n.length;e<t;e++)r=n[e],o.push(r.getBoundingRect(l));return o}(),a,e.margin),A.width=e.rect.width*e.scale,A.height=e.rect.height*e.scale,l.fillStyle=o.background,l.fillRect(0,0,A.width,A.height),e.rect.width&&e.rect.height?(e.watermarkImage&&u(l,e.watermarkImage,e.watermarkScale),h.combineCanvases(A,h.renderShapes(t,e.rect,e.scale),h.renderShapes(s,e.rect,e.scale))):null}},{"./shapes":13,"./util":15}],12:[function(e,t,o){var c,d,u;u=e("./util"),d=e("./shapes").JSONToShape,c="infinite",t.exports=function(i,e){var n,t,o,a,r,s,A,l;return null==e&&(e={}),l=function(){var e,t,o,n;for(n=[],e=0,t=(o=i.shapes).length;e<t;e++)A=o[e],n.push(d(A));return n}(),t=[],i.backgroundShapes&&(t=function(){var e,t,o,n;for(n=[],e=0,t=(o=i.backgroundShapes).length;e<t;e++)A=o[e],n.push(d(A));return n}()),null==e.margin&&(e.margin={top:0,right:0,bottom:0,left:0}),s=i.imageSize||{width:c,height:c},o=i.colors||{background:"transparent"},n=l.concat(t),r=document.createElement("canvas"),a=r.getContext("2d"),e.rect?(e.rect.x-=e.margin.left,e.rect.y-=e.margin.top,e.rect.width+=e.margin.left+e.margin.right,e.rect.height+=e.margin.top+e.margin.bottom):e.rect=u.getDefaultImageRect(function(){var e,t,o;for(o=[],e=0,t=n.length;e<t;e++)A=n[e],o.push(A.getBoundingRect(a));return o}(),s,e.margin),LC.renderShapesToSVG(t.concat(l),e.rect,o.background)}},{"./shapes":13,"./util":15}],13:[function(e,t,o){var A,n,i,r,a,s,l,c,d,u,h,f,p,g,m,y,v,w,b,B;B=e("./util"),n=e("./TextRenderer"),e("./lineEndCapShapes"),g=e("./canvasRenderer"),u=g.defineCanvasRenderer,y=g.renderShapeToContext,m=e("./svgRenderer"),h=m.defineSVGRenderer,v=m.renderShapeToSVG,b={},d=function(e,t,o,n,i,a,r,s,A,l,c,d,u,h,f,p,g){var m;return(m=new b[e](t,o,n,i,a,r,s,A,l,c,d,u,h,f,p,g)).id=B.getGUID(),m},A=function(e){var t,o,n,i;return t=e.className,o=e.data,n=e.id,t in b?(i=b[t].fromJSON(o))?(n&&(i.id=n),i):(console.log("Unreadable shape:",t,o),null):(console.log("Unknown shape:",t,o),null)},w=function(e){return{className:e.className,data:e.toJSON(),id:e.id}},c=function(e,t){return t?c(a(a(l(e))),t-1):e},l=function(e){var t,o,n,i,a;for(a=[],i=t=0,o=(e=[e[0]].concat(e).concat(B.last(e))).length;i<o;i++)n=e[i],a[2*t]=n,e[t+1]&&(a[2*t+1]=s(n,e[t+1])),t+=1;return a},a=function(e){var t,o,n,i,a;for(t=[],a=o=0,n=e.length;a<n;a++)i=e[a],e[o+1]&&(t[o]=s(i,e[o+1])),o+=1;return t},s=function(e,t){return d("Point",{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2,size:e.size+(t.size-e.size)/2,color:e.color})},(f=function(e,g){var t,o,n,i,a,r,s,A;for(i in(t=function(e,t,o,n,i,a,r,s,A,l,c,d,u,h,f,p){return g.constructor.call(this,e,t,o,n,i,a,r,s,A,l,c,d,u,h,f,p),this}).prototype.className=e,t.fromJSON=g.fromJSON,g.draw&&(a=g.draw,r=g.draw||function(e,t,o){return this.draw(e,t,o)},o=function(e,t,o){return a.call(t,e,o)},n=function(e,t,o,n){return r.call(o,e,t,n)},delete g.draw,g.drawLatest&&delete g.drawLatest,u(e,o,n)),g.toSVG&&(s=g.toSVG,A=function(e){return s.call(e)},delete g.toSVG,h(e,A)),t.prototype.draw=function(e,t){return y(e,this,{retryCallback:t})},t.prototype.drawLatest=function(e,t,o){return y(e,this,{retryCallback:o,bufferCtx:t,shouldOnlyDrawLatest:!0})},t.prototype.toSVG=function(){return v(this)},g)"fromJSON"!==i&&(t.prototype[i]=g[i]);return b[e]=t})("Image",{constructor:function(e){return null==e&&(e={}),this.x=e.x||0,this.y=e.y||0,this.scale=e.scale||1,this.image=e.image||null},getBoundingRect:function(){return{x:this.x,y:this.y,width:this.image.width*this.scale,height:this.image.height*this.scale}},toJSON:function(){return{x:this.x,y:this.y,imageSrc:this.image.src,imageObject:this.image,scale:this.scale}},fromJSON:function(e){var t,o;return((t=null)!=(o=e.imageObject)?o.width:void 0)?t=e.imageObject:(t=new Image).src=e.imageSrc,d("Image",{x:e.x,y:e.y,image:t,scale:e.scale})},move:function(e){return null==e&&(e={}),this.x=this.x-e.xDiff,this.y=this.y-e.yDiff},setUpperLeft:function(e){return null==e&&(e={}),this.x=e.x,this.y=e.y}}),f("Rectangle",{constructor:function(e){return null==e&&(e={}),this.x=e.x||0,this.y=e.y||0,this.width=e.width||0,this.height=e.height||0,this.strokeWidth=e.strokeWidth||1,this.strokeColor=e.strokeColor||"black",this.fillColor=e.fillColor||"transparent"},getBoundingRect:function(){return{x:this.x-this.strokeWidth/2,y:this.y-this.strokeWidth/2,width:this.width+this.strokeWidth,height:this.height+this.strokeWidth}},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,strokeWidth:this.strokeWidth,strokeColor:this.strokeColor,fillColor:this.fillColor}},fromJSON:function(e){return d("Rectangle",e)},move:function(e){return null==e&&(e={}),this.x=this.x-e.xDiff,this.y=this.y-e.yDiff},setUpperLeft:function(e){return null==e&&(e={}),this.x=e.x,this.y=e.y}}),f("Ellipse",{constructor:function(e){return null==e&&(e={}),this.x=e.x||0,this.y=e.y||0,this.width=e.width||0,this.height=e.height||0,this.strokeWidth=e.strokeWidth||1,this.strokeColor=e.strokeColor||"black",this.fillColor=e.fillColor||"transparent"},getBoundingRect:function(){return{x:this.x-this.strokeWidth/2,y:this.y-this.strokeWidth/2,width:this.width+this.strokeWidth,height:this.height+this.strokeWidth}},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,strokeWidth:this.strokeWidth,strokeColor:this.strokeColor,fillColor:this.fillColor}},fromJSON:function(e){return d("Ellipse",e)},move:function(e){return null==e&&(e={}),this.x=this.x-e.xDiff,this.y=this.y-e.yDiff},setUpperLeft:function(e){return null==e&&(e={}),this.x=e.x,this.y=e.y}}),f("Line",{constructor:function(e){return null==e&&(e={}),this.x1=e.x1||0,this.y1=e.y1||0,this.x2=e.x2||0,this.y2=e.y2||0,this.strokeWidth=e.strokeWidth||1,this.color=e.color||"black",this.capStyle=e.capStyle||"round",this.endCapShapes=e.endCapShapes||[null,null],this.dash=e.dash||null},getBoundingRect:function(){return{x:Math.min(this.x1,this.x2)-this.strokeWidth/2,y:Math.min(this.y1,this.y2)-this.strokeWidth/2,width:Math.abs(this.x2-this.x1)+this.strokeWidth/2,height:Math.abs(this.y2-this.y1)+this.strokeWidth/2}},toJSON:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,strokeWidth:this.strokeWidth,color:this.color,capStyle:this.capStyle,dash:this.dash,endCapShapes:this.endCapShapes}},fromJSON:function(e){return d("Line",e)},move:function(e){return null==e&&(e={}),this.x1=this.x1-e.xDiff,this.y1=this.y1-e.yDiff,this.x2=this.x2-e.xDiff,this.y2=this.y2-e.yDiff},setUpperLeft:function(e){var t,o,n;return null==e&&(e={}),o=(t=this.getBoundingRect()).x-e.x,n=t.y-e.y,this.move({xDiff:o,yDiff:n})}}),r=function(e){var t,o,n,i,a;if(!e.length)return!1;for(a=e[0].size,t=e[0].color,i=0,o=e.length;i<o;i++)if((n=e[i]).size===a&&n.color===t||console.log(a,t,n.size,n.color),n.size!==a||n.color!==t)return!1;return!0},i=function(e,a){var i,t,o,r,s;return t=null,a.points?t=function(){var e,t,o,n;for(n=[],t=0,e=(o=a.points).length;t<e;t++)i=o[t],n.push(A(i));return n}():a.pointCoordinatePairs&&(t=function(){var e,t,o,n,i;for(i=[],t=0,e=(o=a.pointCoordinatePairs).length;t<e;t++)n=o[t],r=n[0],s=n[1],i.push(A({className:"Point",data:{x:r,y:s,size:a.pointSize,color:a.pointColor,smooth:a.smooth}}));return i}()),o=null,a.smoothedPointCoordinatePairs&&(o=function(){var e,t,o,n,i;for(i=[],t=0,e=(o=a.smoothedPointCoordinatePairs).length;t<e;t++)n=o[t],r=n[0],s=n[1],i.push(A({className:"Point",data:{x:r,y:s,size:a.pointSize,color:a.pointColor,smooth:a.smooth}}));return i}()),t[0]?d(e,{points:t,smoothedPoints:o,order:a.order,tailSize:a.tailSize,smooth:a.smooth}):null},f("LinePath",p={constructor:function(e){var t,o,n,i,a;if(null==e&&(e={}),n=e.points||[],this.order=e.order||3,this.tailSize=e.tailSize||3,this.smooth=!("smooth"in e)||e.smooth,this.segmentSize=Math.pow(2,this.order),this.sampleSize=this.tailSize+1,e.smoothedPoints)return this.points=e.points,this.smoothedPoints=e.smoothedPoints;for(this.points=[],a=[],i=0,t=n.length;i<t;i++)o=n[i],a.push(this.addPoint(o));return a},getBoundingRect:function(){return B.getBoundingRect(this.points.map(function(e){return{x:e.x-e.size/2,y:e.y-e.size/2,width:e.size,height:e.size}}))},toJSON:function(){var i,a;return r(this.points)?{order:this.order,tailSize:this.tailSize,smooth:this.smooth,pointCoordinatePairs:function(){var e,t,o,n;for(n=[],t=0,e=(o=this.points).length;t<e;t++)a=o[t],n.push([a.x,a.y]);return n}.call(this),smoothedPointCoordinatePairs:function(){var e,t,o,n;for(n=[],t=0,e=(o=this.smoothedPoints).length;t<e;t++)a=o[t],n.push([a.x,a.y]);return n}.call(this),pointSize:this.points[0].size,pointColor:this.points[0].color}:{order:this.order,tailSize:this.tailSize,smooth:this.smooth,points:function(){var e,t,o,n;for(n=[],t=0,e=(o=this.points).length;t<e;t++)i=o[t],n.push(w(i));return n}.call(this)}},fromJSON:function(e){return i("LinePath",e)},addPoint:function(e){if(this.points.push(e),this.smooth)return!this.smoothedPoints||this.points.length<this.sampleSize?this.smoothedPoints=c(this.points,this.order):(this.tail=B.last(c(B.last(this.points,this.sampleSize),this.order),this.segmentSize*this.tailSize),this.smoothedPoints=this.smoothedPoints.slice(0,this.smoothedPoints.length-this.segmentSize*(this.tailSize-1)).concat(this.tail));this.smoothedPoints=this.points},move:function(e){var t,o,n;for(null==e&&(e={}),n=0,t=(o=this.smooth?this.smoothedPoints:this.points).length;n<t;n++)o[n].move(e);return this.points=this.smoothedPoints},setUpperLeft:function(e){var t,o,n;return null==e&&(e={}),o=(t=this.getBoundingRect()).x-e.x,n=t.y-e.y,this.move({xDiff:o,yDiff:n})}}),f("ErasedLinePath",{constructor:p.constructor,toJSON:p.toJSON,addPoint:p.addPoint,getBoundingRect:p.getBoundingRect,fromJSON:function(e){return i("ErasedLinePath",e)}}),f("Point",{constructor:function(e){return null==e&&(e={}),this.x=e.x||0,this.y=e.y||0,this.size=e.size||0,this.color=e.color||""},getBoundingRect:function(){return{x:this.x-this.size/2,y:this.y-this.size/2,width:this.size,height:this.size}},toJSON:function(){return{x:this.x,y:this.y,size:this.size,color:this.color}},fromJSON:function(e){return d("Point",e)},move:function(e){return null==e&&(e={}),this.x=this.x-e.xDiff,this.y=this.y-e.yDiff},setUpperLeft:function(e){return null==e&&(e={}),this.x=e.x,this.y=e.y}}),f("Polygon",{constructor:function(e){var t,o,n,i,a;for(null==e&&(e={}),this.points=e.points,this.fillColor=e.fillColor||"white",this.strokeColor=e.strokeColor||"black",this.strokeWidth=e.strokeWidth,this.dash=e.dash||null,null==e.isClosed&&(e.isClosed=!0),this.isClosed=e.isClosed,a=[],n=0,t=(i=this.points).length;n<t;n++)(o=i[n]).color=this.strokeColor,a.push(o.size=this.strokeWidth);return a},addPoint:function(e,t){return this.points.push(LC.createShape("Point",{x:e,y:t}))},getBoundingRect:function(){return B.getBoundingRect(this.points.map(function(e){return e.getBoundingRect()}))},toJSON:function(){return{strokeWidth:this.strokeWidth,fillColor:this.fillColor,strokeColor:this.strokeColor,dash:this.dash,isClosed:this.isClosed,pointCoordinatePairs:this.points.map(function(e){return[e.x,e.y]})}},fromJSON:function(n){return n.points=n.pointCoordinatePairs.map(function(e){var t,o;return t=e[0],o=e[1],d("Point",{x:t,y:o,size:n.strokeWidth,color:n.strokeColor})}),d("Polygon",n)},move:function(e){var t,o,n,i,a;for(null==e&&(e={}),a=[],n=0,t=(i=this.points).length;n<t;n++)o=i[n],a.push(o.move(e));return a},setUpperLeft:function(e){var t,o,n;return null==e&&(e={}),o=(t=this.getBoundingRect()).x-e.x,n=t.y-e.y,this.move({xDiff:o,yDiff:n})}}),f("Text",{constructor:function(e){return null==e&&(e={}),this.x=e.x||0,this.y=e.y||0,this.v=e.v||0,this.text=e.text||"",this.color=e.color||"black",this.font=e.font||"18px sans-serif",this.forcedWidth=e.forcedWidth||null,this.forcedHeight=e.forcedHeight||null},_makeRenderer:function(e){if(e.lineHeight=1.2,this.renderer=new n(e,this.text,this.font,this.forcedWidth,this.forcedHeight),this.v<1)return console.log("repairing baseline"),this.v=1,this.x-=this.renderer.metrics.bounds.minx,this.y-=this.renderer.metrics.leading-this.renderer.metrics.descent},setText:function(e){return this.text=e,this.renderer=null},setFont:function(e){return this.font=e,this.renderer=null},setPosition:function(e,t){return this.x=e,this.y=t},setSize:function(e,t){return this.forcedWidth=Math.max(e,0),this.forcedHeight=Math.max(t,0),this.renderer=null},enforceMaxBoundingRect:function(e){var t,o,n;if(t=this.getBoundingRect(e.ctx),n={x:-e.position.x/e.scale,y:-e.position.y/e.scale,width:e.canvas.width/e.scale,height:e.canvas.height/e.scale},t.x+t.width>n.x+n.width)return o=t.x-n.x,this.forcedWidth=n.width-o-10,this.renderer=null},getBoundingRect:function(e,t){if(null==t&&(t=!1),!this.renderer){if(!e)throw"Must pass ctx if text hasn't been rendered yet";this._makeRenderer(e)}return{x:Math.floor(this.x),y:Math.floor(this.y),width:Math.ceil(this.renderer.getWidth(!0)),height:Math.ceil(this.renderer.getHeight())}},toJSON:function(){return{x:this.x,y:this.y,text:this.text,color:this.color,font:this.font,forcedWidth:this.forcedWidth,forcedHeight:this.forcedHeight,v:this.v}},fromJSON:function(e){return d("Text",e)},move:function(e){return null==e&&(e={}),this.x=this.x-e.xDiff,this.y=this.y-e.yDiff},setUpperLeft:function(e){return null==e&&(e={}),this.x=e.x,this.y=e.y}}),f("SelectionBox",{constructor:function(e){return null==e&&(e={}),this.shape=e.shape,null!=e.handleSize?this.handleSize=e.handleSize:this.handleSize=10,this.margin=4,this.backgroundColor=e.backgroundColor||null,this._br=this.shape.getBoundingRect(e.ctx)},toJSON:function(){return{shape:w(this.shape),backgroundColor:this.backgroundColor}},fromJSON:function(e){var t,o;return o=e.shape,e.handleSize,e.margin,t=e.backgroundColor,d("SelectionBox",{shape:A(o),backgroundColor:t})},getTopLeftHandleRect:function(){return{x:this._br.x-this.handleSize-this.margin,y:this._br.y-this.handleSize-this.margin,width:this.handleSize,height:this.handleSize}},getBottomLeftHandleRect:function(){return{x:this._br.x-this.handleSize-this.margin,y:this._br.y+this._br.height+this.margin,width:this.handleSize,height:this.handleSize}},getTopRightHandleRect:function(){return{x:this._br.x+this._br.width+this.margin,y:this._br.y-this.handleSize-this.margin,width:this.handleSize,height:this.handleSize}},getBottomRightHandleRect:function(){return{x:this._br.x+this._br.width+this.margin,y:this._br.y+this._br.height+this.margin,width:this.handleSize,height:this.handleSize}},getBoundingRect:function(){return{x:this._br.x-this.margin,y:this._br.y-this.margin,width:this._br.width+2*this.margin,height:this._br.height+2*this.margin}}}),t.exports={defineShape:f,createShape:d,JSONToShape:A,shapeToJSON:w}},{"./TextRenderer":2,"./canvasRenderer":5,"./lineEndCapShapes":8,"./svgRenderer":14,"./util":15}],14:[function(e,t,o){var n,A,i,a;A=e("./lineEndCapShapes"),a={},i=function(e,t){if(null==t&&(t={}),null==t.shouldIgnoreUnsupportedShapes&&(t.shouldIgnoreUnsupportedShapes=!1),a[e.className])return a[e.className](e);if(t.shouldIgnoreUnsupportedShapes)return console.warn("Can't render shape of type "+e.className+" to SVG"),"";throw"Can't render shape of type "+e.className+" to SVG"},(n=function(e,t){return a[e]=t})("Rectangle",function(e){var t,o,n,i,a,r,s,A;return i=e.x,s=e.y,a=e.x+e.width,A=e.y+e.height,n=Math.min(i,a),r=Math.min(s,A),o=Math.max(i,a)-n,t=Math.max(s,A)-r,e.strokeWidth%2!=0&&(n+=.5,r+=.5),"<rect x='"+n+"' y='"+r+"' width='"+o+"' height='"+t+"' stroke='"+e.strokeColor+"' fill='"+e.fillColor+"' stroke-width='"+e.strokeWidth+"' />"}),n("SelectionBox",function(e){return""}),n("Ellipse",function(e){var t,o;return o=Math.floor(e.width/2),t=Math.floor(e.height/2),"<ellipse cx='"+(e.x+o)+"' cy='"+(e.y+t)+"' rx='"+Math.abs(o)+"' ry='"+Math.abs(t)+"' stroke='"+e.strokeColor+"' fill='"+e.fillColor+"' stroke-width='"+e.strokeWidth+"' />"}),n("Image",function(e){return"<image x='"+e.x+"' y='"+e.y+"' width='"+e.image.naturalWidth*e.scale+"' height='"+e.image.naturalHeight*e.scale+"' xlink:href='"+e.image.src+"' />"}),n("Line",function(e){var t,o,n,i,a,r,s;return n=e.dash?"stroke-dasharray='"+e.dash.join(", ")+"'":"",o="",t=Math.max(2.2*e.strokeWidth,5),i=e.x1,a=e.x2,r=e.y1,s=e.y2,e.strokeWidth%2!=0&&(i+=.5,a+=.5,r+=.5,s+=.5),e.endCapShapes[0]&&(o+=A[e.endCapShapes[0]].svg(i,r,Math.atan2(r-s,i-a),t,e.color)),e.endCapShapes[1]&&(o+=A[e.endCapShapes[1]].svg(a,s,Math.atan2(s-r,a-i),t,e.color)),"<g> <line x1='"+i+"' y1='"+r+"' x2='"+a+"' y2='"+s+"' "+n+" stroke-linecap='"+e.capStyle+"' stroke='"+e.color+" 'stroke-width='"+e.strokeWidth+"' /> "+o+" </g>"}),n("LinePath",function(e){return"<polyline fill='none' points='"+e.smoothedPoints.map(function(e){var t;return t=e.strokeWidth%2==0?0:.5,e.x+t+","+(e.y+t)}).join(" ")+"' stroke='"+e.points[0].color+"' stroke-linecap='round' stroke-width='"+e.points[0].size+"' />"}),n("ErasedLinePath",function(e){return""}),n("Polygon",function(e){return e.isClosed?"<polygon fill='"+e.fillColor+"' points='"+e.points.map(function(e){var t;return t=e.strokeWidth%2==0?0:.5,e.x+t+","+(e.y+t)}).join(" ")+"' stroke='"+e.strokeColor+"' stroke-width='"+e.strokeWidth+"' />":"<polyline fill='"+e.fillColor+"' points='"+e.points.map(function(e){var t;return t=e.strokeWidth%2==0?0:.5,e.x+t+","+(e.y+t)}).join(" ")+"' stroke='none' /> <polyline fill='none' points='"+e.points.map(function(e){var t;return t=e.strokeWidth%2==0?0:.5,e.x+t+","+(e.y+t)}).join(" ")+"' stroke='"+e.strokeColor+"' stroke-width='"+e.strokeWidth+"' />"}),n("Text",function(n){var e,t,o;return o=n.forcedWidth?"width='"+n.forcedWidth+"px'":"",e=n.forcedHeight?"height='"+n.forcedHeight+"px'":"",t=n.text.split(/\r\n|\r|\n/g),n.renderer&&(t=n.renderer.lines),"<text x='"+n.x+"' y='"+n.y+"' "+o+" "+e+" fill='"+n.color+"' style='font: "+n.font+";'> "+t.map(function(e,t){var o;return o=0===t?0:"1.2em","<tspan x='"+n.x+"' dy='"+o+"' alignment-baseline='text-before-edge'> "+e+" </tspan>"}).join("")+" </text>"}),t.exports={defineSVGRenderer:n,renderShapeToSVG:i}},{"./lineEndCapShapes":8}],15:[function(e,t,o){var A,s,n,r,i,l=[].slice;n=Array.prototype.slice,A=e("./canvasRenderer").renderShapeToContext,s=e("./svgRenderer").renderShapeToSVG,r={addImageOnload:function(e,t){var o;return o=e.onload,e.onload=function(){return"function"==typeof o&&o(),t()},e},last:function(e,t){return null==t&&(t=null),t?n.call(e,Math.max(e.length-t,0)):e[e.length-1]},classSet:function(e){var t,o;for(o in t=[],e)e[o]&&t.push(o);return t.join(" ")},matchElementSize:function(n,i,e,a){var t;return null==a&&(a=function(){}),t=function(){var e,t,o;for(t=0,o=i.length;t<o;t++)(e=i[t]).style.width=n.offsetWidth+"px",e.style.height=n.offsetHeight+"px",null!=e.width&&(e.setAttribute("width",n.offsetWidth),e.setAttribute("height",n.offsetHeight));return a()},n.addEventListener("resize",t),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),t(),t},combineCanvases:function(){var e,t,o,n,i,a,r,s;for(o=1<=arguments.length?l.call(arguments,0):[],(e=document.createElement("canvas")).width=o[0].width,e.height=o[0].height,i=0,r=o.length;i<r;i++)t=o[i],e.width=Math.max(t.width,e.width),e.height=Math.max(t.height,e.height);for(n=e.getContext("2d"),a=0,s=o.length;a<s;a++)t=o[a],n.drawImage(t,0,0);return e},renderShapes:function(e,t,o,n){var i,a,r,s;for(null==o&&(o=1),null==n&&(n=null),(n=n||document.createElement("canvas")).width=t.width*o,n.height=t.height*o,(i=n.getContext("2d")).translate(-t.x*o,-t.y*o),i.scale(o,o),a=0,r=e.length;a<r;a++)s=e[a],A(i,s);return n},renderShapesToSVG:function(e,t,o){var n,i,a,r;return a=t.x,r=t.y,("<svg xmlns='http://www.w3.org/2000/svg' width='"+(i=t.width)+"' height='"+(n=t.height)+"' viewBox='0 0 "+i+" "+n+"'> <rect width='"+i+"' height='"+n+"' x='0' y='0' fill='"+o+"' /> <g transform='translate("+-a+", "+-r+")'> "+e.map(s).join("")+" </g> </svg>").replace(/(\r\n|\n|\r)/gm,"")},getBoundingRect:function(e,t,o){var n,i,a,r,s,A,l;if(!e.length)return{x:0,y:0,width:t,height:o};for(s=e[0].x,A=e[0].y,a=e[0].x+e[0].width,r=e[0].y+e[0].height,n=0,i=e.length;n<i;n++)l=e[n],s=Math.floor(Math.min(l.x,s)),A=Math.floor(Math.min(l.y,A)),a=Math.ceil(Math.max(a,l.x+l.width)),r=Math.ceil(Math.max(r,l.y+l.height));return{x:s=t?0:s,y:A=o?0:A,width:(a=t||a)-s,height:(r=o||r)-A}},getDefaultImageRect:function(e,t,o){var n,i,a;return null==t&&(t={width:0,height:0}),null==o&&(o={top:0,right:0,bottom:0,left:0}),a=t.width,n=t.height,(i=r.getBoundingRect(e,"infinite"===a?0:a,"infinite"===n?0:n)).x-=o.left,i.y-=o.top,i.width+=o.left+o.right,i.height+=o.top+o.bottom,i},getBackingScale:function(e){return null==window.devicePixelRatio?1:1<window.devicePixelRatio?window.devicePixelRatio:1},getGUID:(i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},function(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}),requestAnimationFrame:function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):setTimeout(e,0)},cancelAnimationFrame:function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):clearTimeout(e)}},t.exports=r},{"./canvasRenderer":5,"./svgRenderer":14}],16:[function(e,t,o){function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}n.prototype=window.CustomEvent.prototype,window.CustomEvent=n},{}],17:[function(e,t,o){var n=!1;CanvasRenderingContext2D.prototype.setLineDash||(CanvasRenderingContext2D.prototype.setLineDash=function(){n||(console.warn("context2D.setLineDash is a no-op in this browser."),n=!0)}),t.exports=null},{}],18:[function(e,t,o){var c,n,i,a,s,r,A,l,d,u,h,f,p,g,m,y,v;e("./ie_customevent"),e("./ie_setLineDash"),c=e("./core/LiterallyCanvas"),s=e("./core/defaultOptions"),i=e("./core/canvasRenderer"),m=e("./core/svgRenderer"),g=e("./core/shapes"),v=e("./core/util"),h=e("./core/renderSnapshotToImage"),f=e("./core/renderSnapshotToSVG"),d=e("./core/localization").localize,a={snapshotToShapes:function(e){var t,o,n,i,a;for(i=[],t=0,o=(n=e.shapes).length;t<o;t++)a=n[t],i.push(g.JSONToShape(a));return i},snapshotJSONToShapes:function(e){return a.snapshotToShapes(JSON.parse(e))}},n=e("./tools/base"),y={Pencil:e("./tools/Pencil"),Eraser:e("./tools/Eraser"),Line:e("./tools/Line"),Rectangle:e("./tools/Rectangle"),Ellipse:e("./tools/Ellipse"),Text:e("./tools/Text"),Polygon:e("./tools/Polygon"),Pan:e("./tools/Pan"),Eyedropper:e("./tools/Eyedropper"),SelectShape:e("./tools/SelectShape"),Tool:n.Tool,ToolWithStroke:n.ToolWithStroke},r=s.tools,s.imageURLPrefix,p=function(e){return e,s.imageURLPrefix=e},A=function(e,t){var o,n,i,a,r;for(a in null==t&&(t={}),s)a in t||(t[a]=s[a]);for(n=0,i=(r=e.children).length;n<i;n++)o=r[n],e.removeChild(o);return l(e,t)},l=function(n,e){var t,i,a;a=n.className,-1===[" "," "].join(n.className).indexOf(" literally ")&&(n.className=n.className+" literally"),n.className=n.className+" toolbar-hidden",(t=document.createElement("div")).className="lc-drawing",n.appendChild(t);var o=document.createElement("div");o.className="custom-canvas-background",o.id="customCanvasView",t.appendChild(o);var r=document.createElement("div");r.className="draw-permission",n.appendChild(r);var s=document.createElement("div");s.className="temporary-draw-permission",n.appendChild(s);var A=document.createElement("span");A.className="laser-mark",n.appendChild(A);var l=document.createElement("div");return l.className="literally-data-loading-wrap",l.style.zIndex=100,l.style.display="none",n.appendChild(l),(i=new c(t,e)).customCanvasBackgroundElement=o,i.loadingElement=l,i.watermarkImageToLcBackground=void 0===e.watermarkImageToLcBackground||e.watermarkImageToLcBackground,t.setAttribute("watermarkImageToLcBackground",i.watermarkImageToLcBackground),i.isDrawAble?(r.className=r.className.replace(/( yes| no)/g,""),r.className+=" yes"):(r.className=r.className.replace(/( yes| no)/g,""),r.className+=" no"),i.isTmpDrawAble?(s.className=s.className.replace(/( yes| no)/g,""),s.className+=" yes"):(s.className=s.className.replace(/( yes| no)/g,""),s.className+=" no"),i.teardown=function(){var e,t,o;try{for(i._teardown(),t=(o=n.children).length-1;0<=t;t--)(e=o[t])&&n.removeChild(e);return n.className=a}catch(e){return void console.error("tk_lc error:",e)}},"onInit"in e&&e.onInit(i),i},u=function(e){return e.fn.literallycanvas=function(o){return null==o&&(o={}),this.each(function(e,t){return t.literallycanvas=A(t,o)}),this}},"undefined"!=typeof window&&(window.LC={init:A},window.$&&u(window.$)),t.exports={init:A,registerJQueryPlugin:u,util:v,tools:y,setDefaultImageURLPrefix:p,defaultTools:r,defineShape:g.defineShape,createShape:g.createShape,JSONToShape:g.JSONToShape,shapeToJSON:g.shapeToJSON,defineCanvasRenderer:i.defineCanvasRenderer,renderShapeToContext:i.renderShapeToContext,renderShapeToCanvas:i.renderShapeToCanvas,renderShapesToCanvas:v.renderShapes,defineSVGRenderer:m.defineSVGRenderer,renderShapeToSVG:m.renderShapeToSVG,renderShapesToSVG:v.renderShapesToSVG,snapshotToShapes:a.snapshotToShapes,snapshotJSONToShapes:a.snapshotJSONToShapes,renderSnapshotToImage:h,renderSnapshotToSVG:f,localize:d}},{"./core/LiterallyCanvas":1,"./core/canvasRenderer":5,"./core/defaultOptions":6,"./core/localization":9,"./core/renderSnapshotToImage":11,"./core/renderSnapshotToSVG":12,"./core/shapes":13,"./core/svgRenderer":14,"./core/util":15,"./ie_customevent":16,"./ie_setLineDash":17,"./tools/Ellipse":19,"./tools/Eraser":20,"./tools/Eyedropper":21,"./tools/Line":22,"./tools/Pan":23,"./tools/Pencil":24,"./tools/Polygon":25,"./tools/Rectangle":26,"./tools/SelectShape":27,"./tools/Text":28,"./tools/base":29}],19:[function(e,t,o){var n,i,a={}.hasOwnProperty;function r(){return r.__super__.constructor.apply(this,arguments)}n=e("./base").ToolWithStroke,i=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,n),r.prototype.name="Ellipse",r.prototype.iconName="ellipse",r.prototype.begin=function(e,t,o){return this.currentShape=i("Ellipse",{x:e,y:t,strokeWidth:this.strokeWidth,strokeColor:o.getColor("primary"),fillColor:o.getColor("secondary")})},r.prototype.continue=function(e,t,o){return this.currentShape.width=e-this.currentShape.x,this.currentShape.height=t-this.currentShape.y,o.drawShapeInProgress(this.currentShape)},r.prototype.end=function(e,t,o){return o.saveShape(this.currentShape)},r)},{"../core/shapes":13,"./base":29}],20:[function(e,t,o){var n,i,a={}.hasOwnProperty;function r(){return r.__super__.constructor.apply(this,arguments)}n=e("./Pencil"),i=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,n),r.prototype.name="Eraser",r.prototype.iconName="eraser",r.prototype.makePoint=function(e,t,o){return i("Point",{x:e,y:t,size:this.strokeWidth,color:"#000"})},r.prototype.makeShape=function(){return i("ErasedLinePath")},r)},{"../core/shapes":13,"./Pencil":24}],21:[function(e,t,o){var n,r,i={}.hasOwnProperty;function a(e){a.__super__.constructor.call(this,e),this.strokeOrFill="stroke"}n=e("./base").Tool,r=function(e,t){var o,n,i;return n=t.x,i=t.y,(o=e.getImageData(n,i,1,1).data)[3]?"rgb("+o[0]+", "+o[1]+", "+o[2]+")":null},t.exports=(function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.name="Eyedropper",a.prototype.iconName="eyedropper",a.prototype.optionsStyle="stroke-or-fill",a.prototype.readColor=function(e,t,o){var n,i,a;return a=o.getDefaultImageRect(),n=o.getImage(),(i=r(n.getContext("2d"),{x:e-a.x,y:t-a.y}))||o.getColor("background"),"stroke"===this.strokeOrFill?o.setColor("primary",i):o.setColor("secondary",i)},a.prototype.begin=function(e,t,o){return this.readColor(e,t,o)},a.prototype.continue=function(e,t,o){return this.readColor(e,t,o)},a)},{"./base":29}],22:[function(e,t,o){var n,i,a={}.hasOwnProperty;function r(){return r.__super__.constructor.apply(this,arguments)}n=e("./base").ToolWithStroke,i=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,n),r.prototype.name="Line",r.prototype.iconName="line",r.prototype.optionsStyle="line-options-and-stroke-width",r.prototype.begin=function(e,t,o){return this.currentShape=i("Line",{x1:e,y1:t,x2:e,y2:t,strokeWidth:this.strokeWidth,dash:function(){switch(!1){case!this.isDashed:return[2*this.strokeWidth,4*this.strokeWidth];default:return null}}.call(this),endCapShapes:this.hasEndArrow?[null,"arrow"]:null,color:o.getColor("primary")})},r.prototype.continue=function(e,t,o){return this.currentShape.x2=e,this.currentShape.y2=t,o.drawShapeInProgress(this.currentShape)},r.prototype.end=function(e,t,o){return o.saveShape(this.currentShape)},r)},{"../core/shapes":13,"./base":29}],23:[function(e,t,o){var n,i={}.hasOwnProperty;function a(){return a.__super__.constructor.apply(this,arguments)}n=e("./base").Tool,e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.name="Pan",a.prototype.iconName="pan",a.prototype.usesSimpleAPI=!1,a.prototype.didBecomeActive=function(i){var a,n,r;return a=[],this.unsubscribe=function(){var e,t,o,n;for(n=[],t=0,o=a.length;t<o;t++)e=a[t],n.push(e());return n},a.push(i.on("lc-pointerdown",(n=this,function(e){var t,o;return t=e.rawX,o=e.rawY,n.oldPosition=i.position,n.pointerStart={x:t,y:o}}))),a.push(i.on("lc-pointerdrag",(r=this,function(e){var t,o,n;return o=e.rawX,n=e.rawY,t={x:(o-r.pointerStart.x)*i.backingScale,y:(n-r.pointerStart.y)*i.backingScale},i.setPan(r.oldPosition.x+t.x,r.oldPosition.y+t.y)})))},a.prototype.willBecomeInactive=function(e){return this.unsubscribe()},a)},{"../core/shapes":13,"./base":29}],24:[function(e,t,o){var n,i,a={}.hasOwnProperty;function r(){return r.__super__.constructor.apply(this,arguments)}n=e("./base").ToolWithStroke,i=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,n),r.prototype.name="Pencil",r.prototype.iconName="pencil",r.prototype.eventTimeThreshold=10,r.prototype.begin=function(e,t,o){return this.color=o.getColor("primary"),this.currentShape=this.makeShape(),this.currentShape.addPoint(this.makePoint(e,t,o)),this.lastEventTime=Date.now()},r.prototype.continue=function(e,t,o){var n;if((n=Date.now()-this.lastEventTime)>this.eventTimeThreshold)return this.lastEventTime+=n,this.currentShape.addPoint(this.makePoint(e,t,o)),o.drawShapeInProgress(this.currentShape)},r.prototype.end=function(e,t,o){return o.saveShape(this.currentShape),this.currentShape=void 0},r.prototype.makePoint=function(e,t,o){return i("Point",{x:e,y:t,size:this.strokeWidth,color:this.color})},r.prototype.makeShape=function(){return i("LinePath")},r)},{"../core/shapes":13,"./base":29}],25:[function(e,t,o){var n,i,a={}.hasOwnProperty;function p(){return p.__super__.constructor.apply(this,arguments)}n=e("./base").ToolWithStroke,i=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(p,n),p.prototype.name="Polygon",p.prototype.iconName="polygon",p.prototype.usesSimpleAPI=!1,p.prototype.didBecomeActive=function(n){var e,t,o,i,a,r,s,A,l,c,d,u,h,f;return p.__super__.didBecomeActive.call(this,n),s=[],this.polygonUnsubscribe=function(){var e,t,o,n;for(n=[],t=0,o=s.length;t<o;t++)e=s[t],n.push(e());return n},this.points=null,this.maybePoint=null,o=function(){return A._getWillFinish()?A._close(n):(n.trigger("lc-polygon-started"),A.points?A.points.push(A.maybePoint):A.points=[A.maybePoint],A.maybePoint={x:A.maybePoint.x,y:A.maybePoint.y},n.setShapesInProgress(A._getShapes(n)),n.repaintLayer("main"))},t=function(e){var t,o;if(t=e.x,o=e.y,l.maybePoint)return l.maybePoint.x=t,l.maybePoint.y=o,n.setShapesInProgress(l._getShapes(n)),n.repaintLayer("main")},e=function(e){var t,o;return t=e.x,o=e.y,c.maybePoint={x:t,y:o},n.setShapesInProgress(c._getShapes(n)),n.repaintLayer("main")},r=function(){return d.maybePoint={x:1/0,y:1/0},d._close(n)},a=function(){return u.maybePoint=u.points[0],u._close(n)},h=u=d=c=l=A=this,i=function(){return h._cancel(n)},s.push(n.on("drawingChange",(f=this,function(){return f._cancel(n)}))),s.push(n.on("lc-pointerdown",e)),s.push(n.on("lc-pointerdrag",t)),s.push(n.on("lc-pointermove",t)),s.push(n.on("lc-pointerup",o)),s.push(n.on("lc-polygon-finishopen",r)),s.push(n.on("lc-polygon-finishclosed",a)),s.push(n.on("lc-polygon-cancel",i))},p.prototype.willBecomeInactive=function(e){return p.__super__.willBecomeInactive.call(this,e),(this.points||this.maybePoint)&&this._cancel(e),this.polygonUnsubscribe()},p.prototype._getArePointsClose=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<10},p.prototype._getWillClose=function(){return!!(this.points&&1<this.points.length)&&!!this.maybePoint&&this._getArePointsClose(this.points[0],this.maybePoint)},p.prototype._getWillFinish=function(){return!!(this.points&&1<this.points.length)&&!!this.maybePoint&&(this._getArePointsClose(this.points[0],this.maybePoint)||this._getArePointsClose(this.points[this.points.length-1],this.maybePoint))},p.prototype._cancel=function(e){return e.trigger("lc-polygon-stopped"),this.maybePoint=null,this.points=null,e.setShapesInProgress([]),e.repaintLayer("main")},p.prototype._close=function(e){return e.trigger("lc-polygon-stopped"),e.setShapesInProgress([]),2<this.points.length&&e.saveShape(this._getShape(e,!1)),this.maybePoint=null,this.points=null},p.prototype._getShapes=function(e,t){var o;return null==t&&(t=!0),(o=this._getShape(e,t))?[o]:[]},p.prototype._getShape=function(e,t){var o;return null==t&&(t=!0),o=[],this.points&&(o=o.concat(this.points)),!t&&o.length<3?null:(t&&this.maybePoint&&o.push(this.maybePoint),1<o.length?i("Polygon",{isClosed:this._getWillClose(),strokeColor:e.getColor("primary"),fillColor:e.getColor("secondary"),strokeWidth:this.strokeWidth,points:o.map(function(e){return i("Point",e)})}):null)},p.prototype.optionsStyle="polygon-and-stroke-width",p)},{"../core/shapes":13,"./base":29}],26:[function(e,t,o){var n,i,a={}.hasOwnProperty;function r(){return r.__super__.constructor.apply(this,arguments)}n=e("./base").ToolWithStroke,i=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,n),r.prototype.name="Rectangle",r.prototype.iconName="rectangle",r.prototype.begin=function(e,t,o){return this.currentShape=i("Rectangle",{x:e,y:t,strokeWidth:this.strokeWidth,strokeColor:o.getColor("primary"),fillColor:o.getColor("secondary")})},r.prototype.continue=function(e,t,o){return this.currentShape.width=e-this.currentShape.x,this.currentShape.height=t-this.currentShape.y,o.drawShapeInProgress(this.currentShape)},r.prototype.end=function(e,t,o){return o.saveShape(this.currentShape)},r)},{"../core/shapes":13,"./base":29}],27:[function(e,t,o){var n,A,i={}.hasOwnProperty;function a(e){this.selectCanvas=document.createElement("canvas"),this.selectCanvas.style["background-color"]="transparent",this.selectCtx=this.selectCanvas.getContext("2d")}n=e("./base").Tool,A=e("../core/shapes").createShape,t.exports=(function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.name="SelectShape",a.prototype.usesSimpleAPI=!1,a.prototype.didBecomeActive=function(a){var e,t,o,i,r,n,s;return i=[],this._selectShapeUnsubscribe=function(){var e,t,o,n;for(n=[],t=0,o=i.length;t<o;t++)e=i[t],n.push(e());return n},e=function(e){var t,o,n,i;if(n=e.x,i=e.y,r.didDrag=!1,o=r._getPixel(n,i,a,r.selectCtx),r.selectedShape=a.shapes[o],null!=r.selectedShape)return a.trigger("shapeSelected",{selectedShape:r.selectedShape}),a.setShapesInProgress([r.selectedShape,A("SelectionBox",{shape:r.selectedShape,handleSize:0})]),a.repaintLayer("main"),t=r.selectedShape.getBoundingRect(),r.dragOffset={x:n-t.x,y:i-t.y}},t=function(e){var t,o;if(t=e.x,o=e.y,null!=n.selectedShape)return n.didDrag=!0,n.selectedShape.setUpperLeft({x:t-n.dragOffset.x,y:o-n.dragOffset.y}),a.setShapesInProgress([n.selectedShape,A("SelectionBox",{shape:n.selectedShape,handleSize:0})]),a.repaintLayer("main")},s=n=r=this,o=function(e){if(e.x,e.y,s.didDrag)return s.didDrag=!1,a.trigger("shapeMoved",{shape:s.selectedShape}),a.trigger("drawingChange",{}),a.repaintLayer("main"),s._drawSelectCanvas(a)},i.push(a.on("lc-pointerdown",e)),i.push(a.on("lc-pointerdrag",t)),i.push(a.on("lc-pointerup",o)),this._drawSelectCanvas(a)},a.prototype.willBecomeInactive=function(e){return this._selectShapeUnsubscribe(),e.setShapesInProgress([])},a.prototype._drawSelectCanvas=function(e){var t,o;return this.selectCanvas.width=e.canvas.width,this.selectCanvas.height=e.canvas.height,this.selectCtx.clearRect(0,0,this.selectCanvas.width,this.selectCanvas.height),t=e.shapes.map((o=this,function(e,t){return A("SelectionBox",{shape:e,handleSize:0,backgroundColor:"#"+o._intToHex(t)})})),e.draw(t,this.selectCtx)},a.prototype._intToHex=function(e){return("000000"+e.toString(16)).slice(-6)},a.prototype._getPixel=function(e,t,o,n){var i,a;return i=o.drawingCoordsToClientCoords(e,t),(a=n.getImageData(i.x,i.y,1,1).data)[3]?parseInt(this._rgbToHex(a[0],a[1],a[2]),16):null},a.prototype._componentToHex=function(e){return("0"+e.toString(16)).slice(-2)},a.prototype._rgbToHex=function(e,t,o){return""+this._componentToHex(e)+this._componentToHex(t)+this._componentToHex(o)},a)},{"../core/shapes":13,"./base":29}],28:[function(e,t,o){var n,r,s,i={}.hasOwnProperty;function a(){this.text="",this.font="bold 18px sans-serif",this.currentShape=null,this.currentShapeState=null,this.initialShapeBoundingRect=null,this.dragAction=null,this.didDrag=!1}n=e("./base").Tool,r=e("../core/shapes").createShape,s=function(e,t){return!(e.x<t.x)&&(!(e.y<t.y)&&(!(e.x>t.x+t.width)&&!(e.y>t.y+t.height)))},t.exports=(function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.name="Text",a.prototype.iconName="text",a.prototype.didBecomeActive=function(t){var i,e,o,n,a,r;return i=[],this.unsubscribe=function(){var e,t,o,n;for(n=[],t=0,o=i.length;t<o;t++)e=i[t],n.push(e());return n},o=this,e=function(){return o._updateInputEl(t)},i.push(t.on("zoom",e)),i.push(t.on("imageSizeChange",e)),i.push(t.on("snapshotLoad",(n=this,function(){return n._clearCurrentShape(t),t.repaintLayer("main")}))),i.push(t.on("primaryColorChange",(a=this,function(e){if(a.currentShape)return a.currentShape.color=e,a._updateInputEl(t),t.repaintLayer("main")}))),i.push(t.on("setFont",(r=this,function(e){if(r.currentShape)return r.font=e,r.currentShape.setFont(e),r._setShapesInProgress(t),r._updateInputEl(t),t.repaintLayer("main")})))},a.prototype.willBecomeInactive=function(e){return this.currentShape&&(this._ensureNotEditing(e),this.commit(e)),this.unsubscribe()},a.prototype.setText=function(e){return this.text=e},a.prototype._ensureNotEditing=function(e){if("editing"===this.currentShapeState)return this._exitEditingState(e)},a.prototype._clearCurrentShape=function(e){return this.currentShape=null,this.initialShapeBoundingRect=null,this.currentShapeState=null,e.setShapesInProgress([])},a.prototype.commit=function(e){return this.currentShape.text&&e.saveShape(this.currentShape),this._clearCurrentShape(e),e.repaintLayer("main")},a.prototype._getSelectionShape=function(e,t){return null==t&&(t=null),r("SelectionBox",{shape:this.currentShape,ctx:e,backgroundColor:t})},a.prototype._setShapesInProgress=function(e){switch(this.currentShapeState){case"selected":return e.setShapesInProgress([this._getSelectionShape(e.ctx),this.currentShape]);case"editing":return e.setShapesInProgress([this._getSelectionShape(e.ctx,"#fff")]);default:return e.setShapesInProgress([this.currentShape])}},a.prototype.begin=function(e,t,o){var n,i,a;if(this.dragAction="none",this.didDrag=!1,"selected"===this.currentShapeState||"editing"===this.currentShapeState?(n=this.currentShape.getBoundingRect(o.ctx),(a=this._getSelectionShape(o.ctx)).getBoundingRect(),s(i={x:e,y:t},n)&&(this.dragAction="move"),s(i,a.getBottomRightHandleRect())&&(this.dragAction="resizeBottomRight"),s(i,a.getTopLeftHandleRect())&&(this.dragAction="resizeTopLeft"),s(i,a.getBottomLeftHandleRect())&&(this.dragAction="resizeBottomLeft"),s(i,a.getTopRightHandleRect())&&(this.dragAction="resizeTopRight"),"none"===this.dragAction&&"editing"===this.currentShapeState&&(this.dragAction="stop-editing",this._exitEditingState(o))):(this.color=o.getColor("primary"),this.currentShape=r("Text",{x:e,y:t,text:this.text,color:this.color,font:this.font,v:1}),this.dragAction="place",this.currentShapeState="selected"),"none"!==this.dragAction)return this.initialShapeBoundingRect=this.currentShape.getBoundingRect(o.ctx),this.dragOffset={x:e-this.initialShapeBoundingRect.x,y:t-this.initialShapeBoundingRect.y},this._setShapesInProgress(o),o.repaintLayer("main");this.commit(o)},a.prototype.continue=function(e,t,o){var n,i,a;if("none"!==this.dragAction){switch(a=(n=this.initialShapeBoundingRect).x+n.width,i=n.y+n.height,this.dragAction){case"place":this.currentShape.x=e,this.currentShape.y=t,this.didDrag=!0;break;case"move":this.currentShape.x=e-this.dragOffset.x,this.currentShape.y=t-this.dragOffset.y,this.didDrag=!0;break;case"resizeBottomRight":this.currentShape.setSize(e-(this.dragOffset.x-this.initialShapeBoundingRect.width)-n.x,t-(this.dragOffset.y-this.initialShapeBoundingRect.height)-n.y);break;case"resizeTopLeft":this.currentShape.setSize(a-e+this.dragOffset.x,i-t+this.dragOffset.y),this.currentShape.setPosition(e-this.dragOffset.x,t-this.dragOffset.y);break;case"resizeBottomLeft":this.currentShape.setSize(a-e+this.dragOffset.x,t-(this.dragOffset.y-this.initialShapeBoundingRect.height)-n.y),this.currentShape.setPosition(e-this.dragOffset.x,this.currentShape.y);break;case"resizeTopRight":this.currentShape.setSize(e-(this.dragOffset.x-this.initialShapeBoundingRect.width)-n.x,i-t+this.dragOffset.y),this.currentShape.setPosition(this.currentShape.x,t-this.dragOffset.y)}return this._setShapesInProgress(o),o.repaintLayer("main"),this._updateInputEl(o)}},a.prototype.end=function(e,t,o){if(this.currentShape)return this.currentShape.setSize(this.currentShape.forcedWidth,0),"selected"===this.currentShapeState&&("place"!==this.dragAction&&("move"!==this.dragAction||this.didDrag)||this._enterEditingState(o)),this._setShapesInProgress(o),o.repaintLayer("main"),this._updateInputEl(o)},a.prototype._enterEditingState=function(t){var e,o,n;if(this.currentShapeState="editing",this.inputEl)throw"State error";return this.inputEl=document.createElement("textarea"),this.inputEl.className="text-tool-input",this.inputEl.style.position="absolute",this.inputEl.style.transformOrigin="0px 0px",this.inputEl.style.backgroundColor="transparent",this.inputEl.style.border="none",this.inputEl.style.outline="none",this.inputEl.style.margin="0",this.inputEl.style.padding="4px",this.inputEl.style.zIndex="1000",this.inputEl.style.overflow="hidden",this.inputEl.style.resize="none",this.inputEl.value=this.currentShape.text,this.inputEl.addEventListener("mousedown",function(e){return e.stopPropagation()}),this.inputEl.addEventListener("touchstart",function(e){return e.stopPropagation()}),e=function(e){return o.currentShape.setText(e.target.value),o.currentShape.enforceMaxBoundingRect(t),o._setShapesInProgress(t),t.repaintLayer("main"),o._updateInputEl(t),e.stopPropagation()},(o=this).inputEl.addEventListener("keydown",(n=this,function(){return n._updateInputEl(t,!0)})),this.inputEl.addEventListener("keyup",e),this.inputEl.addEventListener("change",e),this._updateInputEl(t),t.containerEl.appendChild(this.inputEl),this.inputEl.focus(),this._setShapesInProgress(t)},a.prototype._exitEditingState=function(e){return this.currentShapeState="selected",e.containerEl.removeChild(this.inputEl),this.inputEl=null,this._setShapesInProgress(e),e.repaintLayer("main")},a.prototype._updateInputEl=function(e,t){var o,n;if(null==t&&(t=!1),this.inputEl)return o=this.currentShape.getBoundingRect(e.ctx,!0),this.inputEl.style.font=this.currentShape.font,this.inputEl.style.color=this.currentShape.color,this.inputEl.style.left=e.position.x/e.backingScale+o.x*e.scale-4+"px",this.inputEl.style.top=e.position.y/e.backingScale+o.y*e.scale-4+"px",t&&!this.currentShape.forcedWidth?this.inputEl.style.width=o.width+10+this.currentShape.renderer.emDashWidth+"px":this.inputEl.style.width=o.width+12+"px",this.inputEl.style.height=t?o.height+10+this.currentShape.renderer.metrics.leading+"px":o.height+10+"px",n="scale("+e.scale+")",this.inputEl.style.transform=n,this.inputEl.style.webkitTransform=n,this.inputEl.style.MozTransform=n,this.inputEl.style.msTransform=n,this.inputEl.style.OTransform=n},a.prototype.optionsStyle="font",a)},{"../core/shapes":13,"./base":29}],29:[function(e,t,o){var n,i,a={}.hasOwnProperty;function r(){}function s(e){this.strokeWidth=e.opts.defaultStrokeWidth}(i={}).Tool=(r.prototype.name=null,r.prototype.iconName=null,r.prototype.usesSimpleAPI=!0,r.prototype.begin=function(e,t,o){},r.prototype.continue=function(e,t,o){},r.prototype.end=function(e,t,o){},r.prototype.optionsStyle=null,r.prototype.didBecomeActive=function(e){},r.prototype.willBecomeInactive=function(e){},n=r),i.ToolWithStroke=(function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,n),s.prototype.optionsStyle="stroke-width",s.prototype.didBecomeActive=function(t){var i,o;return i=[],this.unsubscribe=function(){var e,t,o,n;for(n=[],t=0,o=i.length;t<o;t++)e=i[t],n.push(e());return n},i.push(t.on("setStrokeWidth",(o=this,function(e){return o.strokeWidth=e,t.trigger("toolDidUpdateOptions")})))},s.prototype.willBecomeInactive=function(e){return this.unsubscribe()},s),t.exports=i},{}]},{},[18])(18)}),window.TalkSlider=function(h){var e={},f="",p="",g="",t="",o="",n="",u=!1,m=100,a=100,i=document.getElementById(h.sliderContainer.id);i.classList.add("custom-tk-volume-slider-container"),h.sliderContainer&&"vertikal"===h.sliderContainer.direction&&i.classList.add("vertikal"),(p=document.createElement("div")).classList.add("custom-tk-rc-slider","custom-tk-slider","custom-tk-detection-device"),"vertikal"===h.sliderContainer.direction&&p.classList.add("vertikal"),(n=document.createElement("div")).classList.add("custom-tk-rc-slider-rail"),"vertikal"===h.sliderContainer.direction&&n.classList.add("vertikal"),(g=document.createElement("div")).classList.add("custom-tk-rc-slider-track"),"vertikal"===h.sliderContainer.direction&&g.classList.add("vertikal"),(t=document.createElement("div")).classList.add("custom-tk-rc-slider-step"),"vertikal"===h.sliderContainer.direction&&t.classList.add("vertikal"),(f=document.createElement("div")).classList.add("custom-tk-rc-slider-handle"),"vertikal"===h.sliderContainer.direction&&f.classList.add("vertikal"),(o=document.createElement("div")).classList.add("custom-tk-rc-slider-mark"),"vertikal"===h.sliderContainer.direction&&o.classList.add("vertikal"),p.appendChild(n),p.appendChild(g),p.appendChild(t),p.appendChild(f),p.appendChild(o),i.appendChild(p);var y=document,v=window,w=Math;return p.onmousedown=function(e){if(u=!0,"vertikal"===h.sliderContainer.direction){h.onBeforeChange&&h.onBeforeChange(a);var t=(e||v.event).clientY,o=p.offsetHeight;100<(a=w.round((p.getBoundingClientRect().bottom-t)/o*100))?a=100:a<0&&(a=0),f.style.bottom=a+"%",g.style.height=a+"%",p.onmouseup=function(e){return u&&h.onAfterChange&&h.onAfterChange(a),e&&(e.preventDefault(),e.stopPropagation()),!1}}else{h.onBeforeChange&&h.onBeforeChange(a);var n=(e||v.event).clientX,i=p.offsetWidth;100<(a=w.round((n-p.getBoundingClientRect().left)/i*100))?a=100:a<0&&(a=0),f.style.left=a+"%",g.style.width=a+"%",p.onmouseup=function(){u&&h.onAfterChange&&h.onAfterChange(a)}}e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},f.onclick=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},f.onmousedown=function(e){var n=!1;if("vertikal"===h.sliderContainer.direction){h.onBeforeChange&&h.onBeforeChange(m);var i=(e||v.event).clientY,a=f.offsetTop,r=p.offsetHeight,s=f.offsetHeight,A=r-(u=r-s);document.onmousemove=function(e){var t=(e||v.event).clientY,o=w.min(u,w.max(-s,a+(t-i)));100<(m=100-w.round((o+A)/r*100))?m=100:m<0&&(m=0),f.style.bottom="calc(("+m+"%) - 3px)",g.style.height=m+"%",h.onChange&&h.onChange(m),v.getSelection?v.getSelection().removeAllRanges():y.selection.empty(),n=!0},document.onmouseup=function(){document.onmousemove=null,h.onAfterChange&&h.onAfterChange(m),document.onmouseup=null}}else{h.onBeforeChange&&n&&h.onBeforeChange(m);var l=(e||v.event).clientX,c=(a=f.offsetLeft,p.offsetWidth),d=f.offsetWidth,u=p.offsetWidth-this.offsetWidth;A=c-u;document.onmousemove=function(e){var t=(e||v.event).clientX,o=w.min(u,w.max(-d,a+(t-l)));100<(m=w.round((o+A)/c*100))?m=100:m<0&&(m=0),f.style.left=m+"%",g.style.width=m+"%",h.onChange&&h.onChange(m),v.getSelection?v.getSelection().removeAllRanges():y.selection.empty(),n=!0},document.onmouseup=function(){document.onmousemove=null,n&&h.onAfterChange&&h.onAfterChange(m),document.onmouseup=null}}e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},f.ontouchstart=function(e){if(u=!1,"vertikal"===h.sliderContainer.direction){h.onBeforeChange&&h.onBeforeChange(m);var n=(e||v.event).touches[0].clientY,i=f.offsetTop,a=p.offsetHeight,r=f.offsetHeight,s=a-(d=a-r);document.ontouchmove=function(e){var t=(e||v.event).touches[0].clientY,o=w.min(d,w.max(-r,i+(t-n)));100<(m=100-w.round((o+s)/a*100))?m=100:m<0&&(m=0),f.style.bottom="calc(("+m+"%) - 3px)",g.style.height=m+"%",h.onChange&&h.onChange(m),v.getSelection?v.getSelection().removeAllRanges():y.selection.empty()},document.ontouchend=function(){document.ontouchmove=null,h.onAfterChange&&h.onAfterChange(m),document.ontouchend=null}}else{h.onBeforeChange&&h.onBeforeChange(m);var A=(e||v.event).touches[0].clientX,l=(i=f.offsetLeft,p.offsetWidth),c=f.offsetWidth,d=p.offsetWidth-this.offsetWidth;s=l-d;f.ontouchmove=function(e){var t=(e||v.event).touches[0].clientX,o=w.min(d,w.max(-c,i+(t-A)));100<(m=w.round((o+s)/l*100))?m=100:m<0&&(m=0),f.style.left=m+"%",g.style.width=m+"%",h.onChange&&h.onChange(m),v.getSelection?v.getSelection().removeAllRanges():y.selection.empty()},document.ontouchend=function(){document.ontouchmove=null,h.onAfterChange&&h.onAfterChange(m),document.ontouchend=null}}e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},e.setProgress=function(e){void 0!==e&&("vertikal"===h.sliderContainer.direction?(f.style.bottom=e+"%",g.style.height=e+"%"):(f.style.left=e+"%",g.style.width=e+"%"))},e},window.TalkDrag=function(e,A){var l=this;if((A=A||{}).containerData=A.containerData||{},l.flag=!1,l.element=e,l.leftPercent=void 0!==A.containerData.left?A.containerData.left/100:0,l.topPercent=void 0!==A.containerData.top?A.containerData.top/100:0,l.disabled=void 0!==A.disabled&&A.disabled,"string"==typeof e&&(l.element=document.getElementById(e)),l.element)return void 0!==A.containerData.parentNodeID?(l.containerElement=A.containerData.parentNodeID,"string"==typeof A.containerData.parentNodeID&&(l.containerElement=document.getElementById(A.containerData.parentNodeID))):l.containerElement=l.element.parentNode,l.containerElement&&(l.containerElement.className=l.containerElement.className.replace("talk-cloud-drag-parent-container","")+" talk-cloud-drag-parent-container "),l.cur={x:0,y:0},l.updateDisabled=function(e){l.disabled=e},l.destroy=function(){window.removeEventListener("resize",l.resizeCallback,!1),l.element.removeEventListener("mousedown",l.mousedownOrTouchstartCallback,!1),l.element.removeEventListener("touchstart",l.mousedownOrTouchstartCallback,!1),l.element.removeEventListener("touchmove",l.mousemoveOrTouchmoveEventCallback,!1),l.element.removeEventListener("touchend",l.mouseupOrTouchendEventCallback,!1),document.documentElement.removeEventListener("mousemove",l.mousemoveOrTouchmoveEventCallback,!1),document.documentElement.removeEventListener("mouseup",l.mouseupOrTouchendEventCallback,!1)},l.resize=function(){l.element.style.left=(l.containerElement.offsetWidth-l.element.offsetWidth)*l.leftPercent+"px",l.element.style.top=(l.containerElement.offsetHeight-l.element.offsetHeight)*l.topPercent+"px"},l.setPosition=function(e,t){l.leftPercent=e/100,l.topPercent=t/100,l.element.style.left=(l.containerElement.offsetWidth-l.element.offsetWidth)*l.leftPercent+"px",l.element.style.top=(l.containerElement.offsetHeight-l.element.offsetHeight)*l.topPercent+"px"},l.down=function(e){var t;"mousedown"===e.type&&(document.documentElement.addEventListener("mousemove",l.mousemoveOrTouchmoveEventCallback,!1),document.documentElement.addEventListener("mouseup",l.mouseupOrTouchendEventCallback,!1)),l.element.setAttribute("talkDragState","onBeforeDrag"),l.containerElement&&l.containerElement.setAttribute("talkDragParentState","onBeforeDrag"),l.flag=!0,t=e.touches?e.touches[0]:e,l.cur.x=t.clientX,l.cur.y=t.clientY,l.dx=l.element.offsetLeft,l.dy=l.element.offsetTop,"mousedown"===e.type?A.onBeforeDrag&&A.onBeforeDrag(100*l.leftPercent,100*l.topPercent):"touchstart"===e.type&&(l.flag=!1,clearTimeout(l.downTimer),l.downTimer=setTimeout(function(){l.flag=!0,l.element.style.pointerEvents="none",l.element.style.boxShadow="0 0 0.2rem 0.05rem #222",l.element.style.transform="scale(1.05)",A.onBeforeDrag&&A.onBeforeDrag(100*l.leftPercent,100*l.topPercent)},500))},l.move=function(e){if("touchmove"===e.type){var t=Math.abs(e.touches[0].clientX-l.cur.x),o=Math.abs(e.touches[0].clientY-l.cur.y);40<=Math.hypot(t,o)&&(clearTimeout(l.downTimer),l.downTimer=void 0)}if(l.flag){var n;l.element.setAttribute("talkDragState","onDrag"),l.containerElement&&l.containerElement.setAttribute("talkDragParentState","onDrag"),n=e.touches?e.touches[0]:e,A.onDrag&&A.onDrag(100*l.leftPercent,100*l.topPercent);var i=l.containerElement.offsetWidth-l.element.offsetWidth,a=l.containerElement.offsetHeight-l.element.offsetHeight;l.nx=n.clientX-l.cur.x,l.ny=n.clientY-l.cur.y;var r=l.dx+l.nx,s=l.dy+l.ny;r=Math.min(Math.max(0,r),i),s=Math.min(Math.max(0,s),a);l.element.style.left=r+"px",l.element.style.top=s+"px",l.leftPercent=r/(l.containerElement.offsetWidth-l.element.offsetWidth),l.topPercent=s/(l.containerElement.offsetHeight-l.element.offsetHeight)}},l.end=function(e){"mouseup"===e.type&&(document.documentElement.removeEventListener("mousemove",l.mousemoveOrTouchmoveEventCallback,!1),document.documentElement.removeEventListener("mouseup",l.mouseupOrTouchendEventCallback,!1)),"touchend"===e.type&&(clearTimeout(l.downTimer),l.downTimer=void 0,l.flag=!0,l.element.style.pointerEvents="auto",l.element.style.boxShadow="0 0 0 0 #222",l.element.style.transform="scale(1)"),l.flag&&(l.element.setAttribute("talkDragState","onAfterDrag"),l.containerElement&&l.containerElement.setAttribute("talkDragParentState","onAfterDrag"),l.flag=!1,A.onAfterDrag&&A.onAfterDrag(100*l.leftPercent,100*l.topPercent))},l.resizeCallback=function(e){l.resize()},l.mousedownOrTouchstartCallback=function(e){if(l.flag||!l.disabled){try{l.down(e)}catch(e){console.error(e)}return!1}},l.mousemoveOrTouchmoveEventCallback=function(e){if(l.flag||!l.disabled){try{l.move(e)}catch(e){console.error(e)}return!1}},l.mouseupOrTouchendEventCallback=function(e){if(l.flag||!l.disabled){try{l.end(e)}catch(e){console.error(e)}return!1}},window.addEventListener("resize",l.resizeCallback,!1),l.element.addEventListener("mousedown",l.mousedownOrTouchstartCallback,!1),l.element.addEventListener("touchstart",l.mousedownOrTouchstartCallback,!1),l.element.addEventListener("touchmove",l.mousemoveOrTouchmoveEventCallback,!1),l.element.addEventListener("touchend",l.mouseupOrTouchendEventCallback,!1),l.element.setAttribute("talkDrag","true"),l.resize(),l;console.error("parameter elementId cannot find a node!")},function a(r,s,A){function l(t,e){if(!s[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[t]={exports:{}};r[t][0].call(i.exports,function(e){return l(r[t][1][e]||e)},i,i.exports,a,r,s,A)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<A.length;e++)l(A[e]);return l}({1:[function(o,e,t){(function(e){if(o("core-js/shim"),o("regenerator-runtime/runtime"),o("core-js/fn/regexp/escape"),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,o){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:o})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":3,"core-js/shim":331,"regenerator-runtime/runtime":2}],2:[function(e,F,t){(function(e){!function(e){var A,t=Object.prototype,l=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",n=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",r="object"==typeof F,s=e.regeneratorRuntime;if(s)r&&(F.exports=s);else{(s=e.regeneratorRuntime=r?F.exports:{}).wrap=v;var c="suspendedStart",d="suspendedYield",u="executing",h="completed",f={},p={};p[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(Q([])));m&&m!==t&&l.call(m,i)&&(p=m);var y=_.prototype=b.prototype=Object.create(p);B.prototype=y.constructor=_,_.constructor=B,_[a]=B.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===B||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(y),e},s.awrap=function(e){return{__await:e}},C(E.prototype),E.prototype[n]=function(){return this},s.AsyncIterator=E,s.async=function(e,t,o,n){var i=new E(v(e,t,o,n));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(o){var n=[];for(var e in o)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in o)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=Q,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=A)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var n=this;function e(e,t){return a.type="throw",a.arg=o,n.next=e,t&&(n.method="next",n.arg=A),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var r=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(r&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;0<=o;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),T(o),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;T(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:Q(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=A),f}}}function v(e,t,o,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),r=new k(n||[]);return a._invoke=function(a,r,s){var A=c;return function(e,t){if(A===u)throw new Error("Generator is already running");if(A===h){if("throw"===e)throw t;return U()}for(s.method=e,s.arg=t;;){var o=s.delegate;if(o){var n=S(o,s);if(n){if(n===f)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(A===c)throw A=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);A=u;var i=w(a,r,s);if("normal"===i.type){if(A=s.done?h:d,i.arg===f)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(A=h,s.method="throw",s.arg=i.arg)}}}(e,o,r),a}function w(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function b(){}function B(){}function _(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(s){function A(e,t,o,n){var i=w(s[e],s,t);if("throw"!==i.type){var a=i.arg,r=a.value;return r&&"object"==typeof r&&l.call(r,"__await")?Promise.resolve(r.__await).then(function(e){A("next",e,o,n)},function(e){A("throw",e,o,n)}):Promise.resolve(r).then(function(e){a.value=e,o(a)},n)}n(i.arg)}var t;"object"==typeof e.process&&e.process.domain&&(A=e.process.domain.bind(A)),this._invoke=function(o,n){function e(){return new Promise(function(e,t){A(o,n,e,t)})}return t=t?t.then(e,e):e()}}function S(e,t){var o=e.iterator[t.method];if(o===A){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=A,S(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=w(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=A),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function Q(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,n=function e(){for(;++o<t.length;)if(l.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=A,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:A,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,o){e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":25,"../../modules/core.regexp.escape":133}],4:[function(e,t,o){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],5:[function(e,t,o){var n=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{"./_cof":20}],6:[function(e,t,o){var n=e("./_wks")("unscopables"),i=Array.prototype;null==i[n]&&e("./_hide")(i,n,{}),t.exports=function(e){i[n][e]=!0}},{"./_hide":45,"./_wks":131}],7:[function(e,t,o){var n=e("./_string-at")(!0);t.exports=function(e,t,o){return t+(o?n(e,t).length:1)}},{"./_string-at":108}],8:[function(e,t,o){t.exports=function(e,t,o,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(o+": incorrect invocation!");return e}},{}],9:[function(e,t,o){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":54}],10:[function(e,t,o){var c=e("./_to-object"),d=e("./_to-absolute-index"),u=e("./_to-length");t.exports=[].copyWithin||function(e,t,o){var n=c(this),i=u(n.length),a=d(e,i),r=d(t,i),s=2<arguments.length?o:void 0,A=Math.min((void 0===s?i:d(s,i))-r,i-a),l=1;for(r<a&&a<r+A&&(l=-1,r+=A-1,a+=A-1);0<A--;)r in n?n[a]=n[r]:delete n[a],a+=l,r+=l;return n}},{"./_to-absolute-index":116,"./_to-length":120,"./_to-object":121}],11:[function(e,t,o){var l=e("./_to-object"),c=e("./_to-absolute-index"),d=e("./_to-length");t.exports=function(e,t,o){for(var n=l(this),i=d(n.length),a=arguments.length,r=c(1<a?t:void 0,i),s=2<a?o:void 0,A=void 0===s?i:c(s,i);r<A;)n[r++]=e;return n}},{"./_to-absolute-index":116,"./_to-length":120,"./_to-object":121}],12:[function(e,t,o){var n=e("./_for-of");t.exports=function(e,t){var o=[];return n(e,!1,o.push,o,t),o}},{"./_for-of":41}],13:[function(e,t,o){var A=e("./_to-iobject"),l=e("./_to-length"),c=e("./_to-absolute-index");t.exports=function(s){return function(e,t,o){var n,i=A(e),a=l(i.length),r=c(o,a);if(s&&t!=t){for(;r<a;)if((n=i[r++])!=n)return!0}else for(;r<a;r++)if((s||r in i)&&i[r]===t)return s||r||0;return!s&&-1}}},{"./_to-absolute-index":116,"./_to-iobject":119,"./_to-length":120}],14:[function(e,t,o){var v=e("./_ctx"),w=e("./_iobject"),b=e("./_to-object"),B=e("./_to-length"),n=e("./_array-species-create");t.exports=function(d,e){var u=1==d,h=2==d,f=3==d,p=4==d,g=6==d,m=5==d||g,y=e||n;return function(e,t,o){for(var n,i,a=b(e),r=w(a),s=v(t,o,3),A=B(r.length),l=0,c=u?y(e,A):h?y(e,0):void 0;l<A;l++)if((m||l in r)&&(i=s(n=r[l],l,a),d))if(u)c[l]=i;else if(i)switch(d){case 3:return!0;case 5:return n;case 6:return l;case 2:c.push(n)}else if(p)return!1;return g?-1:f||p?p:c}}},{"./_array-species-create":17,"./_ctx":27,"./_iobject":50,"./_to-length":120,"./_to-object":121}],15:[function(e,t,o){var c=e("./_a-function"),d=e("./_to-object"),u=e("./_iobject"),h=e("./_to-length");t.exports=function(e,t,o,n,i){c(t);var a=d(e),r=u(a),s=h(a.length),A=i?s-1:0,l=i?-1:1;if(o<2)for(;;){if(A in r){n=r[A],A+=l;break}if(A+=l,i?A<0:s<=A)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=A:A<s;A+=l)A in r&&(n=t(n,r[A],A,a));return n}},{"./_a-function":4,"./_iobject":50,"./_to-length":120,"./_to-object":121}],16:[function(e,t,o){var n=e("./_is-object"),i=e("./_is-array"),a=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":52,"./_is-object":54,"./_wks":131}],17:[function(e,t,o){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":16}],18:[function(e,t,o){var a=e("./_a-function"),r=e("./_is-object"),s=e("./_invoke"),A=[].slice,l={};t.exports=Function.bind||function(t){var o=a(this),n=A.call(arguments,1),i=function(){var e=n.concat(A.call(arguments));return this instanceof i?function(e,t,o){if(!(t in l)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";l[t]=Function("F,a","return new F("+n.join(",")+")")}return l[t](e,o)}(o,e.length,e):s(o,e,t)};return r(o.prototype)&&(i.prototype=o.prototype),i}},{"./_a-function":4,"./_invoke":49,"./_is-object":54}],19:[function(e,t,o){var i=e("./_cof"),a=e("./_wks")("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,o,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?o:r?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},{"./_cof":20,"./_wks":131}],20:[function(e,t,o){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],21:[function(e,t,o){function r(e,t){var o,n=f(t);if("F"!==n)return e._i[n];for(o=e._f;o;o=o.n)if(o.k==t)return o}var s=e("./_object-dp").f,A=e("./_object-create"),l=e("./_redefine-all"),c=e("./_ctx"),d=e("./_an-instance"),u=e("./_for-of"),n=e("./_iter-define"),i=e("./_iter-step"),a=e("./_set-species"),h=e("./_descriptors"),f=e("./_meta").fastKey,p=e("./_validate-collection"),g=h?"_s":"size";t.exports={getConstructor:function(e,a,o,n){var i=e(function(e,t){d(e,i,a,"_i"),e._t=a,e._i=A(null),e._f=void 0,e._l=void 0,e[g]=0,null!=t&&u(t,o,e[n],e)});return l(i.prototype,{clear:function(){for(var e=p(this,a),t=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete t[o.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var t=p(this,a),o=r(t,e);if(o){var n=o.n,i=o.p;delete t._i[o.i],o.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==o&&(t._f=n),t._l==o&&(t._l=i),t[g]--}return!!o},forEach:function(e,t){p(this,a);for(var o,n=c(e,1<arguments.length?t:void 0,3);o=o?o.n:this._f;)for(n(o.v,o.k,this);o&&o.r;)o=o.p},has:function(e){return!!r(p(this,a),e)}}),h&&s(i.prototype,"size",{get:function(){return p(this,a)[g]}}),i},def:function(e,t,o){var n,i,a=r(e,t);return a?a.v=o:(e._l=a={i:i=f(t,!0),k:t,v:o,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[g]++,"F"!==i&&(e._i[i]=a)),e},getEntry:r,setStrong:function(e,o,t){n(e,o,function(e,t){this._t=p(e,o),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,o=e._l;o&&o.r;)o=o.p;return e._t&&(e._l=o=o?o.n:e._t._f)?i(0,"keys"==t?o.k:"values"==t?o.v:[o.k,o.v]):(e._t=void 0,i(1))},t?"entries":"values",!t,!0),a(o)}}},{"./_an-instance":8,"./_ctx":27,"./_descriptors":31,"./_for-of":41,"./_iter-define":58,"./_iter-step":60,"./_meta":68,"./_object-create":73,"./_object-dp":74,"./_redefine-all":93,"./_set-species":102,"./_validate-collection":128}],22:[function(e,t,o){var n=e("./_classof"),i=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},{"./_array-from-iterable":12,"./_classof":19}],23:[function(e,t,o){function r(e){return e._l||(e._l=new m)}function n(e,t){return f(e.a,function(e){return e[0]===t})}var s=e("./_redefine-all"),A=e("./_meta").getWeak,i=e("./_an-object"),l=e("./_is-object"),c=e("./_an-instance"),d=e("./_for-of"),a=e("./_array-methods"),u=e("./_has"),h=e("./_validate-collection"),f=a(5),p=a(6),g=0,m=function(){this.a=[]};m.prototype={get:function(e){var t=n(this,e);if(t)return t[1]},has:function(e){return!!n(this,e)},set:function(e,t){var o=n(this,e);o?o[1]=t:this.a.push([e,t])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(e,o,n,i){var a=e(function(e,t){c(e,a,o,"_i"),e._t=o,e._i=g++,e._l=void 0,null!=t&&d(t,n,e[i],e)});return s(a.prototype,{delete:function(e){if(!l(e))return!1;var t=A(e);return!0===t?r(h(this,o)).delete(e):t&&u(t,this._i)&&delete t[this._i]},has:function(e){if(!l(e))return!1;var t=A(e);return!0===t?r(h(this,o)).has(e):t&&u(t,this._i)}}),a},def:function(e,t,o){var n=A(i(t),!0);return!0===n?r(e).set(t,o):n[e._i]=o,e},ufstore:r}},{"./_an-instance":8,"./_an-object":9,"./_array-methods":14,"./_for-of":41,"./_has":44,"./_is-object":54,"./_meta":68,"./_redefine-all":93,"./_validate-collection":128}],24:[function(e,t,o){var m=e("./_global"),y=e("./_export"),v=e("./_redefine"),w=e("./_redefine-all"),b=e("./_meta"),B=e("./_for-of"),_=e("./_an-instance"),C=e("./_is-object"),E=e("./_fails"),S=e("./_iter-detect"),I=e("./_set-to-string-tag"),T=e("./_inherit-if-required");t.exports=function(n,e,t,o,i,a){function r(e){var o=c[e];v(c,e,"delete"==e?function(e){return!(a&&!C(e))&&o.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!C(e))&&o.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!C(e)?void 0:o.call(this,0===e?0:e)}:"add"==e?function(e){return o.call(this,0===e?0:e),this}:function(e,t){return o.call(this,0===e?0:e,t),this})}var s=m[n],A=s,l=i?"set":"add",c=A&&A.prototype,d={};if("function"==typeof A&&(a||c.forEach&&!E(function(){(new A).entries().next()}))){var u=new A,h=u[l](a?{}:-0,1)!=u,f=E(function(){u.has(1)}),p=S(function(e){new A(e)}),g=!a&&E(function(){for(var e=new A,t=5;t--;)e[l](t,t);return!e.has(-0)});p||(((A=e(function(e,t){_(e,A,n);var o=T(new s,e,A);return null!=t&&B(t,i,o[l],o),o})).prototype=c).constructor=A),(f||g)&&(r("delete"),r("has"),i&&r("get")),(g||h)&&r(l),a&&c.clear&&delete c.clear}else A=o.getConstructor(e,n,i,l),w(A.prototype,t),b.NEED=!0;return I(A,n),d[n]=A,y(y.G+y.W+y.F*(A!=s),d),a||o.setStrong(A,n,i),A}},{"./_an-instance":8,"./_export":35,"./_fails":37,"./_for-of":41,"./_global":43,"./_inherit-if-required":48,"./_is-object":54,"./_iter-detect":59,"./_meta":68,"./_redefine":94,"./_redefine-all":93,"./_set-to-string-tag":103}],25:[function(e,t,o){var n=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},{}],26:[function(e,t,o){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,o){t in e?n.f(e,t,i(0,o)):e[t]=o}},{"./_object-dp":74,"./_property-desc":92}],27:[function(e,t,o){var a=e("./_a-function");t.exports=function(n,i,e){if(a(n),void 0===i)return n;switch(e){case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,o){return n.call(i,e,t,o)}}return function(){return n.apply(i,arguments)}}},{"./_a-function":4}],28:[function(e,t,o){function i(e){return 9<e?e:"0"+e}var n=e("./_fails"),a=Date.prototype.getTime,r=Date.prototype.toISOString;t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),o=e.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+(99<o?o:"0"+i(o))+"Z"}:r},{"./_fails":37}],29:[function(e,t,o){var n=e("./_an-object"),i=e("./_to-primitive");t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!=e)}},{"./_an-object":9,"./_to-primitive":122}],30:[function(e,t,o){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],31:[function(e,t,o){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":37}],32:[function(e,t,o){var n=e("./_is-object"),i=e("./_global").document,a=n(i)&&n(i.createElement);t.exports=function(e){return a?i.createElement(e):{}}},{"./_global":43,"./_is-object":54}],33:[function(e,t,o){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],34:[function(e,t,o){var s=e("./_object-keys"),A=e("./_object-gops"),l=e("./_object-pie");t.exports=function(e){var t=s(e),o=A.f;if(o)for(var n,i=o(e),a=l.f,r=0;i.length>r;)a.call(e,n=i[r++])&&t.push(n);return t}},{"./_object-gops":80,"./_object-keys":83,"./_object-pie":84}],35:[function(e,t,o){var p=e("./_global"),g=e("./_core"),m=e("./_hide"),y=e("./_redefine"),v=e("./_ctx"),w="prototype",b=function(e,t,o){var n,i,a,r,s=e&b.F,A=e&b.G,l=e&b.S,c=e&b.P,d=e&b.B,u=A?p:l?p[t]||(p[t]={}):(p[t]||{})[w],h=A?g:g[t]||(g[t]={}),f=h[w]||(h[w]={});for(n in A&&(o=t),o)a=((i=!s&&u&&void 0!==u[n])?u:o)[n],r=d&&i?v(a,p):c&&"function"==typeof a?v(Function.call,a):a,u&&y(u,n,a,e&b.U),h[n]!=a&&m(h,n,r),c&&f[n]!=a&&(f[n]=a)};p.core=g,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},{"./_core":25,"./_ctx":27,"./_global":43,"./_hide":45,"./_redefine":94}],36:[function(e,t,o){var n=e("./_wks")("match");t.exports=function(t){var o=/./;try{"/./"[t](o)}catch(e){try{return o[n]=!1,!"/./"[t](o)}catch(e){}}return!0}},{"./_wks":131}],37:[function(e,t,o){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],38:[function(e,t,o){e("./es6.regexp.exec");var c=e("./_redefine"),d=e("./_hide"),u=e("./_fails"),h=e("./_defined"),f=e("./_wks"),p=e("./_regexp-exec"),g=f("species"),m=!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2===o.length&&"a"===o[0]&&"b"===o[1]}();t.exports=function(o,e,t){var n=f(o),a=!u(function(){var e={};return e[n]=function(){return 7},7!=""[o](e)}),i=a?!u(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===o&&(t.constructor={},t.constructor[g]=function(){return t}),t[n](""),!e}):void 0;if(!a||!i||"replace"===o&&!m||"split"===o&&!y){var r=/./[n],s=t(h,n,""[o],function(e,t,o,n,i){return t.exec===p?a&&!i?{done:!0,value:r.call(t,o,n)}:{done:!0,value:e.call(o,t,n)}:{done:!1}}),A=s[0],l=s[1];c(String.prototype,o,A),d(RegExp.prototype,n,2==e?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)})}}},{"./_defined":30,"./_fails":37,"./_hide":45,"./_redefine":94,"./_regexp-exec":96,"./_wks":131,"./es6.regexp.exec":228}],39:[function(e,t,o){var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":9}],40:[function(e,t,o){var f=e("./_is-array"),p=e("./_is-object"),g=e("./_to-length"),m=e("./_ctx"),y=e("./_wks")("isConcatSpreadable");t.exports=function e(t,o,n,i,a,r,s,A){for(var l,c,d=a,u=0,h=!!s&&m(s,A,3);u<i;){if(u in n){if(l=h?h(n[u],u,o):n[u],c=!1,p(l)&&(c=void 0!==(c=l[y])?!!c:f(l)),c&&0<r)d=e(t,o,l,g(l.length),d,r-1)-1;else{if(9007199254740991<=d)throw TypeError();t[d]=l}d++}u++}return d}},{"./_ctx":27,"./_is-array":52,"./_is-object":54,"./_to-length":120,"./_wks":131}],41:[function(e,t,o){var u=e("./_ctx"),h=e("./_iter-call"),f=e("./_is-array-iter"),p=e("./_an-object"),g=e("./_to-length"),m=e("./core.get-iterator-method"),y={},v={};(o=t.exports=function(e,t,o,n,i){var a,r,s,A,l=i?function(){return e}:m(e),c=u(o,n,t?2:1),d=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(f(l)){for(a=g(e.length);d<a;d++)if((A=t?c(p(r=e[d])[0],r[1]):c(e[d]))===y||A===v)return A}else for(s=l.call(e);!(r=s.next()).done;)if((A=h(s,c,r.value,t))===y||A===v)return A}).BREAK=y,o.RETURN=v},{"./_an-object":9,"./_ctx":27,"./_is-array-iter":51,"./_iter-call":56,"./_to-length":120,"./core.get-iterator-method":132}],42:[function(e,t,o){t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":105}],43:[function(e,t,o){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],44:[function(e,t,o){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],45:[function(e,t,o){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,o){return n.f(e,t,i(1,o))}:function(e,t,o){return e[t]=o,e}},{"./_descriptors":31,"./_object-dp":74,"./_property-desc":92}],46:[function(e,t,o){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":43}],47:[function(e,t,o){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":31,"./_dom-create":32,"./_fails":37}],48:[function(e,t,o){var a=e("./_is-object"),r=e("./_set-proto").set;t.exports=function(e,t,o){var n,i=t.constructor;return i!==o&&"function"==typeof i&&(n=i.prototype)!==o.prototype&&a(n)&&r&&r(e,n),e}},{"./_is-object":54,"./_set-proto":101}],49:[function(e,t,o){t.exports=function(e,t,o){var n=void 0===o;switch(t.length){case 0:return n?e():e.call(o);case 1:return n?e(t[0]):e.call(o,t[0]);case 2:return n?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},{}],50:[function(e,t,o){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":20}],51:[function(e,t,o){var n=e("./_iterators"),i=e("./_wks")("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},{"./_iterators":61,"./_wks":131}],52:[function(e,t,o){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":20}],53:[function(e,t,o){var n=e("./_is-object"),i=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":54}],54:[function(e,t,o){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],55:[function(e,t,o){var n=e("./_is-object"),i=e("./_cof"),a=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},{"./_cof":20,"./_is-object":54,"./_wks":131}],56:[function(e,t,o){var a=e("./_an-object");t.exports=function(t,e,o,n){try{return n?e(a(o)[0],o[1]):e(o)}catch(e){var i=t.return;throw void 0!==i&&a(i.call(t)),e}}},{"./_an-object":9}],57:[function(e,t,o){var n=e("./_object-create"),i=e("./_property-desc"),a=e("./_set-to-string-tag"),r={};e("./_hide")(r,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,o){e.prototype=n(r,{next:i(1,o)}),a(e,t+" Iterator")}},{"./_hide":45,"./_object-create":73,"./_property-desc":92,"./_set-to-string-tag":103,"./_wks":131}],58:[function(e,t,o){function v(){return this}var w=e("./_library"),b=e("./_export"),B=e("./_redefine"),_=e("./_hide"),C=e("./_iterators"),E=e("./_iter-create"),S=e("./_set-to-string-tag"),I=e("./_object-gpo"),T=e("./_wks")("iterator"),k=!([].keys&&"next"in[].keys()),Q="values";t.exports=function(e,t,o,n,i,a,r){E(o,t,n);function s(e){if(!k&&e in f)return f[e];switch(e){case"keys":case Q:return function(){return new o(this,e)}}return function(){return new o(this,e)}}var A,l,c,d=t+" Iterator",u=i==Q,h=!1,f=e.prototype,p=f[T]||f["@@iterator"]||i&&f[i],g=p||s(i),m=i?u?s("entries"):g:void 0,y="Array"==t&&f.entries||p;if(y&&(c=I(y.call(new e)))!==Object.prototype&&c.next&&(S(c,d,!0),w||"function"==typeof c[T]||_(c,T,v)),u&&p&&p.name!==Q&&(h=!0,g=function(){return p.call(this)}),w&&!r||!k&&!h&&f[T]||_(f,T,g),C[t]=g,C[d]=v,i)if(A={values:u?g:s(Q),keys:a?g:s("keys"),entries:m},r)for(l in A)l in f||B(f,l,A[l]);else b(b.P+b.F*(k||h),t,A);return A}},{"./_export":35,"./_hide":45,"./_iter-create":57,"./_iterators":61,"./_library":62,"./_object-gpo":81,"./_redefine":94,"./_set-to-string-tag":103,"./_wks":131}],59:[function(e,t,o){var a=e("./_wks")("iterator"),r=!1;try{var n=[7][a]();n.return=function(){r=!0},Array.from(n,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var o=!1;try{var n=[7],i=n[a]();i.next=function(){return{done:o=!0}},n[a]=function(){return i},e(n)}catch(e){}return o}},{"./_wks":131}],60:[function(e,t,o){t.exports=function(e,t){return{value:t,done:!!e}}},{}],61:[function(e,t,o){t.exports={}},{}],62:[function(e,t,o){t.exports=!1},{}],63:[function(e,t,o){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],64:[function(e,t,o){var a=e("./_math-sign"),n=Math.pow,r=n(2,-52),s=n(2,-23),A=n(2,127)*(2-s),l=n(2,-126);t.exports=Math.fround||function(e){var t,o,n=Math.abs(e),i=a(e);return n<l?i*function(e){return e+1/r-1/r}(n/l/s)*l*s:A<(o=(t=(1+s/r)*n)-(t-n))||o!=o?i*(1/0):i*o}},{"./_math-sign":67}],65:[function(e,t,o){t.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],66:[function(e,t,o){t.exports=Math.scale||function(e,t,o,n,i){return 0===arguments.length||e!=e||t!=t||o!=o||n!=n||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-n)/(o-t)+n}},{}],67:[function(e,t,o){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],68:[function(e,t,o){function n(e){s(e,i,{value:{i:"O"+ ++A,w:{}}})}var i=e("./_uid")("meta"),a=e("./_is-object"),r=e("./_has"),s=e("./_object-dp").f,A=0,l=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),d=t.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,i)){if(!l(e))return"F";if(!t)return"E";n(e)}return e[i].i},getWeak:function(e,t){if(!r(e,i)){if(!l(e))return!0;if(!t)return!1;n(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!r(e,i)&&n(e),e}}},{"./_fails":37,"./_has":44,"./_is-object":54,"./_object-dp":74,"./_uid":126}],69:[function(e,t,o){function i(e,t,o){var n=s.get(e);if(!n){if(!o)return;s.set(e,n=new a)}var i=n.get(t);if(!i){if(!o)return;n.set(t,i=new a)}return i}var a=e("./es6.map"),n=e("./_export"),r=e("./_shared")("metadata"),s=r.store||(r.store=new(e("./es6.weak-map")));t.exports={store:s,map:i,has:function(e,t,o){var n=i(t,o,!1);return void 0!==n&&n.has(e)},get:function(e,t,o){var n=i(t,o,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,o,n){i(o,n,!0).set(e,t)},keys:function(e,t){var o=i(e,t,!1),n=[];return o&&o.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){n(n.S,"Reflect",e)}}},{"./_export":35,"./_shared":105,"./es6.map":163,"./es6.weak-map":270}],70:[function(e,t,o){var s=e("./_global"),A=e("./_task").set,l=s.MutationObserver||s.WebKitMutationObserver,c=s.process,d=s.Promise,u="process"==e("./_cof")(c);t.exports=function(){function e(){var e,t;for(u&&(e=c.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():n=void 0,e}}n=void 0,e&&e.enter()}var o,n,i;if(u)i=function(){c.nextTick(e)};else if(!l||s.navigator&&s.navigator.standalone)if(d&&d.resolve){var t=d.resolve(void 0);i=function(){t.then(e)}}else i=function(){A.call(s,e)};else{var a=!0,r=document.createTextNode("");new l(e).observe(r,{characterData:!0}),i=function(){r.data=a=!a}}return function(e){var t={fn:e,next:void 0};n&&(n.next=t),o||(o=t,i()),n=t}}},{"./_cof":20,"./_global":43,"./_task":115}],71:[function(e,t,o){var i=e("./_a-function");function n(e){var o,n;this.promise=new e(function(e,t){if(void 0!==o||void 0!==n)throw TypeError("Bad Promise constructor");o=e,n=t}),this.resolve=i(o),this.reject=i(n)}t.exports.f=function(e){return new n(e)}},{"./_a-function":4}],72:[function(e,t,o){var u=e("./_descriptors"),h=e("./_object-keys"),f=e("./_object-gops"),p=e("./_object-pie"),g=e("./_to-object"),m=e("./_iobject"),i=Object.assign;t.exports=!i||e("./_fails")(function(){var e={},t={},o=Symbol(),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(e){t[e]=e}),7!=i({},e)[o]||Object.keys(i({},t)).join("")!=n})?function(e,t){for(var o=g(e),n=arguments.length,i=1,a=f.f,r=p.f;i<n;)for(var s,A=m(arguments[i++]),l=a?h(A).concat(a(A)):h(A),c=l.length,d=0;d<c;)s=l[d++],u&&!r.call(A,s)||(o[s]=A[s]);return o}:i},{"./_descriptors":31,"./_fails":37,"./_iobject":50,"./_object-gops":80,"./_object-keys":83,"./_object-pie":84,"./_to-object":121}],73:[function(n,e,t){function i(){}var a=n("./_an-object"),r=n("./_object-dps"),s=n("./_enum-bug-keys"),A=n("./_shared-key")("IE_PROTO"),l="prototype",c=function(){var e,t=n("./_dom-create")("iframe"),o=s.length;for(t.style.display="none",n("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c[l][s[o]];return c()};e.exports=Object.create||function(e,t){var o;return null!==e?(i[l]=a(e),o=new i,i[l]=null,o[A]=e):o=c(),void 0===t?o:r(o,t)}},{"./_an-object":9,"./_dom-create":32,"./_enum-bug-keys":33,"./_html":46,"./_object-dps":75,"./_shared-key":104}],74:[function(e,t,o){var n=e("./_an-object"),i=e("./_ie8-dom-define"),a=e("./_to-primitive"),r=Object.defineProperty;o.f=e("./_descriptors")?Object.defineProperty:function(e,t,o){if(n(e),t=a(t,!0),n(o),i)try{return r(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},{"./_an-object":9,"./_descriptors":31,"./_ie8-dom-define":47,"./_to-primitive":122}],75:[function(e,t,o){var r=e("./_object-dp"),s=e("./_an-object"),A=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var o,n=A(t),i=n.length,a=0;a<i;)r.f(e,o=n[a++],t[o]);return e}},{"./_an-object":9,"./_descriptors":31,"./_object-dp":74,"./_object-keys":83}],76:[function(t,e,o){e.exports=t("./_library")||!t("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t("./_global")[e]})},{"./_fails":37,"./_global":43,"./_library":62}],77:[function(e,t,o){var n=e("./_object-pie"),i=e("./_property-desc"),a=e("./_to-iobject"),r=e("./_to-primitive"),s=e("./_has"),A=e("./_ie8-dom-define"),l=Object.getOwnPropertyDescriptor;o.f=e("./_descriptors")?l:function(e,t){if(e=a(e),t=r(t,!0),A)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},{"./_descriptors":31,"./_has":44,"./_ie8-dom-define":47,"./_object-pie":84,"./_property-desc":92,"./_to-iobject":119,"./_to-primitive":122}],78:[function(e,t,o){var n=e("./_to-iobject"),i=e("./_object-gopn").f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return r&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return r.slice()}}(e):i(n(e))}},{"./_object-gopn":79,"./_to-iobject":119}],79:[function(e,t,o){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");o.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"./_enum-bug-keys":33,"./_object-keys-internal":82}],80:[function(e,t,o){o.f=Object.getOwnPropertySymbols},{}],81:[function(e,t,o){var n=e("./_has"),i=e("./_to-object"),a=e("./_shared-key")("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},{"./_has":44,"./_shared-key":104,"./_to-object":121}],82:[function(e,t,o){var r=e("./_has"),s=e("./_to-iobject"),A=e("./_array-includes")(!1),l=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var o,n=s(e),i=0,a=[];for(o in n)o!=l&&r(n,o)&&a.push(o);for(;t.length>i;)r(n,o=t[i++])&&(~A(a,o)||a.push(o));return a}},{"./_array-includes":13,"./_has":44,"./_shared-key":104,"./_to-iobject":119}],83:[function(e,t,o){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":33,"./_object-keys-internal":82}],84:[function(e,t,o){o.f={}.propertyIsEnumerable},{}],85:[function(e,t,o){var i=e("./_export"),a=e("./_core"),r=e("./_fails");t.exports=function(e,t){var o=(a.Object||{})[e]||Object[e],n={};n[e]=t(o),i(i.S+i.F*r(function(){o(1)}),"Object",n)}},{"./_core":25,"./_export":35,"./_fails":37}],86:[function(e,t,o){var A=e("./_descriptors"),l=e("./_object-keys"),c=e("./_to-iobject"),d=e("./_object-pie").f;t.exports=function(s){return function(e){for(var t,o=c(e),n=l(o),i=n.length,a=0,r=[];a<i;)t=n[a++],A&&!d.call(o,t)||r.push(s?[t,o[t]]:o[t]);return r}}},{"./_descriptors":31,"./_object-keys":83,"./_object-pie":84,"./_to-iobject":119}],87:[function(e,t,o){var n=e("./_object-gopn"),i=e("./_object-gops"),a=e("./_an-object"),r=e("./_global").Reflect;t.exports=r&&r.ownKeys||function(e){var t=n.f(a(e)),o=i.f;return o?t.concat(o(e)):t}},{"./_an-object":9,"./_global":43,"./_object-gopn":79,"./_object-gops":80}],88:[function(e,t,o){var n=e("./_global").parseFloat,i=e("./_string-trim").trim;t.exports=1/n(e("./_string-ws")+"-0")!=-1/0?function(e){var t=i(String(e),3),o=n(t);return 0===o&&"-"==t.charAt(0)?-0:o}:n},{"./_global":43,"./_string-trim":113,"./_string-ws":114}],89:[function(e,t,o){var n=e("./_global").parseInt,i=e("./_string-trim").trim,a=e("./_string-ws"),r=/^[-+]?0[xX]/;t.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var o=i(String(e),3);return n(o,t>>>0||(r.test(o)?16:10))}:n},{"./_global":43,"./_string-trim":113,"./_string-ws":114}],90:[function(e,t,o){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],91:[function(e,t,o){var n=e("./_an-object"),i=e("./_is-object"),a=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var o=a.f(e);return(0,o.resolve)(t),o.promise}},{"./_an-object":9,"./_is-object":54,"./_new-promise-capability":71}],92:[function(e,t,o){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],93:[function(e,t,o){var i=e("./_redefine");t.exports=function(e,t,o){for(var n in t)i(e,n,t[n],o);return e}},{"./_redefine":94}],94:[function(e,t,o){var a=e("./_global"),r=e("./_hide"),s=e("./_has"),A=e("./_uid")("src"),n=e("./_function-to-string"),i="toString",l=(""+n).split(i);e("./_core").inspectSource=function(e){return n.call(e)},(t.exports=function(e,t,o,n){var i="function"==typeof o;i&&(s(o,"name")||r(o,"name",t)),e[t]!==o&&(i&&(s(o,A)||r(o,A,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=o:n?e[t]?e[t]=o:r(e,t,o):(delete e[t],r(e,t,o)))})(Function.prototype,i,function(){return"function"==typeof this&&this[A]||n.call(this)})},{"./_core":25,"./_function-to-string":42,"./_global":43,"./_has":44,"./_hide":45,"./_uid":126}],95:[function(e,t,o){var i=e("./_classof"),a=RegExp.prototype.exec;t.exports=function(e,t){var o=e.exec;if("function"==typeof o){var n=o.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},{"./_classof":19}],96:[function(e,t,o){var n,i,r=e("./_flags"),s=RegExp.prototype.exec,A=String.prototype.replace,a=s,l="lastIndex",c=(n=/a/,i=/b*/g,s.call(n,"a"),s.call(i,"a"),0!==n[l]||0!==i[l]),d=void 0!==/()??/.exec("")[1];(c||d)&&(a=function(e){var t,o,n,i,a=this;return d&&(o=new RegExp("^"+a.source+"$(?!\\s)",r.call(a))),c&&(t=a[l]),n=s.call(a,e),c&&n&&(a[l]=a.global?n.index+n[0].length:t),d&&n&&1<n.length&&A.call(n[0],o,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n}),t.exports=a},{"./_flags":39}],97:[function(e,t,o){t.exports=function(t,o){var n=o===Object(o)?function(e){return o[e]}:o;return function(e){return String(e).replace(t,n)}}},{}],98:[function(e,t,o){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],99:[function(e,t,o){var n=e("./_export"),A=e("./_a-function"),l=e("./_ctx"),c=e("./_for-of");t.exports=function(e){n(n.S,e,{from:function(e,t,o){var n,i,a,r,s=t;return A(this),(n=void 0!==s)&&A(s),null==e?new this:(i=[],n?(a=0,r=l(s,o,2),c(e,!1,function(e){i.push(r(e,a++))})):c(e,!1,i.push,i),new this(i))}})}},{"./_a-function":4,"./_ctx":27,"./_export":35,"./_for-of":41}],100:[function(e,t,o){var n=e("./_export");t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":35}],101:[function(t,e,o){function i(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=t("./_is-object"),a=t("./_an-object");e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,o,n){try{(n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),o=!(e instanceof Array)}catch(e){o=!0}return function(e,t){return i(e,t),o?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":9,"./_ctx":27,"./_is-object":54,"./_object-gopd":77}],102:[function(e,t,o){var n=e("./_global"),i=e("./_object-dp"),a=e("./_descriptors"),r=e("./_wks")("species");t.exports=function(e){var t=n[e];a&&t&&!t[r]&&i.f(t,r,{configurable:!0,get:function(){return this}})}},{"./_descriptors":31,"./_global":43,"./_object-dp":74,"./_wks":131}],103:[function(e,t,o){var n=e("./_object-dp").f,i=e("./_has"),a=e("./_wks")("toStringTag");t.exports=function(e,t,o){e&&!i(e=o?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},{"./_has":44,"./_object-dp":74,"./_wks":131}],104:[function(e,t,o){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":105,"./_uid":126}],105:[function(e,t,o){var n=e("./_core"),i=e("./_global"),a="__core-js_shared__",r=i[a]||(i[a]={});(t.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":25,"./_global":43,"./_library":62}],106:[function(e,t,o){var i=e("./_an-object"),a=e("./_a-function"),r=e("./_wks")("species");t.exports=function(e,t){var o,n=i(e).constructor;return void 0===n||null==(o=i(n)[r])?t:a(o)}},{"./_a-function":4,"./_an-object":9,"./_wks":131}],107:[function(e,t,o){var n=e("./_fails");t.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":37}],108:[function(e,t,o){var A=e("./_to-integer"),l=e("./_defined");t.exports=function(s){return function(e,t){var o,n,i=String(l(e)),a=A(t),r=i.length;return a<0||r<=a?s?"":void 0:(o=i.charCodeAt(a))<55296||56319<o||a+1===r||(n=i.charCodeAt(a+1))<56320||57343<n?s?i.charAt(a):o:s?i.slice(a,a+2):n-56320+(o-55296<<10)+65536}}},{"./_defined":30,"./_to-integer":118}],109:[function(e,t,o){var n=e("./_is-regexp"),i=e("./_defined");t.exports=function(e,t,o){if(n(t))throw TypeError("String#"+o+" doesn't accept regex!");return String(i(e))}},{"./_defined":30,"./_is-regexp":55}],110:[function(e,t,o){function n(e,t,o,n){var i=String(r(e)),a="<"+t;return""!==o&&(a+=" "+o+'="'+String(n).replace(s,"&quot;")+'"'),a+">"+i+"</"+t+">"}var i=e("./_export"),a=e("./_fails"),r=e("./_defined"),s=/"/g;t.exports=function(t,e){var o={};o[t]=e(n),i(i.P+i.F*a(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",o)}},{"./_defined":30,"./_export":35,"./_fails":37}],111:[function(e,t,o){var c=e("./_to-length"),d=e("./_string-repeat"),u=e("./_defined");t.exports=function(e,t,o,n){var i=String(u(e)),a=i.length,r=void 0===o?" ":String(o),s=c(t);if(s<=a||""==r)return i;var A=s-a,l=d.call(r,Math.ceil(A/r.length));return l.length>A&&(l=l.slice(0,A)),n?l+i:i+l}},{"./_defined":30,"./_string-repeat":112,"./_to-length":120}],112:[function(e,t,o){var i=e("./_to-integer"),a=e("./_defined");t.exports=function(e){var t=String(a(this)),o="",n=i(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(o+=t);return o}},{"./_defined":30,"./_to-integer":118}],113:[function(e,t,o){function n(e,t,o){var n={},i=s(function(){return!!A[e]()||"â€‹Â…"!="â€‹Â…"[e]()}),a=n[e]=i?t(d):A[e];o&&(n[o]=a),r(r.P+r.F*i,"String",n)}var r=e("./_export"),i=e("./_defined"),s=e("./_fails"),A=e("./_string-ws"),a="["+A+"]",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),d=n.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};t.exports=n},{"./_defined":30,"./_export":35,"./_fails":37,"./_string-ws":114}],114:[function(e,t,o){t.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},{}],115:[function(e,t,o){function n(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}}function i(e){n.call(e.data)}var a,r,s,A=e("./_ctx"),l=e("./_invoke"),c=e("./_html"),d=e("./_dom-create"),u=e("./_global"),h=u.process,f=u.setImmediate,p=u.clearImmediate,g=u.MessageChannel,m=u.Dispatch,y=0,v={},w="onreadystatechange";f&&p||(f=function(e){for(var t=[],o=1;o<arguments.length;)t.push(arguments[o++]);return v[++y]=function(){l("function"==typeof e?e:Function(e),t)},a(y),y},p=function(e){delete v[e]},"process"==e("./_cof")(h)?a=function(e){h.nextTick(A(n,e,1))}:m&&m.now?a=function(e){m.now(A(n,e,1))}:g?(s=(r=new g).port2,r.port1.onmessage=i,a=A(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(e){u.postMessage(e+"","*")},u.addEventListener("message",i,!1)):a=w in d("script")?function(e){c.appendChild(d("script"))[w]=function(){c.removeChild(this),n.call(e)}}:function(e){setTimeout(A(n,e,1),0)}),t.exports={set:f,clear:p}},{"./_cof":20,"./_ctx":27,"./_dom-create":32,"./_global":43,"./_html":46,"./_invoke":49}],116:[function(e,t,o){var n=e("./_to-integer"),i=Math.max,a=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},{"./_to-integer":118}],117:[function(e,t,o){var n=e("./_to-integer"),i=e("./_to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),o=i(t);if(t!==o)throw RangeError("Wrong length!");return o}},{"./_to-integer":118,"./_to-length":120}],118:[function(e,t,o){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],119:[function(e,t,o){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":30,"./_iobject":50}],120:[function(e,t,o){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"./_to-integer":118}],121:[function(e,t,o){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":30}],122:[function(e,t,o){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var o,n;if(t&&"function"==typeof(o=e.toString)&&!i(n=o.call(e)))return n;if("function"==typeof(o=e.valueOf)&&!i(n=o.call(e)))return n;if(!t&&"function"==typeof(o=e.toString)&&!i(n=o.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":54}],123:[function(e,t,o){if(e("./_descriptors")){var m=e("./_library"),y=e("./_global"),v=e("./_fails"),w=e("./_export"),b=e("./_typed"),n=e("./_typed-buffer"),f=e("./_ctx"),B=e("./_an-instance"),i=e("./_property-desc"),_=e("./_hide"),a=e("./_redefine-all"),r=e("./_to-integer"),C=e("./_to-length"),E=e("./_to-index"),s=e("./_to-absolute-index"),A=e("./_to-primitive"),l=e("./_has"),S=e("./_classof"),I=e("./_is-object"),p=e("./_to-object"),g=e("./_is-array-iter"),T=e("./_object-create"),k=e("./_object-gpo"),Q=e("./_object-gopn").f,U=e("./core.get-iterator-method"),c=e("./_uid"),d=e("./_wks"),u=e("./_array-methods"),h=e("./_array-includes"),F=e("./_species-constructor"),P=e("./es6.array.iterator"),D=e("./_iterators"),x=e("./_iter-detect"),L=e("./_set-species"),N=e("./_array-fill"),H=e("./_array-copy-within"),R=e("./_object-dp"),M=e("./_object-gopd"),O=R.f,W=M.f,K=y.RangeError,V=y.TypeError,j=y.Uint8Array,z="ArrayBuffer",J="Shared"+z,G="BYTES_PER_ELEMENT",X="prototype",Y=Array[X],q=n.ArrayBuffer,Z=n.DataView,$=u(0),ee=u(2),te=u(3),oe=u(4),ne=u(5),ie=u(6),ae=h(!0),re=h(!1),se=P.values,Ae=P.keys,le=P.entries,ce=Y.lastIndexOf,de=Y.reduce,ue=Y.reduceRight,he=Y.join,fe=Y.sort,pe=Y.slice,ge=Y.toString,me=Y.toLocaleString,ye=d("iterator"),ve=d("toStringTag"),we=c("typed_constructor"),be=c("def_constructor"),Be=b.CONSTR,_e=b.TYPED,Ce=b.VIEW,Ee="Wrong length!",Se=u(1,function(e,t){return Ue(F(e,e[be]),t)}),Ie=v(function(){return 1===new j(new Uint16Array([1]).buffer)[0]}),Te=!!j&&!!j[X].set&&v(function(){new j(1).set({})}),ke=function(e,t){var o=r(e);if(o<0||o%t)throw K("Wrong offset!");return o},Qe=function(e){if(I(e)&&_e in e)return e;throw V(e+" is not a typed array!")},Ue=function(e,t){if(!(I(e)&&we in e))throw V("It is not a typed array constructor!");return new e(t)},Fe=function(e,t){return Pe(F(e,e[be]),t)},Pe=function(e,t){for(var o=0,n=t.length,i=Ue(e,n);o<n;)i[o]=t[o++];return i},De=function(e,t,o){O(e,t,{get:function(){return this._d[o]}})},xe=function(e,t,o){var n,i,a,r,s,A,l=p(e),c=arguments.length,d=1<c?t:void 0,u=void 0!==d,h=U(l);if(null!=h&&!g(h)){for(A=h.call(l),a=[],n=0;!(s=A.next()).done;n++)a.push(s.value);l=a}for(u&&2<c&&(d=f(d,o,2)),n=0,i=C(l.length),r=Ue(this,i);n<i;n++)r[n]=u?d(l[n],n):l[n];return r},Le=function(){for(var e=0,t=arguments.length,o=Ue(this,t);e<t;)o[e]=arguments[e++];return o},Ne=!!j&&v(function(){me.call(new j(1))}),He=function(){return me.apply(Ne?pe.call(Qe(this)):Qe(this),arguments)},Re={copyWithin:function(e,t,o){return H.call(Qe(this),e,t,2<arguments.length?o:void 0)},every:function(e,t){return oe(Qe(this),e,1<arguments.length?t:void 0)},fill:function(e){return N.apply(Qe(this),arguments)},filter:function(e,t){return Fe(this,ee(Qe(this),e,1<arguments.length?t:void 0))},find:function(e,t){return ne(Qe(this),e,1<arguments.length?t:void 0)},findIndex:function(e,t){return ie(Qe(this),e,1<arguments.length?t:void 0)},forEach:function(e,t){$(Qe(this),e,1<arguments.length?t:void 0)},indexOf:function(e,t){return re(Qe(this),e,1<arguments.length?t:void 0)},includes:function(e,t){return ae(Qe(this),e,1<arguments.length?t:void 0)},join:function(e){return he.apply(Qe(this),arguments)},lastIndexOf:function(e){return ce.apply(Qe(this),arguments)},map:function(e,t){return Se(Qe(this),e,1<arguments.length?t:void 0)},reduce:function(e){return de.apply(Qe(this),arguments)},reduceRight:function(e){return ue.apply(Qe(this),arguments)},reverse:function(){for(var e,t=this,o=Qe(t).length,n=Math.floor(o/2),i=0;i<n;)e=t[i],t[i++]=t[--o],t[o]=e;return t},some:function(e,t){return te(Qe(this),e,1<arguments.length?t:void 0)},sort:function(e){return fe.call(Qe(this),e)},subarray:function(e,t){var o=Qe(this),n=o.length,i=s(e,n);return new(F(o,o[be]))(o.buffer,o.byteOffset+i*o.BYTES_PER_ELEMENT,C((void 0===t?n:s(t,n))-i))}},Me=function(e,t){return Fe(this,pe.call(Qe(this),e,t))},Oe=function(e,t){Qe(this);var o=ke(t,1),n=this.length,i=p(e),a=C(i.length),r=0;if(n<a+o)throw K(Ee);for(;r<a;)this[o+r]=i[r++]},We={entries:function(){return le.call(Qe(this))},keys:function(){return Ae.call(Qe(this))},values:function(){return se.call(Qe(this))}},Ke=function(e,t){return I(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ve=function(e,t){return Ke(e,t=A(t,!0))?i(2,e[t]):W(e,t)},je=function(e,t,o){return!(Ke(e,t=A(t,!0))&&I(o)&&l(o,"value"))||l(o,"get")||l(o,"set")||o.configurable||l(o,"writable")&&!o.writable||l(o,"enumerable")&&!o.enumerable?O(e,t,o):(e[t]=o.value,e)};Be||(M.f=Ve,R.f=je),w(w.S+w.F*!Be,"Object",{getOwnPropertyDescriptor:Ve,defineProperty:je}),v(function(){ge.call({})})&&(ge=me=function(){return he.call(this)});var ze=a({},Re);a(ze,We),_(ze,ye,We.values),a(ze,{slice:Me,set:Oe,constructor:function(){},toString:ge,toLocaleString:He}),De(ze,"buffer","b"),De(ze,"byteOffset","o"),De(ze,"byteLength","l"),De(ze,"length","e"),O(ze,ve,{get:function(){return this[_e]}}),t.exports=function(e,d,t,i){function u(e,t){O(e,t,{get:function(){return function(e,t){var o=e._d;return o.v[n](t*d+o.o,Ie)}(this,t)},set:function(e){return function(e,t,o){var n=e._d;i&&(o=(o=Math.round(o))<0?0:255<o?255:255&o),n.v[a](t*d+n.o,o,Ie)}(this,t,e)},enumerable:!0})}var h=e+((i=!!i)?"Clamped":"")+"Array",n="get"+e,a="set"+e,f=y[h],r=f||{},o=f&&k(f),s=!f||!b.ABV,A={},l=f&&f[X];s?(f=t(function(e,t,o,n){B(e,f,h,"_d");var i,a,r,s,A=0,l=0;if(I(t)){if(!(t instanceof q||(s=S(t))==z||s==J))return _e in t?Pe(f,t):xe.call(f,t);i=t,l=ke(o,d);var c=t.byteLength;if(void 0===n){if(c%d)throw K(Ee);if((a=c-l)<0)throw K(Ee)}else if(c<(a=C(n)*d)+l)throw K(Ee);r=a/d}else r=E(t),i=new q(a=r*d);for(_(e,"_d",{b:i,o:l,l:a,e:r,v:new Z(i)});A<r;)u(e,A++)}),l=f[X]=T(ze),_(l,"constructor",f)):v(function(){f(1)})&&v(function(){new f(-1)})&&x(function(e){new f,new f(null),new f(1.5),new f(e)},!0)||(f=t(function(e,t,o,n){var i;return B(e,f,h),I(t)?t instanceof q||(i=S(t))==z||i==J?void 0!==n?new r(t,ke(o,d),n):void 0!==o?new r(t,ke(o,d)):new r(t):_e in t?Pe(f,t):xe.call(f,t):new r(E(t))}),$(o!==Function.prototype?Q(r).concat(Q(o)):Q(r),function(e){e in f||_(f,e,r[e])}),f[X]=l,m||(l.constructor=f));var c=l[ye],p=!!c&&("values"==c.name||null==c.name),g=We.values;_(f,we,!0),_(l,_e,h),_(l,Ce,!0),_(l,be,f),(i?new f(1)[ve]==h:ve in l)||O(l,ve,{get:function(){return h}}),A[h]=f,w(w.G+w.W+w.F*(f!=r),A),w(w.S,h,{BYTES_PER_ELEMENT:d}),w(w.S+w.F*v(function(){r.of.call(f,1)}),h,{from:xe,of:Le}),G in l||_(l,G,d),w(w.P,h,Re),L(h),w(w.P+w.F*Te,h,{set:Oe}),w(w.P+w.F*!p,h,We),m||l.toString==ge||(l.toString=ge),w(w.P+w.F*v(function(){new f(1).slice()}),h,{slice:Me}),w(w.P+w.F*(v(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!v(function(){l.toLocaleString.call([1,2])})),h,{toLocaleString:He}),D[h]=p?c:g,m||p||_(l,ye,g)}}else t.exports=function(){}},{"./_an-instance":8,"./_array-copy-within":10,"./_array-fill":11,"./_array-includes":13,"./_array-methods":14,"./_classof":19,"./_ctx":27,"./_descriptors":31,"./_export":35,"./_fails":37,"./_global":43,"./_has":44,"./_hide":45,"./_is-array-iter":51,"./_is-object":54,"./_iter-detect":59,"./_iterators":61,"./_library":62,"./_object-create":73,"./_object-dp":74,"./_object-gopd":77,"./_object-gopn":79,"./_object-gpo":81,"./_property-desc":92,"./_redefine-all":93,"./_set-species":102,"./_species-constructor":106,"./_to-absolute-index":116,"./_to-index":117,"./_to-integer":118,"./_to-length":120,"./_to-object":121,"./_to-primitive":122,"./_typed":125,"./_typed-buffer":124,"./_uid":126,"./_wks":131,"./core.get-iterator-method":132,"./es6.array.iterator":144}],124:[function(e,t,o){var n=e("./_global"),i=e("./_descriptors"),a=e("./_library"),r=e("./_typed"),s=e("./_hide"),A=e("./_redefine-all"),l=e("./_fails"),c=e("./_an-instance"),d=e("./_to-integer"),u=e("./_to-length"),h=e("./_to-index"),f=e("./_object-gopn").f,p=e("./_object-dp").f,g=e("./_array-fill"),m=e("./_set-to-string-tag"),y="ArrayBuffer",v="DataView",w="prototype",b="Wrong index!",B=n[y],_=n[v],C=n.Math,E=n.RangeError,S=n.Infinity,I=B,T=C.abs,k=C.pow,Q=C.floor,U=C.log,F=C.LN2,P="byteLength",D="byteOffset",x=i?"_b":"buffer",L=i?"_l":P,N=i?"_o":D;function H(e,t,o){var n,i,a,r=new Array(o),s=8*o-t-1,A=(1<<s)-1,l=A>>1,c=23===t?k(2,-24)-k(2,-77):0,d=0,u=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===S?(i=e!=e?1:0,n=A):(n=Q(U(e)/F),e*(a=k(2,-n))<1&&(n--,a*=2),2<=(e+=1<=n+l?c/a:c*k(2,1-l))*a&&(n++,a/=2),A<=n+l?(i=0,n=A):1<=n+l?(i=(e*a-1)*k(2,t),n+=l):(i=e*k(2,l-1)*k(2,t),n=0));8<=t;r[d++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;0<s;r[d++]=255&n,n/=256,s-=8);return r[--d]|=128*u,r}function R(e,t,o){var n,i=8*o-t-1,a=(1<<i)-1,r=a>>1,s=i-7,A=o-1,l=e[A--],c=127&l;for(l>>=7;0<s;c=256*c+e[A],A--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;0<s;n=256*n+e[A],A--,s-=8);if(0===c)c=1-r;else{if(c===a)return n?NaN:l?-S:S;n+=k(2,t),c-=r}return(l?-1:1)*n*k(2,c-t)}function M(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function O(e){return[255&e]}function W(e){return[255&e,e>>8&255]}function K(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return H(e,52,8)}function j(e){return H(e,23,4)}function z(e,t,o){p(e[w],t,{get:function(){return this[o]}})}function J(e,t,o,n){var i=h(+o);if(i+t>e[L])throw E(b);var a=e[x]._b,r=i+e[N],s=a.slice(r,r+t);return n?s:s.reverse()}function G(e,t,o,n,i,a){var r=h(+o);if(r+t>e[L])throw E(b);for(var s=e[x]._b,A=r+e[N],l=n(+i),c=0;c<t;c++)s[A+c]=l[a?c:t-c-1]}if(r.ABV){if(!l(function(){B(1)})||!l(function(){new B(-1)})||l(function(){return new B,new B(1.5),new B(NaN),B.name!=y})){for(var X,Y=(B=function(e){return c(this,B),new I(h(e))})[w]=I[w],q=f(I),Z=0;q.length>Z;)(X=q[Z++])in B||s(B,X,I[X]);a||(Y.constructor=B)}var $=new _(new B(2)),ee=_[w].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||A(_[w],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else B=function(e){c(this,B,y);var t=h(e);this._b=g.call(new Array(t),0),this[L]=t},_=function(e,t,o){c(this,_,v),c(e,B,v);var n=e[L],i=d(t);if(i<0||n<i)throw E("Wrong offset!");if(n<i+(o=void 0===o?n-i:u(o)))throw E("Wrong length!");this[x]=e,this[N]=i,this[L]=o},i&&(z(B,P,"_l"),z(_,"buffer","_b"),z(_,P,"_l"),z(_,D,"_o")),A(_[w],{getInt8:function(e){return J(this,1,e)[0]<<24>>24},getUint8:function(e){return J(this,1,e)[0]},getInt16:function(e,t){var o=J(this,2,e,t);return(o[1]<<8|o[0])<<16>>16},getUint16:function(e,t){var o=J(this,2,e,t);return o[1]<<8|o[0]},getInt32:function(e,t){return M(J(this,4,e,t))},getUint32:function(e,t){return M(J(this,4,e,t))>>>0},getFloat32:function(e,t){return R(J(this,4,e,t),23,4)},getFloat64:function(e,t){return R(J(this,8,e,t),52,8)},setInt8:function(e,t){G(this,1,e,O,t)},setUint8:function(e,t){G(this,1,e,O,t)},setInt16:function(e,t,o){G(this,2,e,W,t,o)},setUint16:function(e,t,o){G(this,2,e,W,t,o)},setInt32:function(e,t,o){G(this,4,e,K,t,o)},setUint32:function(e,t,o){G(this,4,e,K,t,o)},setFloat32:function(e,t,o){G(this,4,e,j,t,o)},setFloat64:function(e,t,o){G(this,8,e,V,t,o)}});m(B,y),m(_,v),s(_[w],r.VIEW,!0),o[y]=B,o[v]=_},{"./_an-instance":8,"./_array-fill":11,"./_descriptors":31,"./_fails":37,"./_global":43,"./_hide":45,"./_library":62,"./_object-dp":74,"./_object-gopn":79,"./_redefine-all":93,"./_set-to-string-tag":103,"./_to-index":117,"./_to-integer":118,"./_to-length":120,"./_typed":125}],125:[function(e,t,o){for(var n,i=e("./_global"),a=e("./_hide"),r=e("./_uid"),s=r("typed_array"),A=r("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,d=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=i[u[d++]])?(a(n.prototype,s,!0),a(n.prototype,A,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:A}},{"./_global":43,"./_hide":45,"./_uid":126}],126:[function(e,t,o){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],127:[function(e,t,o){var n=e("./_global").navigator;t.exports=n&&n.userAgent||""},{"./_global":43}],128:[function(e,t,o){var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":54}],129:[function(e,t,o){var n=e("./_global"),i=e("./_core"),a=e("./_library"),r=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:r.f(e)})}},{"./_core":25,"./_global":43,"./_library":62,"./_object-dp":74,"./_wks-ext":130}],130:[function(e,t,o){o.f=e("./_wks")},{"./_wks":131}],131:[function(e,t,o){var n=e("./_shared")("wks"),i=e("./_uid"),a=e("./_global").Symbol,r="function"==typeof a;(t.exports=function(e){return n[e]||(n[e]=r&&a[e]||(r?a:i)("Symbol."+e))}).store=n},{"./_global":43,"./_shared":105,"./_uid":126}],132:[function(e,t,o){var n=e("./_classof"),i=e("./_wks")("iterator"),a=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},{"./_classof":19,"./_core":25,"./_iterators":61,"./_wks":131}],133:[function(e,t,o){var n=e("./_export"),i=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return i(e)}})},{"./_export":35,"./_replacer":97}],134:[function(e,t,o){var n=e("./_export");n(n.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":6,"./_array-copy-within":10,"./_export":35}],135:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(4);n(n.P+n.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e,t){return i(this,e,t)}})},{"./_array-methods":14,"./_export":35,"./_strict-method":107}],136:[function(e,t,o){var n=e("./_export");n(n.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":6,"./_array-fill":11,"./_export":35}],137:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(2);n(n.P+n.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e,t){return i(this,e,t)}})},{"./_array-methods":14,"./_export":35,"./_strict-method":107}],138:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(6),a="findIndex",r=!0;a in[]&&Array(1)[a](function(){r=!1}),n(n.P+n.F*r,"Array",{findIndex:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),e("./_add-to-unscopables")(a)},{"./_add-to-unscopables":6,"./_array-methods":14,"./_export":35}],139:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),e("./_add-to-unscopables")("find")},{"./_add-to-unscopables":6,"./_array-methods":14,"./_export":35}],140:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(0),a=e("./_strict-method")([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(e,t){return i(this,e,t)}})},{"./_array-methods":14,"./_export":35,"./_strict-method":107}],141:[function(e,t,o){var f=e("./_ctx"),n=e("./_export"),p=e("./_to-object"),g=e("./_iter-call"),m=e("./_is-array-iter"),y=e("./_to-length"),v=e("./_create-property"),w=e("./core.get-iterator-method");n(n.S+n.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e,t,o){var n,i,a,r,s=p(e),A="function"==typeof this?this:Array,l=arguments.length,c=1<l?t:void 0,d=void 0!==c,u=0,h=w(s);if(d&&(c=f(c,2<l?o:void 0,2)),null==h||A==Array&&m(h))for(i=new A(n=y(s.length));u<n;u++)v(i,u,d?c(s[u],u):s[u]);else for(r=h.call(s),i=new A;!(a=r.next()).done;u++)v(i,u,d?g(r,c,[a.value,u],!0):a.value);return i.length=u,i}})},{"./_create-property":26,"./_ctx":27,"./_export":35,"./_is-array-iter":51,"./_iter-call":56,"./_iter-detect":59,"./_to-length":120,"./_to-object":121,"./core.get-iterator-method":132}],142:[function(e,t,o){var n=e("./_export"),i=e("./_array-includes")(!1),a=[].indexOf,r=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(r||!e("./_strict-method")(a)),"Array",{indexOf:function(e,t){return r?a.apply(this,arguments)||0:i(this,e,t)}})},{"./_array-includes":13,"./_export":35,"./_strict-method":107}],143:[function(e,t,o){var n=e("./_export");n(n.S,"Array",{isArray:e("./_is-array")})},{"./_export":35,"./_is-array":52}],144:[function(e,t,o){var n=e("./_add-to-unscopables"),i=e("./_iter-step"),a=e("./_iterators"),r=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?o:"values"==t?e[o]:[o,e[o]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":6,"./_iter-define":58,"./_iter-step":60,"./_iterators":61,"./_to-iobject":119}],145:[function(e,t,o){var n=e("./_export"),i=e("./_to-iobject"),a=[].join;n(n.P+n.F*(e("./_iobject")!=Object||!e("./_strict-method")(a)),"Array",{join:function(e){return a.call(i(this),void 0===e?",":e)}})},{"./_export":35,"./_iobject":50,"./_strict-method":107,"./_to-iobject":119}],146:[function(e,t,o){var n=e("./_export"),a=e("./_to-iobject"),r=e("./_to-integer"),s=e("./_to-length"),A=[].lastIndexOf,l=!!A&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!e("./_strict-method")(A)),"Array",{lastIndexOf:function(e,t){if(l)return A.apply(this,arguments)||0;var o=a(this),n=s(o.length),i=n-1;for(1<arguments.length&&(i=Math.min(i,r(t))),i<0&&(i=n+i);0<=i;i--)if(i in o&&o[i]===e)return i||0;return-1}})},{"./_export":35,"./_strict-method":107,"./_to-integer":118,"./_to-iobject":119,"./_to-length":120}],147:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(1);n(n.P+n.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e,t){return i(this,e,t)}})},{"./_array-methods":14,"./_export":35,"./_strict-method":107}],148:[function(e,t,o){var n=e("./_export"),i=e("./_create-property");n(n.S+n.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,o=new("function"==typeof this?this:Array)(t);e<t;)i(o,e,arguments[e++]);return o.length=t,o}})},{"./_create-property":26,"./_export":35,"./_fails":37}],149:[function(e,t,o){var n=e("./_export"),i=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e,t){return i(this,e,arguments.length,t,!0)}})},{"./_array-reduce":15,"./_export":35,"./_strict-method":107}],150:[function(e,t,o){var n=e("./_export"),i=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e,t){return i(this,e,arguments.length,t,!1)}})},{"./_array-reduce":15,"./_export":35,"./_strict-method":107}],151:[function(e,t,o){var n=e("./_export"),i=e("./_html"),l=e("./_cof"),c=e("./_to-absolute-index"),d=e("./_to-length"),u=[].slice;n(n.P+n.F*e("./_fails")(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var o=d(this.length),n=l(this);if(t=void 0===t?o:t,"Array"==n)return u.call(this,e,t);for(var i=c(e,o),a=c(t,o),r=d(a-i),s=new Array(r),A=0;A<r;A++)s[A]="String"==n?this.charAt(i+A):this[i+A];return s}})},{"./_cof":20,"./_export":35,"./_fails":37,"./_html":46,"./_to-absolute-index":116,"./_to-length":120}],152:[function(e,t,o){var n=e("./_export"),i=e("./_array-methods")(3);n(n.P+n.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e,t){return i(this,e,t)}})},{"./_array-methods":14,"./_export":35,"./_strict-method":107}],153:[function(e,t,o){var n=e("./_export"),i=e("./_a-function"),a=e("./_to-object"),r=e("./_fails"),s=[].sort,A=[1,2,3];n(n.P+n.F*(r(function(){A.sort(void 0)})||!r(function(){A.sort(null)})||!e("./_strict-method")(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},{"./_a-function":4,"./_export":35,"./_fails":37,"./_strict-method":107,"./_to-object":121}],154:[function(e,t,o){e("./_set-species")("Array")},{"./_set-species":102}],155:[function(e,t,o){var n=e("./_export");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":35}],156:[function(e,t,o){var n=e("./_export"),i=e("./_date-to-iso-string");n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{"./_date-to-iso-string":28,"./_export":35}],157:[function(e,t,o){var n=e("./_export"),i=e("./_to-object"),a=e("./_to-primitive");n(n.P+n.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var e=i(this),t=a(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},{"./_export":35,"./_fails":37,"./_to-object":121,"./_to-primitive":122}],158:[function(e,t,o){var n=e("./_wks")("toPrimitive"),i=Date.prototype;n in i||e("./_hide")(i,n,e("./_date-to-primitive"))},{"./_date-to-primitive":29,"./_hide":45,"./_wks":131}],159:[function(e,t,o){var n=Date.prototype,i="Invalid Date",a=n.toString,r=n.getTime;new Date(NaN)+""!=i&&e("./_redefine")(n,"toString",function(){var e=r.call(this);return e==e?a.call(this):i})},{"./_redefine":94}],160:[function(e,t,o){var n=e("./_export");n(n.P,"Function",{bind:e("./_bind")})},{"./_bind":18,"./_export":35}],161:[function(e,t,o){var n=e("./_is-object"),i=e("./_object-gpo"),a=e("./_wks")("hasInstance"),r=Function.prototype;a in r||e("./_object-dp").f(r,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":54,"./_object-dp":74,"./_object-gpo":81,"./_wks":131}],162:[function(e,t,o){var n=e("./_object-dp").f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||e("./_descriptors")&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},{"./_descriptors":31,"./_object-dp":74}],163:[function(e,t,o){var n=e("./_collection-strong"),i=e("./_validate-collection");t.exports=e("./_collection")("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},{"./_collection":24,"./_collection-strong":21,"./_validate-collection":128}],164:[function(e,t,o){var n=e("./_export"),i=e("./_math-log1p"),a=Math.sqrt,r=Math.acosh;n(n.S+n.F*!(r&&710==Math.floor(r(Number.MAX_VALUE))&&r(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})},{"./_export":35,"./_math-log1p":65}],165:[function(e,t,o){var n=e("./_export"),i=Math.asinh;n(n.S+n.F*!(i&&0<1/i(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{"./_export":35}],166:[function(e,t,o){var n=e("./_export"),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":35}],167:[function(e,t,o){var n=e("./_export"),i=e("./_math-sign");n(n.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":35,"./_math-sign":67}],168:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":35}],169:[function(e,t,o){var n=e("./_export"),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{"./_export":35}],170:[function(e,t,o){var n=e("./_export"),i=e("./_math-expm1");n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},{"./_export":35,"./_math-expm1":63}],171:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{fround:e("./_math-fround")})},{"./_export":35,"./_math-fround":64}],172:[function(e,t,o){var n=e("./_export"),A=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var o,n,i=0,a=0,r=arguments.length,s=0;a<r;)s<(o=A(arguments[a++]))?(i=i*(n=s/o)*n+1,s=o):i+=0<o?(n=o/s)*n:o;return s===1/0?1/0:s*Math.sqrt(i)}})},{"./_export":35}],173:[function(e,t,o){var n=e("./_export"),i=Math.imul;n(n.S+n.F*e("./_fails")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var o=+e,n=+t,i=65535&o,a=65535&n;return 0|i*a+((65535&o>>>16)*a+i*(65535&n>>>16)<<16>>>0)}})},{"./_export":35,"./_fails":37}],174:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{"./_export":35}],175:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":35,"./_math-log1p":65}],176:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":35}],177:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{sign:e("./_math-sign")})},{"./_export":35,"./_math-sign":67}],178:[function(e,t,o){var n=e("./_export"),i=e("./_math-expm1"),a=Math.exp;n(n.S+n.F*e("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},{"./_export":35,"./_fails":37,"./_math-expm1":63}],179:[function(e,t,o){var n=e("./_export"),i=e("./_math-expm1"),a=Math.exp;n(n.S,"Math",{tanh:function(e){var t=i(e=+e),o=i(-e);return t==1/0?1:o==1/0?-1:(t-o)/(a(e)+a(-e))}})},{"./_export":35,"./_math-expm1":63}],180:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},{"./_export":35}],181:[function(e,t,o){function n(e){var t=c(e,!1);if("string"==typeof t&&2<t.length){var o,n,i,a=(t=v?t.trim():h(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(o=t.charCodeAt(2))||120===o)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var r,s=t.slice(2),A=0,l=s.length;A<l;A++)if((r=s.charCodeAt(A))<48||i<r)return NaN;return parseInt(s,n)}}return+t}var i=e("./_global"),a=e("./_has"),r=e("./_cof"),s=e("./_inherit-if-required"),c=e("./_to-primitive"),A=e("./_fails"),l=e("./_object-gopn").f,d=e("./_object-gopd").f,u=e("./_object-dp").f,h=e("./_string-trim").trim,f="Number",p=i[f],g=p,m=p.prototype,y=r(e("./_object-create")(m))==f,v="trim"in String.prototype;if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof p&&(y?A(function(){m.valueOf.call(o)}):r(o)!=f)?s(new g(n(t)),o,p):n(t)};for(var w,b=e("./_descriptors")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),B=0;b.length>B;B++)a(g,w=b[B])&&!a(p,w)&&u(p,w,d(g,w));(p.prototype=m).constructor=p,e("./_redefine")(i,f,p)}},{"./_cof":20,"./_descriptors":31,"./_fails":37,"./_global":43,"./_has":44,"./_inherit-if-required":48,"./_object-create":73,"./_object-dp":74,"./_object-gopd":77,"./_object-gopn":79,"./_redefine":94,"./_string-trim":113,"./_to-primitive":122}],182:[function(e,t,o){var n=e("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":35}],183:[function(e,t,o){var n=e("./_export"),i=e("./_global").isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{"./_export":35,"./_global":43}],184:[function(e,t,o){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":35,"./_is-integer":53}],185:[function(e,t,o){var n=e("./_export");n(n.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":35}],186:[function(e,t,o){var n=e("./_export"),i=e("./_is-integer"),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},{"./_export":35,"./_is-integer":53}],187:[function(e,t,o){var n=e("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":35}],188:[function(e,t,o){var n=e("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":35}],189:[function(e,t,o){var n=e("./_export"),i=e("./_parse-float");n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{"./_export":35,"./_parse-float":88}],190:[function(e,t,o){var n=e("./_export"),i=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},{"./_export":35,"./_parse-int":89}],191:[function(e,t,o){function l(e,t){for(var o=-1,n=t;++o<6;)n+=e*r[o],r[o]=n%1e7,n=a(n/1e7)}function c(e){for(var t=6,o=0;0<=--t;)o+=r[t],r[t]=a(o/e),o=o%e*1e7}function d(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==r[e]){var o=String(r[e]);t=""===t?o:t+f.call("0",7-o.length)+o}return t}var n=e("./_export"),u=e("./_to-integer"),h=e("./_a-number-value"),f=e("./_string-repeat"),i=1..toFixed,a=Math.floor,r=[0,0,0,0,0,0],p="Number.toFixed: incorrect invocation!",g=function(e,t,o){return 0===t?o:t%2==1?g(e,t-1,o*e):g(e*e,t/2,o)};n(n.P+n.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("./_fails")(function(){i.call({})})),"Number",{toFixed:function(e){var t,o,n,i,a=h(this,p),r=u(e),s="",A="0";if(r<0||20<r)throw RangeError(p);if(a!=a)return"NaN";if(a<=-1e21||1e21<=a)return String(a);if(a<0&&(s="-",a=-a),1e-21<a)if(o=(t=function(e){for(var t=0,o=e;4096<=o;)t+=12,o/=4096;for(;2<=o;)t+=1,o/=2;return t}(a*g(2,69,1))-69)<0?a*g(2,-t,1):a/g(2,t,1),o*=4503599627370496,0<(t=52-t)){for(l(0,o),n=r;7<=n;)l(1e7,0),n-=7;for(l(g(10,n,1),0),n=t-1;23<=n;)c(1<<23),n-=23;c(1<<n),l(1,1),c(2),A=d()}else l(0,o),l(1<<-t,0),A=d()+f.call("0",r);return A=0<r?s+((i=A.length)<=r?"0."+f.call("0",r-i)+A:A.slice(0,i-r)+"."+A.slice(i-r)):s+A}})},{"./_a-number-value":5,"./_export":35,"./_fails":37,"./_string-repeat":112,"./_to-integer":118}],192:[function(e,t,o){var n=e("./_export"),i=e("./_fails"),a=e("./_a-number-value"),r=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==r.call(1,void 0)})||!i(function(){r.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?r.call(t):r.call(t,e)}})},{"./_a-number-value":5,"./_export":35,"./_fails":37}],193:[function(e,t,o){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":35,"./_object-assign":72}],194:[function(e,t,o){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":35,"./_object-create":73}],195:[function(e,t,o){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":31,"./_export":35,"./_object-dps":75}],196:[function(e,t,o){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":31,"./_export":35,"./_object-dp":74}],197:[function(e,t,o){var n=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},{"./_is-object":54,"./_meta":68,"./_object-sap":85}],198:[function(e,t,o){var n=e("./_to-iobject"),i=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},{"./_object-gopd":77,"./_object-sap":85,"./_to-iobject":119}],199:[function(e,t,o){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":78,"./_object-sap":85}],200:[function(e,t,o){var n=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(n(e))}})},{"./_object-gpo":81,"./_object-sap":85,"./_to-object":121}],201:[function(e,t,o){var n=e("./_is-object");e("./_object-sap")("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},{"./_is-object":54,"./_object-sap":85}],202:[function(e,t,o){var n=e("./_is-object");e("./_object-sap")("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./_is-object":54,"./_object-sap":85}],203:[function(e,t,o){var n=e("./_is-object");e("./_object-sap")("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./_is-object":54,"./_object-sap":85}],204:[function(e,t,o){var n=e("./_export");n(n.S,"Object",{is:e("./_same-value")})},{"./_export":35,"./_same-value":98}],205:[function(e,t,o){var n=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(n(e))}})},{"./_object-keys":83,"./_object-sap":85,"./_to-object":121}],206:[function(e,t,o){var n=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},{"./_is-object":54,"./_meta":68,"./_object-sap":85}],207:[function(e,t,o){var n=e("./_is-object"),i=e("./_meta").onFreeze;e("./_object-sap")("seal",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},{"./_is-object":54,"./_meta":68,"./_object-sap":85}],208:[function(e,t,o){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":35,"./_set-proto":101}],209:[function(e,t,o){var n=e("./_classof"),i={};i[e("./_wks")("toStringTag")]="z",i+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./_classof":19,"./_redefine":94,"./_wks":131}],210:[function(e,t,o){var n=e("./_export"),i=e("./_parse-float");n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},{"./_export":35,"./_parse-float":88}],211:[function(e,t,o){var n=e("./_export"),i=e("./_parse-int");n(n.G+n.F*(parseInt!=i),{parseInt:i})},{"./_export":35,"./_parse-int":89}],212:[function(o,e,t){function n(){}function d(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t}function i(c,o){if(!c._n){c._n=!0;var n=c._c;B(function(){for(var A=c._v,l=1==c._s,e=0,t=function(e){var t,o,n,i=l?e.ok:e.fail,a=e.resolve,r=e.reject,s=e.domain;try{i?(l||(2==c._h&&H(c),c._h=1),!0===i?t=A:(s&&s.enter(),t=i(A),s&&(s.exit(),n=!0)),t===e.promise?r(T("Promise-chain cycle")):(o=d(t))?o.call(t,a,r):a(t)):r(A)}catch(e){s&&!n&&s.exit(),r(e)}};n.length>e;)t(n[e++]);c._c=[],c._n=!1,o&&!c._h&&L(c)})}}function a(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),i(t,!0))}var r,s,A,l,c=o("./_library"),u=o("./_global"),h=o("./_ctx"),f=o("./_classof"),p=o("./_export"),g=o("./_is-object"),m=o("./_a-function"),y=o("./_an-instance"),v=o("./_for-of"),w=o("./_species-constructor"),b=o("./_task").set,B=o("./_microtask")(),_=o("./_new-promise-capability"),C=o("./_perform"),E=o("./_user-agent"),S=o("./_promise-resolve"),I="Promise",T=u.TypeError,k=u.process,Q=k&&k.versions,U=Q&&Q.v8||"",F=u[I],P="process"==f(k),D=s=_.f,x=!!function(){try{var e=F.resolve(1),t=(e.constructor={})[o("./_wks")("species")]=function(e){e(n,n)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(n)instanceof t&&0!==U.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),L=function(a){b.call(u,function(){var e,t,o,n=a._v,i=N(a);if(i&&(e=C(function(){P?k.emit("unhandledRejection",n,a):(t=u.onunhandledrejection)?t({promise:a,reason:n}):(o=u.console)&&o.error&&o.error("Unhandled promise rejection",n)}),a._h=P||N(a)?2:1),a._a=void 0,i&&e.e)throw e.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(t){b.call(u,function(){var e;P?k.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(e){var o,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw T("Promise can't be resolved itself");(o=d(e))?B(function(){var t={_w:n,_d:!1};try{o.call(e,h(R,t,1),h(a,t,1))}catch(e){a.call(t,e)}}):(n._v=e,n._s=1,i(n,!1))}catch(e){a.call({_w:n,_d:!1},e)}}};x||(F=function(e){y(this,F,I,"_h"),m(e),r.call(this);try{e(h(R,this,1),h(a,this,1))}catch(e){a.call(this,e)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o("./_redefine-all")(F.prototype,{then:function(e,t){var o=D(w(this,F));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=P?k.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&i(this,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new r;this.promise=e,this.resolve=h(R,e,1),this.reject=h(a,e,1)},_.f=D=function(e){return e===F||e===l?new A(e):s(e)}),p(p.G+p.W+p.F*!x,{Promise:F}),o("./_set-to-string-tag")(F,I),o("./_set-species")(I),l=o("./_core")[I],p(p.S+p.F*!x,I,{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(c||!x),I,{resolve:function(e){return S(c&&this===l?F:this,e)}}),p(p.S+p.F*!(x&&o("./_iter-detect")(function(e){F.all(e).catch(n)})),I,{all:function(e){var r=this,t=D(r),s=t.resolve,A=t.reject,o=C(function(){var n=[],i=0,a=1;v(e,!1,function(e){var t=i++,o=!1;n.push(void 0),a++,r.resolve(e).then(function(e){o||(o=!0,n[t]=e,--a||s(n))},A)}),--a||s(n)});return o.e&&A(o.v),t.promise},race:function(e){var t=this,o=D(t),n=o.reject,i=C(function(){v(e,!1,function(e){t.resolve(e).then(o.resolve,n)})});return i.e&&n(i.v),o.promise}})},{"./_a-function":4,"./_an-instance":8,"./_classof":19,"./_core":25,"./_ctx":27,"./_export":35,"./_for-of":41,"./_global":43,"./_is-object":54,"./_iter-detect":59,"./_library":62,"./_microtask":70,"./_new-promise-capability":71,"./_perform":90,"./_promise-resolve":91,"./_redefine-all":93,"./_set-species":102,"./_set-to-string-tag":103,"./_species-constructor":106,"./_task":115,"./_user-agent":127,"./_wks":131}],213:[function(e,t,o){var n=e("./_export"),a=e("./_a-function"),r=e("./_an-object"),s=(e("./_global").Reflect||{}).apply,A=Function.apply;n(n.S+n.F*!e("./_fails")(function(){s(function(){})}),"Reflect",{apply:function(e,t,o){var n=a(e),i=r(o);return s?s(n,t,i):A.call(n,t,i)}})},{"./_a-function":4,"./_an-object":9,"./_export":35,"./_fails":37,"./_global":43}],214:[function(e,t,o){var n=e("./_export"),A=e("./_object-create"),l=e("./_a-function"),c=e("./_an-object"),d=e("./_is-object"),i=e("./_fails"),u=e("./_bind"),h=(e("./_global").Reflect||{}).construct,f=i(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),p=!i(function(){h(function(){})});n(n.S+n.F*(f||p),"Reflect",{construct:function(e,t,o){l(e),c(t);var n=arguments.length<3?e:l(o);if(p&&!f)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(u.apply(e,i))}var a=n.prototype,r=A(d(a)?a:Object.prototype),s=Function.apply.call(e,r,t);return d(s)?s:r}})},{"./_a-function":4,"./_an-object":9,"./_bind":18,"./_export":35,"./_fails":37,"./_global":43,"./_is-object":54,"./_object-create":73}],215:[function(e,t,o){var n=e("./_object-dp"),i=e("./_export"),a=e("./_an-object"),r=e("./_to-primitive");i(i.S+i.F*e("./_fails")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,o){a(e),t=r(t,!0),a(o);try{return n.f(e,t,o),!0}catch(e){return!1}}})},{"./_an-object":9,"./_export":35,"./_fails":37,"./_object-dp":74,"./_to-primitive":122}],216:[function(e,t,o){var n=e("./_export"),i=e("./_object-gopd").f,a=e("./_an-object");n(n.S,"Reflect",{deleteProperty:function(e,t){var o=i(a(e),t);return!(o&&!o.configurable)&&delete e[t]}})},{"./_an-object":9,"./_export":35,"./_object-gopd":77}],217:[function(e,t,o){function n(e){this._t=a(e),this._i=0;var t,o=this._k=[];for(t in e)o.push(t)}var i=e("./_export"),a=e("./_an-object");e("./_iter-create")(n,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new n(e)}})},{"./_an-object":9,"./_export":35,"./_iter-create":57}],218:[function(e,t,o){var n=e("./_object-gopd"),i=e("./_export"),a=e("./_an-object");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(a(e),t)}})},{"./_an-object":9,"./_export":35,"./_object-gopd":77}],219:[function(e,t,o){var n=e("./_export"),i=e("./_object-gpo"),a=e("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(e){return i(a(e))}})},{"./_an-object":9,"./_export":35,"./_object-gpo":81}],220:[function(e,t,o){var r=e("./_object-gopd"),s=e("./_object-gpo"),A=e("./_has"),n=e("./_export"),l=e("./_is-object"),c=e("./_an-object");n(n.S,"Reflect",{get:function e(t,o){var n,i,a=arguments.length<3?t:arguments[2];return c(t)===a?t[o]:(n=r.f(t,o))?A(n,"value")?n.value:void 0!==n.get?n.get.call(a):void 0:l(i=s(t))?e(i,o,a):void 0}})},{"./_an-object":9,"./_export":35,"./_has":44,"./_is-object":54,"./_object-gopd":77,"./_object-gpo":81}],221:[function(e,t,o){var n=e("./_export");n(n.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":35}],222:[function(e,t,o){var n=e("./_export"),i=e("./_an-object"),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return i(e),!a||a(e)}})},{"./_an-object":9,"./_export":35}],223:[function(e,t,o){var n=e("./_export");n(n.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":35,"./_own-keys":87}],224:[function(e,t,o){var n=e("./_export"),i=e("./_an-object"),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})},{"./_an-object":9,"./_export":35}],225:[function(e,t,o){var n=e("./_export"),i=e("./_set-proto");i&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},{"./_export":35,"./_set-proto":101}],226:[function(e,t,o){var A=e("./_object-dp"),l=e("./_object-gopd"),c=e("./_object-gpo"),d=e("./_has"),n=e("./_export"),u=e("./_property-desc"),h=e("./_an-object"),f=e("./_is-object");n(n.S,"Reflect",{set:function e(t,o,n){var i,a,r=arguments.length<4?t:arguments[3],s=l.f(h(t),o);if(!s){if(f(a=c(t)))return e(a,o,n,r);s=u(0)}if(d(s,"value")){if(!1===s.writable||!f(r))return!1;if(i=l.f(r,o)){if(i.get||i.set||!1===i.writable)return!1;i.value=n,A.f(r,o,i)}else A.f(r,o,u(0,n));return!0}return void 0!==s.set&&(s.set.call(r,n),!0)}})},{"./_an-object":9,"./_export":35,"./_has":44,"./_is-object":54,"./_object-dp":74,"./_object-gopd":77,"./_object-gpo":81,"./_property-desc":92}],227:[function(e,t,o){var n=e("./_global"),a=e("./_inherit-if-required"),i=e("./_object-dp").f,r=e("./_object-gopn").f,s=e("./_is-regexp"),A=e("./_flags"),l=n.RegExp,c=l,d=l.prototype,u=/a/g,h=/a/g,f=new l(u)!==u;if(e("./_descriptors")&&(!f||e("./_fails")(function(){return h[e("./_wks")("match")]=!1,l(u)!=u||l(h)==h||"/a/i"!=l(u,"i")}))){l=function(e,t){var o=this instanceof l,n=s(e),i=void 0===t;return!o&&n&&e.constructor===l&&i?e:a(f?new c(n&&!i?e.source:e,t):c((n=e instanceof l)?e.source:e,n&&i?A.call(e):t),o?this:d,l)};for(var p=function(t){t in l||i(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},g=r(c),m=0;g.length>m;)p(g[m++]);(d.constructor=l).prototype=d,e("./_redefine")(n,"RegExp",l)}e("./_set-species")("RegExp")},{"./_descriptors":31,"./_fails":37,"./_flags":39,"./_global":43,"./_inherit-if-required":48,"./_is-regexp":55,"./_object-dp":74,"./_object-gopn":79,"./_redefine":94,"./_set-species":102,"./_wks":131}],228:[function(e,t,o){var n=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},{"./_export":35,"./_regexp-exec":96}],229:[function(e,t,o){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":31,"./_flags":39,"./_object-dp":74}],230:[function(e,t,o){var d=e("./_an-object"),u=e("./_to-length"),h=e("./_advance-string-index"),f=e("./_regexp-exec-abstract");e("./_fix-re-wks")("match",1,function(n,i,l,c){return[function(e){var t=n(this),o=null==e?void 0:e[i];return void 0!==o?o.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=c(l,e,this);if(t.done)return t.value;var o=d(e),n=String(this);if(!o.global)return f(o,n);for(var i,a=o.unicode,r=[],s=o.lastIndex=0;null!==(i=f(o,n));){var A=String(i[0]);""===(r[s]=A)&&(o.lastIndex=h(n,u(o.lastIndex),a)),s++}return 0===s?null:r}]})},{"./_advance-string-index":7,"./_an-object":9,"./_fix-re-wks":38,"./_regexp-exec-abstract":95,"./_to-length":120}],231:[function(e,t,o){var C=e("./_an-object"),n=e("./_to-object"),E=e("./_to-length"),S=e("./_to-integer"),I=e("./_advance-string-index"),T=e("./_regexp-exec-abstract"),k=Math.max,Q=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;e("./_fix-re-wks")("replace",2,function(i,a,b,B){return[function(e,t){var o=i(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,o,t):b.call(String(o),e,t)},function(e,t){var o=B(b,e,this,t);if(o.done)return o.value;var n=C(e),i=String(this),a="function"==typeof t;a||(t=String(t));var r=n.global;if(r){var s=n.unicode;n.lastIndex=0}for(var A=[];;){var l=T(n,i);if(null===l)break;if(A.push(l),!r)break;""===String(l[0])&&(n.lastIndex=I(i,E(n.lastIndex),s))}for(var c,d="",u=0,h=0;h<A.length;h++){l=A[h];for(var f=String(l[0]),p=k(Q(S(l.index),i.length),0),g=[],m=1;m<l.length;m++)g.push(void 0===(c=l[m])?c:String(c));var y=l.groups;if(a){var v=[f].concat(g,p,i);void 0!==y&&v.push(y);var w=String(t.apply(void 0,v))}else w=_(f,i,p,g,y,t);u<=p&&(d+=i.slice(u,p)+w,u=p+f.length)}return d+i.slice(u)}];function _(a,r,s,A,l,e){var c=s+a.length,d=A.length,t=f;return void 0!==l&&(l=n(l),t=h),b.call(e,t,function(e,t){var o;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return r.slice(0,s);case"'":return r.slice(c);case"<":o=l[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(d<n){var i=u(n/10);return 0===i?e:i<=d?void 0===A[i-1]?t.charAt(1):A[i-1]+t.charAt(1):e}o=A[n-1]}return void 0===o?"":o})}})},{"./_advance-string-index":7,"./_an-object":9,"./_fix-re-wks":38,"./_regexp-exec-abstract":95,"./_to-integer":118,"./_to-length":120,"./_to-object":121}],232:[function(e,t,o){var A=e("./_an-object"),l=e("./_same-value"),c=e("./_regexp-exec-abstract");e("./_fix-re-wks")("search",1,function(n,i,r,s){return[function(e){var t=n(this),o=null==e?void 0:e[i];return void 0!==o?o.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=s(r,e,this);if(t.done)return t.value;var o=A(e),n=String(this),i=o.lastIndex;l(i,0)||(o.lastIndex=0);var a=c(o,n);return l(o.lastIndex,i)||(o.lastIndex=i),null===a?-1:a.index}]})},{"./_an-object":9,"./_fix-re-wks":38,"./_regexp-exec-abstract":95,"./_same-value":98}],233:[function(e,t,o){var d=e("./_is-regexp"),v=e("./_an-object"),w=e("./_species-constructor"),b=e("./_advance-string-index"),B=e("./_to-length"),_=e("./_regexp-exec-abstract"),u=e("./_regexp-exec"),n=e("./_fails"),C=Math.min,h=[].push,r="split",f="length",p="lastIndex",E=4294967295,S=!n(function(){RegExp(E,"y")});e("./_fix-re-wks")("split",2,function(i,a,g,m){var y;return y="c"=="abbc"[r](/(b)*/)[1]||4!="test"[r](/(?:)/,-1)[f]||2!="ab"[r](/(?:ab)*/)[f]||4!="."[r](/(.?)(.?)/)[f]||1<"."[r](/()()/)[f]||""[r](/.?/)[f]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!d(e))return g.call(o,e,t);for(var n,i,a,r=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),A=0,l=void 0===t?E:t>>>0,c=new RegExp(e.source,s+"g");(n=u.call(c,o))&&!(A<(i=c[p])&&(r.push(o.slice(A,n.index)),1<n[f]&&n.index<o[f]&&h.apply(r,n.slice(1)),a=n[0][f],A=i,r[f]>=l));)c[p]===n.index&&c[p]++;return A===o[f]?!a&&c.test("")||r.push(""):r.push(o.slice(A)),r[f]>l?r.slice(0,l):r}:"0"[r](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:g.call(this,e,t)}:g,[function(e,t){var o=i(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,o,t):y.call(String(o),e,t)},function(e,t){var o=m(y,e,this,t,y!==g);if(o.done)return o.value;var n=v(e),i=String(this),a=w(n,RegExp),r=n.unicode,s=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(S?"y":"g"),A=new a(S?n:"^(?:"+n.source+")",s),l=void 0===t?E:t>>>0;if(0==l)return[];if(0===i.length)return null===_(A,i)?[i]:[];for(var c=0,d=0,u=[];d<i.length;){A.lastIndex=S?d:0;var h,f=_(A,S?i:i.slice(d));if(null===f||(h=C(B(A.lastIndex+(S?0:d)),i.length))===c)d=b(i,d,r);else{if(u.push(i.slice(c,d)),u.length===l)return u;for(var p=1;p<=f.length-1;p++)if(u.push(f[p]),u.length===l)return u;d=c=h}}return u.push(i.slice(c)),u}]})},{"./_advance-string-index":7,"./_an-object":9,"./_fails":37,"./_fix-re-wks":38,"./_is-regexp":55,"./_regexp-exec":96,"./_regexp-exec-abstract":95,"./_species-constructor":106,"./_to-length":120}],234:[function(t,e,o){t("./es6.regexp.flags");function n(e){t("./_redefine")(RegExp.prototype,s,e,!0)}var i=t("./_an-object"),a=t("./_flags"),r=t("./_descriptors"),s="toString",A=/./[s];t("./_fails")(function(){return"/a/b"!=A.call({source:"a",flags:"b"})})?n(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?a.call(e):void 0)}):A.name!=s&&n(function(){return A.call(this)})},{"./_an-object":9,"./_descriptors":31,"./_fails":37,"./_flags":39,"./_redefine":94,"./es6.regexp.flags":229}],235:[function(e,t,o){var n=e("./_collection-strong"),i=e("./_validate-collection");t.exports=e("./_collection")("Set",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},{"./_collection":24,"./_collection-strong":21,"./_validate-collection":128}],236:[function(e,t,o){e("./_string-html")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},{"./_string-html":110}],237:[function(e,t,o){e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":110}],238:[function(e,t,o){e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":110}],239:[function(e,t,o){e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":110}],240:[function(e,t,o){var n=e("./_export"),i=e("./_string-at")(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},{"./_export":35,"./_string-at":108}],241:[function(e,t,o){var n=e("./_export"),s=e("./_to-length"),A=e("./_string-context"),l="endsWith",c=""[l];n(n.P+n.F*e("./_fails-is-regexp")(l),"String",{endsWith:function(e,t){var o=A(this,e,l),n=1<arguments.length?t:void 0,i=s(o.length),a=void 0===n?i:Math.min(s(n),i),r=String(e);return c?c.call(o,r,a):o.slice(a-r.length,a)===r}})},{"./_export":35,"./_fails-is-regexp":36,"./_string-context":109,"./_to-length":120}],242:[function(e,t,o){e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":110}],243:[function(e,t,o){e("./_string-html")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},{"./_string-html":110}],244:[function(e,t,o){e("./_string-html")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},{"./_string-html":110}],245:[function(e,t,o){var n=e("./_export"),a=e("./_to-absolute-index"),r=String.fromCharCode,i=String.fromCodePoint;n(n.S+n.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(e){for(var t,o=[],n=arguments.length,i=0;i<n;){if(t=+arguments[i++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");o.push(t<65536?r(t):r(55296+((t-=65536)>>10),t%1024+56320))}return o.join("")}})},{"./_export":35,"./_to-absolute-index":116}],246:[function(e,t,o){var n=e("./_export"),i=e("./_string-context");n(n.P+n.F*e("./_fails-is-regexp")("includes"),"String",{includes:function(e,t){return!!~i(this,e,"includes").indexOf(e,1<arguments.length?t:void 0)}})},{"./_export":35,"./_fails-is-regexp":36,"./_string-context":109}],247:[function(e,t,o){e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":110}],248:[function(e,t,o){var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=n(t,o),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":58,"./_string-at":108}],249:[function(e,t,o){e("./_string-html")("link",function(t){return function(e){return t(this,"a","href",e)}})},{"./_string-html":110}],250:[function(e,t,o){var n=e("./_export"),r=e("./_to-iobject"),s=e("./_to-length");n(n.S,"String",{raw:function(e){for(var t=r(e.raw),o=s(t.length),n=arguments.length,i=[],a=0;a<o;)i.push(String(t[a++])),a<n&&i.push(String(arguments[a]));return i.join("")}})},{"./_export":35,"./_to-iobject":119,"./_to-length":120}],251:[function(e,t,o){var n=e("./_export");n(n.P,"String",{repeat:e("./_string-repeat")})},{"./_export":35,"./_string-repeat":112}],252:[function(e,t,o){e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":110}],253:[function(e,t,o){var n=e("./_export"),a=e("./_to-length"),r=e("./_string-context"),s="startsWith",A=""[s];n(n.P+n.F*e("./_fails-is-regexp")(s),"String",{startsWith:function(e,t){var o=r(this,e,s),n=a(Math.min(1<arguments.length?t:void 0,o.length)),i=String(e);return A?A.call(o,i,n):o.slice(n,n+i.length)===i}})},{"./_export":35,"./_fails-is-regexp":36,"./_string-context":109,"./_to-length":120}],254:[function(e,t,o){e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":110}],255:[function(e,t,o){e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":110}],256:[function(e,t,o){e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":110}],257:[function(e,t,o){e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":113}],258:[function(e,t,o){function n(e){var t=J[e]=Q(R[W]);return t._k=e,t}function i(e,t){C(e);for(var o,n=B(t=I(t)),i=0,a=n.length;i<a;)te(e,o=n[i++],t[o]);return e}function a(e){var t=j.call(this,e=T(e,!0));return!(this===X&&c(J,e)&&!c(G,e))&&(!(t||!c(this,e)||!c(J,e)||c(this,K)&&this[K][e])||t)}function r(e,t){if(e=I(e),t=T(t,!0),e!==X||!c(J,t)||c(G,t)){var o=L(e,t);return!o||!c(J,t)||c(e,K)&&e[K][t]||(o.enumerable=!0),o}}function s(e){for(var t,o=H(I(e)),n=[],i=0;o.length>i;)c(J,t=o[i++])||t==K||t==f||n.push(t);return n}function A(e){for(var t,o=e===X,n=H(o?G:I(e)),i=[],a=0;n.length>a;)!c(J,t=n[a++])||o&&!c(X,t)||i.push(J[t]);return i}var l=e("./_global"),c=e("./_has"),d=e("./_descriptors"),u=e("./_export"),h=e("./_redefine"),f=e("./_meta").KEY,p=e("./_fails"),g=e("./_shared"),m=e("./_set-to-string-tag"),y=e("./_uid"),v=e("./_wks"),w=e("./_wks-ext"),b=e("./_wks-define"),B=e("./_enum-keys"),_=e("./_is-array"),C=e("./_an-object"),E=e("./_is-object"),S=e("./_to-object"),I=e("./_to-iobject"),T=e("./_to-primitive"),k=e("./_property-desc"),Q=e("./_object-create"),U=e("./_object-gopn-ext"),F=e("./_object-gopd"),P=e("./_object-gops"),D=e("./_object-dp"),x=e("./_object-keys"),L=F.f,N=D.f,H=U.f,R=l.Symbol,M=l.JSON,O=M&&M.stringify,W="prototype",K=v("_hidden"),V=v("toPrimitive"),j={}.propertyIsEnumerable,z=g("symbol-registry"),J=g("symbols"),G=g("op-symbols"),X=Object[W],Y="function"==typeof R&&!!P.f,q=l.QObject,Z=!q||!q[W]||!q[W].findChild,$=d&&p(function(){return 7!=Q(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,o){var n=L(X,t);n&&delete X[t],N(e,t,o),n&&e!==X&&N(X,t,n)}:N,ee=Y&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},te=function(e,t,o){return e===X&&te(G,t,o),C(e),t=T(t,!0),C(o),c(J,t)?(o.enumerable?(c(e,K)&&e[K][t]&&(e[K][t]=!1),o=Q(o,{enumerable:k(0,!1)})):(c(e,K)||N(e,K,k(1,{})),e[K][t]=!0),$(e,t,o)):N(e,t,o)};Y||(h((R=function(e){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?e:void 0),o=function(e){this===X&&o.call(G,e),c(this,K)&&c(this[K],t)&&(this[K][t]=!1),$(this,t,k(1,e))};return d&&Z&&$(X,t,{configurable:!0,set:o}),n(t)})[W],"toString",function(){return this._k}),F.f=r,D.f=te,e("./_object-gopn").f=U.f=s,e("./_object-pie").f=a,P.f=A,d&&!e("./_library")&&h(X,"propertyIsEnumerable",a,!0),w.f=function(e){return n(v(e))}),u(u.G+u.W+u.F*!Y,{Symbol:R});for(var oe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;oe.length>ne;)v(oe[ne++]);for(var ie=x(v.store),ae=0;ie.length>ae;)b(ie[ae++]);u(u.S+u.F*!Y,"Symbol",{for:function(e){return c(z,e+="")?z[e]:z[e]=R(e)},keyFor:function(e){if(!ee(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),u(u.S+u.F*!Y,"Object",{create:function(e,t){return void 0===t?Q(e):i(Q(e),t)},defineProperty:te,defineProperties:i,getOwnPropertyDescriptor:r,getOwnPropertyNames:s,getOwnPropertySymbols:A});var re=p(function(){P.f(1)});u(u.S+u.F*re,"Object",{getOwnPropertySymbols:function(e){return P.f(S(e))}}),M&&u(u.S+u.F*(!Y||p(function(){var e=R();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,o,n=[e],i=1;i<arguments.length;)n.push(arguments[i++]);if(o=t=n[1],(E(t)||void 0!==e)&&!ee(e))return _(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!ee(t))return t}),n[1]=t,O.apply(M,n)}}),R[W][V]||e("./_hide")(R[W],V,R[W].valueOf),m(R,"Symbol"),m(Math,"Math",!0),m(l.JSON,"JSON",!0)},{"./_an-object":9,"./_descriptors":31,"./_enum-keys":34,"./_export":35,"./_fails":37,"./_global":43,"./_has":44,"./_hide":45,"./_is-array":52,"./_is-object":54,"./_library":62,"./_meta":68,"./_object-create":73,"./_object-dp":74,"./_object-gopd":77,"./_object-gopn":79,"./_object-gopn-ext":78,"./_object-gops":80,"./_object-keys":83,"./_object-pie":84,"./_property-desc":92,"./_redefine":94,"./_set-to-string-tag":103,"./_shared":105,"./_to-iobject":119,"./_to-object":121,"./_to-primitive":122,"./_uid":126,"./_wks":131,"./_wks-define":129,"./_wks-ext":130}],259:[function(e,t,o){var n=e("./_export"),i=e("./_typed"),a=e("./_typed-buffer"),l=e("./_an-object"),c=e("./_to-absolute-index"),d=e("./_to-length"),r=e("./_is-object"),s=e("./_global").ArrayBuffer,u=e("./_species-constructor"),h=a.ArrayBuffer,f=a.DataView,A=i.ABV&&s.isView,p=h.prototype.slice,g=i.VIEW,m="ArrayBuffer";n(n.G+n.W+n.F*(s!==h),{ArrayBuffer:h}),n(n.S+n.F*!i.CONSTR,m,{isView:function(e){return A&&A(e)||r(e)&&g in e}}),n(n.P+n.U+n.F*e("./_fails")(function(){return!new h(2).slice(1,void 0).byteLength}),m,{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(l(this),e);for(var o=l(this).byteLength,n=c(e,o),i=c(void 0===t?o:t,o),a=new(u(this,h))(d(i-n)),r=new f(this),s=new f(a),A=0;n<i;)s.setUint8(A++,r.getUint8(n++));return a}}),e("./_set-species")(m)},{"./_an-object":9,"./_export":35,"./_fails":37,"./_global":43,"./_is-object":54,"./_set-species":102,"./_species-constructor":106,"./_to-absolute-index":116,"./_to-length":120,"./_typed":125,"./_typed-buffer":124}],260:[function(e,t,o){var n=e("./_export");n(n.G+n.W+n.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":35,"./_typed":125,"./_typed-buffer":124}],261:[function(e,t,o){e("./_typed-array")("Float32",4,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],262:[function(e,t,o){e("./_typed-array")("Float64",8,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],263:[function(e,t,o){e("./_typed-array")("Int16",2,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],264:[function(e,t,o){e("./_typed-array")("Int32",4,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],265:[function(e,t,o){e("./_typed-array")("Int8",1,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],266:[function(e,t,o){e("./_typed-array")("Uint16",2,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],267:[function(e,t,o){e("./_typed-array")("Uint32",4,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],268:[function(e,t,o){e("./_typed-array")("Uint8",1,function(n){return function(e,t,o){return n(this,e,t,o)}})},{"./_typed-array":123}],269:[function(e,t,o){e("./_typed-array")("Uint8",1,function(n){return function(e,t,o){return n(this,e,t,o)}},!0)},{"./_typed-array":123}],270:[function(e,t,o){function n(t){return function(e){return t(this,0<arguments.length?e:void 0)}}var a,i=e("./_global"),r=e("./_array-methods")(0),s=e("./_redefine"),A=e("./_meta"),l=e("./_object-assign"),c=e("./_collection-weak"),d=e("./_is-object"),u=e("./_validate-collection"),h=e("./_validate-collection"),f=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=A.getWeak,m=Object.isExtensible,y=c.ufstore,v={get:function(e){if(d(e)){var t=g(e);return!0===t?y(u(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(u(this,p),e,t)}},w=t.exports=e("./_collection")(p,n,v,c,!0,!0);h&&f&&(l((a=c.getConstructor(n,p)).prototype,v),A.NEED=!0,r(["delete","has","get","set"],function(n){var e=w.prototype,i=e[n];s(e,n,function(e,t){if(!d(e)||m(e))return i.call(this,e,t);this._f||(this._f=new a);var o=this._f[n](e,t);return"set"==n?this:o})}))},{"./_array-methods":14,"./_collection":24,"./_collection-weak":23,"./_global":43,"./_is-object":54,"./_meta":68,"./_object-assign":72,"./_redefine":94,"./_validate-collection":128}],271:[function(e,t,o){var n=e("./_collection-weak"),i=e("./_validate-collection");e("./_collection")("WeakSet",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},{"./_collection":24,"./_collection-weak":23,"./_validate-collection":128}],272:[function(e,t,o){var n=e("./_export"),a=e("./_flatten-into-array"),r=e("./_to-object"),s=e("./_to-length"),A=e("./_a-function"),l=e("./_array-species-create");n(n.P,"Array",{flatMap:function(e,t){var o,n,i=r(this);return A(e),o=s(i.length),n=l(i,0),a(n,i,i,o,0,1,e,t),n}}),e("./_add-to-unscopables")("flatMap")},{"./_a-function":4,"./_add-to-unscopables":6,"./_array-species-create":17,"./_export":35,"./_flatten-into-array":40,"./_to-length":120,"./_to-object":121}],273:[function(e,t,o){var n=e("./_export"),a=e("./_flatten-into-array"),r=e("./_to-object"),s=e("./_to-length"),A=e("./_to-integer"),l=e("./_array-species-create");n(n.P,"Array",{flatten:function(e){var t=e,o=r(this),n=s(o.length),i=l(o,0);return a(i,o,o,n,0,void 0===t?1:A(t)),i}}),e("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":6,"./_array-species-create":17,"./_export":35,"./_flatten-into-array":40,"./_to-integer":118,"./_to-length":120,"./_to-object":121}],274:[function(e,t,o){var n=e("./_export"),i=e("./_array-includes")(!0);n(n.P,"Array",{includes:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":6,"./_array-includes":13,"./_export":35}],275:[function(e,t,o){var n=e("./_export"),i=e("./_microtask")(),a=e("./_global").process,r="process"==e("./_cof")(a);n(n.G,{asap:function(e){var t=r&&a.domain;i(t?t.bind(e):e)}})},{"./_cof":20,"./_export":35,"./_global":43,"./_microtask":70}],276:[function(e,t,o){var n=e("./_export"),i=e("./_cof");n(n.S,"Error",{isError:function(e){return"Error"===i(e)}})},{"./_cof":20,"./_export":35}],277:[function(e,t,o){var n=e("./_export");n(n.G,{global:e("./_global")})},{"./_export":35,"./_global":43}],278:[function(e,t,o){e("./_set-collection-from")("Map")},{"./_set-collection-from":99}],279:[function(e,t,o){e("./_set-collection-of")("Map")},{"./_set-collection-of":100}],280:[function(e,t,o){var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":22,"./_export":35}],281:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{clamp:function(e,t,o){return Math.min(o,Math.max(t,e))}})},{"./_export":35}],282:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":35}],283:[function(e,t,o){var n=e("./_export"),i=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*i}})},{"./_export":35}],284:[function(e,t,o){var n=e("./_export"),a=e("./_math-scale"),r=e("./_math-fround");n(n.S,"Math",{fscale:function(e,t,o,n,i){return r(a(e,t,o,n,i))}})},{"./_export":35,"./_math-fround":64,"./_math-scale":66}],285:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{iaddh:function(e,t,o,n){var i=e>>>0,a=o>>>0;return(t>>>0)+(n>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},{"./_export":35}],286:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{imulh:function(e,t){var o=+e,n=+t,i=65535&o,a=65535&n,r=o>>16,s=n>>16,A=(r*a>>>0)+(i*a>>>16);return r*s+(A>>16)+((i*s>>>0)+(65535&A)>>16)}})},{"./_export":35}],287:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{isubh:function(e,t,o,n){var i=e>>>0,a=o>>>0;return(t>>>0)-(n>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},{"./_export":35}],288:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":35}],289:[function(e,t,o){var n=e("./_export"),i=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*i}})},{"./_export":35}],290:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{scale:e("./_math-scale")})},{"./_export":35,"./_math-scale":66}],291:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},{"./_export":35}],292:[function(e,t,o){var n=e("./_export");n(n.S,"Math",{umulh:function(e,t){var o=+e,n=+t,i=65535&o,a=65535&n,r=o>>>16,s=n>>>16,A=(r*a>>>0)+(i*a>>>16);return r*s+(A>>>16)+((i*s>>>0)+(65535&A)>>>16)}})},{"./_export":35}],293:[function(e,t,o){var n=e("./_export"),i=e("./_to-object"),a=e("./_a-function"),r=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){r.f(i(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},{"./_a-function":4,"./_descriptors":31,"./_export":35,"./_object-dp":74,"./_object-forced-pam":76,"./_to-object":121}],294:[function(e,t,o){var n=e("./_export"),i=e("./_to-object"),a=e("./_a-function"),r=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){r.f(i(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},{"./_a-function":4,"./_descriptors":31,"./_export":35,"./_object-dp":74,"./_object-forced-pam":76,"./_to-object":121}],295:[function(e,t,o){var n=e("./_export"),i=e("./_object-to-array")(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},{"./_export":35,"./_object-to-array":86}],296:[function(e,t,o){var n=e("./_export"),A=e("./_own-keys"),l=e("./_to-iobject"),c=e("./_object-gopd"),d=e("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,o,n=l(e),i=c.f,a=A(n),r={},s=0;a.length>s;)void 0!==(o=i(n,t=a[s++]))&&d(r,t,o);return r}})},{"./_create-property":26,"./_export":35,"./_object-gopd":77,"./_own-keys":87,"./_to-iobject":119}],297:[function(e,t,o){var n=e("./_export"),i=e("./_to-object"),a=e("./_to-primitive"),r=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,o=i(this),n=a(e,!0);do{if(t=s(o,n))return t.get}while(o=r(o))}})},{"./_descriptors":31,"./_export":35,"./_object-forced-pam":76,"./_object-gopd":77,"./_object-gpo":81,"./_to-object":121,"./_to-primitive":122}],298:[function(e,t,o){var n=e("./_export"),i=e("./_to-object"),a=e("./_to-primitive"),r=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,o=i(this),n=a(e,!0);do{if(t=s(o,n))return t.set}while(o=r(o))}})},{"./_descriptors":31,"./_export":35,"./_object-forced-pam":76,"./_object-gopd":77,"./_object-gpo":81,"./_to-object":121,"./_to-primitive":122}],299:[function(e,t,o){var n=e("./_export"),i=e("./_object-to-array")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},{"./_export":35,"./_object-to-array":86}],300:[function(e,t,o){function i(e){return null==e?void 0:h(e)}function a(e){var t=e._c;t&&(e._c=void 0,t())}function r(e){return void 0===e._o}function s(e){r(e)||(e._o=void 0,a(e))}function n(t,e){f(t),this._c=void 0,this._o=t,t=new w(this);try{var o=e(t),n=o;null!=o&&("function"==typeof o.unsubscribe?o=function(){n.unsubscribe()}:h(o),this._c=o)}catch(e){return void t.error(e)}r(this)&&a(this)}var A=e("./_export"),l=e("./_global"),c=e("./_core"),d=e("./_microtask")(),u=e("./_wks")("observable"),h=e("./_a-function"),f=e("./_an-object"),p=e("./_an-instance"),g=e("./_redefine-all"),m=e("./_hide"),y=e("./_for-of"),v=y.RETURN;n.prototype=g({},{unsubscribe:function(){s(this)}});var w=function(e){this._s=e};w.prototype=g({},{next:function(e){var t=this._s;if(!r(t)){var o=t._o;try{var n=i(o.next);if(n)return n.call(o,e)}catch(e){try{s(t)}finally{throw e}}}},error:function(e){var t=this._s;if(r(t))throw e;var o=t._o;t._o=void 0;try{var n=i(o.error);if(!n)throw e;e=n.call(o,e)}catch(e){try{a(t)}finally{throw e}}return a(t),e},complete:function(e){var t=this._s;if(!r(t)){var o=t._o;t._o=void 0;try{var n=i(o.complete);e=n?n.call(o,e):void 0}catch(e){try{a(t)}finally{throw e}}return a(t),e}}});var b=function(e){p(this,b,"Observable","_f")._f=h(e)};g(b.prototype,{subscribe:function(e){return new n(e,this._f)},forEach:function(n){var i=this;return new(c.Promise||l.Promise)(function(e,t){h(n);var o=i.subscribe({next:function(e){try{return n(e)}catch(e){t(e),o.unsubscribe()}},error:t,complete:e})})}}),g(b,{from:function(e){var t="function"==typeof this?this:b,o=i(f(e)[u]);if(o){var n=f(o.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var o=!1;return d(function(){if(!o){try{if(y(e,!1,function(e){if(t.next(e),o)return v})===v)return}catch(e){if(o)throw e;return void t.error(e)}t.complete()}}),function(){o=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:b)(function(t){var o=!1;return d(function(){if(!o){for(var e=0;e<n.length;++e)if(t.next(n[e]),o)return;t.complete()}}),function(){o=!0}})}}),m(b.prototype,u,function(){return this}),A(A.G,{Observable:b}),e("./_set-species")("Observable")},{"./_a-function":4,"./_an-instance":8,"./_an-object":9,"./_core":25,"./_export":35,"./_for-of":41,"./_global":43,"./_hide":45,"./_microtask":70,"./_redefine-all":93,"./_set-species":102,"./_wks":131}],301:[function(e,t,o){var n=e("./_export"),i=e("./_core"),a=e("./_global"),r=e("./_species-constructor"),s=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(t){var o=r(this,i.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return s(o,t()).then(function(){return e})}:t,e?function(e){return s(o,t()).then(function(){throw e})}:t)}})},{"./_core":25,"./_export":35,"./_global":43,"./_promise-resolve":91,"./_species-constructor":106}],302:[function(e,t,o){var n=e("./_export"),i=e("./_new-promise-capability"),a=e("./_perform");n(n.S,"Promise",{try:function(e){var t=i.f(this),o=a(e);return(o.e?t.reject:t.resolve)(o.v),t.promise}})},{"./_export":35,"./_new-promise-capability":71,"./_perform":90}],303:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=n.key,r=n.set;n.exp({defineMetadata:function(e,t,o,n){r(e,t,i(o),a(n))}})},{"./_an-object":9,"./_metadata":69}],304:[function(e,t,o){var n=e("./_metadata"),r=e("./_an-object"),s=n.key,A=n.map,l=n.store;n.exp({deleteMetadata:function(e,t,o){var n=arguments.length<3?void 0:s(o),i=A(r(t),n,!1);if(void 0===i||!i.delete(e))return!1;if(i.size)return!0;var a=l.get(t);return a.delete(n),!!a.size||l.delete(t)}})},{"./_an-object":9,"./_metadata":69}],305:[function(e,t,o){var a=e("./es6.set"),r=e("./_array-from-iterable"),n=e("./_metadata"),i=e("./_an-object"),s=e("./_object-gpo"),A=n.keys,l=n.key,c=function(e,t){var o=A(e,t),n=s(e);if(null===n)return o;var i=c(n,t);return i.length?o.length?r(new a(o.concat(i))):i:o};n.exp({getMetadataKeys:function(e,t){return c(i(e),arguments.length<2?void 0:l(t))}})},{"./_an-object":9,"./_array-from-iterable":12,"./_metadata":69,"./_object-gpo":81,"./es6.set":235}],306:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=e("./_object-gpo"),r=n.has,s=n.get,A=n.key,l=function(e,t,o){if(r(e,t,o))return s(e,t,o);var n=a(t);return null!==n?l(e,n,o):void 0};n.exp({getMetadata:function(e,t,o){return l(e,i(t),arguments.length<3?void 0:A(o))}})},{"./_an-object":9,"./_metadata":69,"./_object-gpo":81}],307:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=n.keys,r=n.key;n.exp({getOwnMetadataKeys:function(e,t){return a(i(e),arguments.length<2?void 0:r(t))}})},{"./_an-object":9,"./_metadata":69}],308:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=n.get,r=n.key;n.exp({getOwnMetadata:function(e,t,o){return a(e,i(t),arguments.length<3?void 0:r(o))}})},{"./_an-object":9,"./_metadata":69}],309:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=e("./_object-gpo"),r=n.has,s=n.key,A=function(e,t,o){if(r(e,t,o))return!0;var n=a(t);return null!==n&&A(e,n,o)};n.exp({hasMetadata:function(e,t,o){return A(e,i(t),arguments.length<3?void 0:s(o))}})},{"./_an-object":9,"./_metadata":69,"./_object-gpo":81}],310:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=n.has,r=n.key;n.exp({hasOwnMetadata:function(e,t,o){return a(e,i(t),arguments.length<3?void 0:r(o))}})},{"./_an-object":9,"./_metadata":69}],311:[function(e,t,o){var n=e("./_metadata"),i=e("./_an-object"),a=e("./_a-function"),r=n.key,s=n.set;n.exp({metadata:function(o,n){return function(e,t){s(o,n,(void 0!==t?i:a)(e),r(t))}}})},{"./_a-function":4,"./_an-object":9,"./_metadata":69}],312:[function(e,t,o){e("./_set-collection-from")("Set")},{"./_set-collection-from":99}],313:[function(e,t,o){e("./_set-collection-of")("Set")},{"./_set-collection-of":100}],314:[function(e,t,o){var n=e("./_export");n(n.P+n.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":22,"./_export":35}],315:[function(e,t,o){var n=e("./_export"),i=e("./_string-at")(!0);n(n.P,"String",{at:function(e){return i(this,e)}})},{"./_export":35,"./_string-at":108}],316:[function(e,t,o){function i(e,t){this._r=e,this._s=t}var n=e("./_export"),a=e("./_defined"),r=e("./_to-length"),s=e("./_is-regexp"),A=e("./_flags"),l=RegExp.prototype;e("./_iter-create")(i,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(a(this),!s(e))throw TypeError(e+" is not a regexp!");var t=String(this),o="flags"in l?String(e.flags):A.call(e),n=new RegExp(e.source,~o.indexOf("g")?o:"g"+o);return n.lastIndex=r(e.lastIndex),new i(n,t)}})},{"./_defined":30,"./_export":35,"./_flags":39,"./_is-regexp":55,"./_iter-create":57,"./_to-length":120}],317:[function(e,t,o){var n=e("./_export"),i=e("./_string-pad"),a=e("./_user-agent"),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*r,"String",{padEnd:function(e,t){return i(this,e,1<arguments.length?t:void 0,!1)}})},{"./_export":35,"./_string-pad":111,"./_user-agent":127}],318:[function(e,t,o){var n=e("./_export"),i=e("./_string-pad"),a=e("./_user-agent"),r=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*r,"String",{padStart:function(e,t){return i(this,e,1<arguments.length?t:void 0,!0)}})},{"./_export":35,"./_string-pad":111,"./_user-agent":127}],319:[function(e,t,o){e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":113}],320:[function(e,t,o){e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":113}],321:[function(e,t,o){e("./_wks-define")("asyncIterator")},{"./_wks-define":129}],322:[function(e,t,o){e("./_wks-define")("observable")},{"./_wks-define":129}],323:[function(e,t,o){var n=e("./_export");n(n.S,"System",{global:e("./_global")})},{"./_export":35,"./_global":43}],324:[function(e,t,o){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":99}],325:[function(e,t,o){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":100}],326:[function(e,t,o){e("./_set-collection-from")("WeakSet")},{"./_set-collection-from":99}],327:[function(e,t,o){e("./_set-collection-of")("WeakSet")},{"./_set-collection-of":100}],328:[function(e,t,o){for(var n=e("./es6.array.iterator"),i=e("./_object-keys"),a=e("./_redefine"),r=e("./_global"),s=e("./_hide"),A=e("./_iterators"),l=e("./_wks"),c=l("iterator"),d=l("toStringTag"),u=A.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(h),p=0;p<f.length;p++){var g,m=f[p],y=h[m],v=r[m],w=v&&v.prototype;if(w&&(w[c]||s(w,c,u),w[d]||s(w,d,m),A[m]=u,y))for(g in n)w[g]||a(w,g,n[g],!0)}},{"./_global":43,"./_hide":45,"./_iterators":61,"./_object-keys":83,"./_redefine":94,"./_wks":131,"./es6.array.iterator":144}],329:[function(e,t,o){var n=e("./_export"),i=e("./_task");n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":35,"./_task":115}],330:[function(e,t,o){function n(i){return function(e,t){var o=2<arguments.length,n=o&&s.call(arguments,2);return i(o?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,t)}}var i=e("./_global"),a=e("./_export"),r=e("./_user-agent"),s=[].slice,A=/MSIE .\./.test(r);a(a.G+a.B+a.F*A,{setTimeout:n(i.setTimeout),setInterval:n(i.setInterval)})},{"./_export":35,"./_global":43,"./_user-agent":127}],331:[function(e,t,o){e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.exec"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.array.flat-map"),e("./modules/es7.array.flatten"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.map.of"),e("./modules/es7.set.of"),e("./modules/es7.weak-map.of"),e("./modules/es7.weak-set.of"),e("./modules/es7.map.from"),e("./modules/es7.set.from"),e("./modules/es7.weak-map.from"),e("./modules/es7.weak-set.from"),e("./modules/es7.global"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.clamp"),e("./modules/es7.math.deg-per-rad"),e("./modules/es7.math.degrees"),e("./modules/es7.math.fscale"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.rad-per-deg"),e("./modules/es7.math.radians"),e("./modules/es7.math.scale"),e("./modules/es7.math.umulh"),e("./modules/es7.math.signbit"),e("./modules/es7.promise.finally"),e("./modules/es7.promise.try"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":25,"./modules/es6.array.copy-within":134,"./modules/es6.array.every":135,"./modules/es6.array.fill":136,"./modules/es6.array.filter":137,"./modules/es6.array.find":139,"./modules/es6.array.find-index":138,"./modules/es6.array.for-each":140,"./modules/es6.array.from":141,"./modules/es6.array.index-of":142,"./modules/es6.array.is-array":143,"./modules/es6.array.iterator":144,"./modules/es6.array.join":145,"./modules/es6.array.last-index-of":146,"./modules/es6.array.map":147,"./modules/es6.array.of":148,"./modules/es6.array.reduce":150,"./modules/es6.array.reduce-right":149,"./modules/es6.array.slice":151,"./modules/es6.array.some":152,"./modules/es6.array.sort":153,"./modules/es6.array.species":154,"./modules/es6.date.now":155,"./modules/es6.date.to-iso-string":156,"./modules/es6.date.to-json":157,"./modules/es6.date.to-primitive":158,"./modules/es6.date.to-string":159,"./modules/es6.function.bind":160,"./modules/es6.function.has-instance":161,"./modules/es6.function.name":162,"./modules/es6.map":163,"./modules/es6.math.acosh":164,"./modules/es6.math.asinh":165,"./modules/es6.math.atanh":166,"./modules/es6.math.cbrt":167,"./modules/es6.math.clz32":168,"./modules/es6.math.cosh":169,"./modules/es6.math.expm1":170,"./modules/es6.math.fround":171,"./modules/es6.math.hypot":172,"./modules/es6.math.imul":173,"./modules/es6.math.log10":174,"./modules/es6.math.log1p":175,"./modules/es6.math.log2":176,"./modules/es6.math.sign":177,"./modules/es6.math.sinh":178,"./modules/es6.math.tanh":179,"./modules/es6.math.trunc":180,"./modules/es6.number.constructor":181,"./modules/es6.number.epsilon":182,"./modules/es6.number.is-finite":183,"./modules/es6.number.is-integer":184,"./modules/es6.number.is-nan":185,"./modules/es6.number.is-safe-integer":186,"./modules/es6.number.max-safe-integer":187,"./modules/es6.number.min-safe-integer":188,"./modules/es6.number.parse-float":189,"./modules/es6.number.parse-int":190,"./modules/es6.number.to-fixed":191,"./modules/es6.number.to-precision":192,"./modules/es6.object.assign":193,"./modules/es6.object.create":194,"./modules/es6.object.define-properties":195,"./modules/es6.object.define-property":196,"./modules/es6.object.freeze":197,"./modules/es6.object.get-own-property-descriptor":198,"./modules/es6.object.get-own-property-names":199,"./modules/es6.object.get-prototype-of":200,"./modules/es6.object.is":204,"./modules/es6.object.is-extensible":201,"./modules/es6.object.is-frozen":202,"./modules/es6.object.is-sealed":203,"./modules/es6.object.keys":205,"./modules/es6.object.prevent-extensions":206,"./modules/es6.object.seal":207,"./modules/es6.object.set-prototype-of":208,"./modules/es6.object.to-string":209,"./modules/es6.parse-float":210,"./modules/es6.parse-int":211,"./modules/es6.promise":212,"./modules/es6.reflect.apply":213,"./modules/es6.reflect.construct":214,"./modules/es6.reflect.define-property":215,"./modules/es6.reflect.delete-property":216,"./modules/es6.reflect.enumerate":217,"./modules/es6.reflect.get":220,"./modules/es6.reflect.get-own-property-descriptor":218,"./modules/es6.reflect.get-prototype-of":219,"./modules/es6.reflect.has":221,"./modules/es6.reflect.is-extensible":222,"./modules/es6.reflect.own-keys":223,"./modules/es6.reflect.prevent-extensions":224,"./modules/es6.reflect.set":226,"./modules/es6.reflect.set-prototype-of":225,"./modules/es6.regexp.constructor":227,"./modules/es6.regexp.exec":228,"./modules/es6.regexp.flags":229,"./modules/es6.regexp.match":230,"./modules/es6.regexp.replace":231,"./modules/es6.regexp.search":232,"./modules/es6.regexp.split":233,"./modules/es6.regexp.to-string":234,"./modules/es6.set":235,"./modules/es6.string.anchor":236,"./modules/es6.string.big":237,"./modules/es6.string.blink":238,"./modules/es6.string.bold":239,"./modules/es6.string.code-point-at":240,"./modules/es6.string.ends-with":241,"./modules/es6.string.fixed":242,"./modules/es6.string.fontcolor":243,"./modules/es6.string.fontsize":244,"./modules/es6.string.from-code-point":245,"./modules/es6.string.includes":246,"./modules/es6.string.italics":247,"./modules/es6.string.iterator":248,"./modules/es6.string.link":249,"./modules/es6.string.raw":250,"./modules/es6.string.repeat":251,"./modules/es6.string.small":252,"./modules/es6.string.starts-with":253,"./modules/es6.string.strike":254,"./modules/es6.string.sub":255,"./modules/es6.string.sup":256,"./modules/es6.string.trim":257,"./modules/es6.symbol":258,"./modules/es6.typed.array-buffer":259,"./modules/es6.typed.data-view":260,"./modules/es6.typed.float32-array":261,"./modules/es6.typed.float64-array":262,"./modules/es6.typed.int16-array":263,"./modules/es6.typed.int32-array":264,"./modules/es6.typed.int8-array":265,"./modules/es6.typed.uint16-array":266,"./modules/es6.typed.uint32-array":267,"./modules/es6.typed.uint8-array":268,"./modules/es6.typed.uint8-clamped-array":269,"./modules/es6.weak-map":270,"./modules/es6.weak-set":271,"./modules/es7.array.flat-map":272,"./modules/es7.array.flatten":273,"./modules/es7.array.includes":274,"./modules/es7.asap":275,"./modules/es7.error.is-error":276,"./modules/es7.global":277,"./modules/es7.map.from":278,"./modules/es7.map.of":279,"./modules/es7.map.to-json":280,"./modules/es7.math.clamp":281,"./modules/es7.math.deg-per-rad":282,"./modules/es7.math.degrees":283,"./modules/es7.math.fscale":284,"./modules/es7.math.iaddh":285,"./modules/es7.math.imulh":286,"./modules/es7.math.isubh":287,"./modules/es7.math.rad-per-deg":288,"./modules/es7.math.radians":289,"./modules/es7.math.scale":290,"./modules/es7.math.signbit":291,"./modules/es7.math.umulh":292,"./modules/es7.object.define-getter":293,"./modules/es7.object.define-setter":294,"./modules/es7.object.entries":295,"./modules/es7.object.get-own-property-descriptors":296,"./modules/es7.object.lookup-getter":297,"./modules/es7.object.lookup-setter":298,"./modules/es7.object.values":299,"./modules/es7.observable":300,"./modules/es7.promise.finally":301,"./modules/es7.promise.try":302,"./modules/es7.reflect.define-metadata":303,"./modules/es7.reflect.delete-metadata":304,"./modules/es7.reflect.get-metadata":306,"./modules/es7.reflect.get-metadata-keys":305,"./modules/es7.reflect.get-own-metadata":308,"./modules/es7.reflect.get-own-metadata-keys":307,"./modules/es7.reflect.has-metadata":309,"./modules/es7.reflect.has-own-metadata":310,"./modules/es7.reflect.metadata":311,"./modules/es7.set.from":312,"./modules/es7.set.of":313,"./modules/es7.set.to-json":314,"./modules/es7.string.at":315,"./modules/es7.string.match-all":316,"./modules/es7.string.pad-end":317,"./modules/es7.string.pad-start":318,"./modules/es7.string.trim-left":319,"./modules/es7.string.trim-right":320,"./modules/es7.symbol.async-iterator":321,"./modules/es7.symbol.observable":322,"./modules/es7.system.global":323,"./modules/es7.weak-map.from":324,"./modules/es7.weak-map.of":325,"./modules/es7.weak-set.from":326,"./modules/es7.weak-set.of":327,"./modules/web.dom.iterable":328,"./modules/web.immediate":329,"./modules/web.timers":330}],332:[function(e,t,o){var n,i;n=this,i=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function e(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var S=function(){return(S=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(a,r,s,A){return new(s=s||Promise)(function(e,t){function o(e){try{i(A.next(e))}catch(e){t(e)}}function n(e){try{i(A.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(o,n)}i((A=A.apply(a,r||[])).next())})}function L(o,n){var i,a,r,e,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(r=2&t[0]?a.return:t[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,t[1])).done)return r;switch(a=0,r&&(t=[2&t[0],r.value]),t[0]){case 0:case 1:r=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(r=0<(r=s.trys).length&&r[r.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){s.label=t[1];break}if(6===t[0]&&s.label<r[1]){s.label=r[1],r=t;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(t);break}r[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(o,s)}catch(e){t=[6,e],a=0}finally{i=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var I=(i.prototype.add=function(e,t,o,n){return new i(this.left+e,this.top+t,this.width+o,this.height+n)},i.fromClientRect=function(e){return new i(e.left,e.top,e.width,e.height)},i);function i(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n}for(var T=function(e){return I.fromClientRect(e.getBoundingClientRect())},c=function(e){for(var t=[],o=0,n=e.length;o<n;){var i=e.charCodeAt(o++);if(55296<=i&&i<=56319&&o<n){var a=e.charCodeAt(o++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),o--)}else t.push(i)}return t},p=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var o=e.length;if(!o)return"";for(var n=[],i=-1,a="";++i<o;){var r=e[i];r<=65535?n.push(r):(r-=65536,n.push(55296+(r>>10),r%1024+56320)),(i+1===o||16384<n.length)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),o=0;o<t.length;o++)d[t.charCodeAt(o)]=o;function a(e,t,o){return e.slice?e.slice(t,o):new Uint16Array(Array.prototype.slice.call(e,t,o))}var r=(s.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},s);function s(e,t,o,n,i,a){this.initialValue=e,this.errorValue=t,this.highStart=o,this.highValueIndex=n,this.index=i,this.data=a}function g(e,t,o,n){var i=n[o];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=o;a<=n.length;){if((A=n[++a])===t)return!0;if(A!==b)break}if(i===b)for(a=o;0<a;){var r=n[--a];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var s=o;s<=n.length;){var A;if((A=n[++s])===t)return!0;if(A!==b)break}if(r!==b)break}return!1}function m(e,t){for(var o=e;0<=o;){var n=t[o];if(n!==b)return n;o--}return 0}function u(e,t,o,n,i){if(0===o[n])return"Ã—";var a=n-1;if(Array.isArray(i)&&!0===i[a])return"Ã—";var r=a-1,s=1+a,A=t[a],l=0<=r?t[r]:0,c=t[s];if(2===A&&3===c)return"Ã—";if(-1!==q.indexOf(A))return"!";if(-1!==q.indexOf(c))return"Ã—";if(-1!==Z.indexOf(c))return"Ã—";if(8===m(a,t))return"Ã·";if(11===X.get(e[a])&&(c===V||c===M||c===O))return"Ã—";if(7===A||7===c)return"Ã—";if(9===A)return"Ã—";if(-1===[b,B,_].indexOf(A)&&9===c)return"Ã—";if(-1!==[C,E,k,P,H].indexOf(c))return"Ã—";if(m(a,t)===F)return"Ã—";if(g(23,F,a,t))return"Ã—";if(g([C,E],U,a,t))return"Ã—";if(g(12,12,a,t))return"Ã—";if(A===b)return"Ã·";if(23===A||23===c)return"Ã—";if(16===c||16===A)return"Ã·";if(-1!==[B,_,U].indexOf(c)||14===A)return"Ã—";if(36===l&&-1!==oe.indexOf(A))return"Ã—";if(A===H&&36===c)return"Ã—";if(c===Q&&-1!==Y.concat(Q,k,D,V,M,O).indexOf(A))return"Ã—";if(-1!==Y.indexOf(c)&&A===D||-1!==Y.indexOf(A)&&c===D)return"Ã—";if(A===N&&-1!==[V,M,O].indexOf(c)||-1!==[V,M,O].indexOf(A)&&c===x)return"Ã—";if(-1!==Y.indexOf(A)&&-1!==$.indexOf(c)||-1!==$.indexOf(A)&&-1!==Y.indexOf(c))return"Ã—";if(-1!==[N,x].indexOf(A)&&(c===D||-1!==[F,_].indexOf(c)&&t[1+s]===D)||-1!==[F,_].indexOf(A)&&c===D||A===D&&-1!==[D,H,P].indexOf(c))return"Ã—";if(-1!==[D,H,P,C,E].indexOf(c))for(var d=a;0<=d;){if((u=t[d])===D)return"Ã—";if(-1===[H,P].indexOf(u))break;d--}if(-1!==[N,x].indexOf(c))for(d=-1!==[C,E].indexOf(A)?r:a;0<=d;){var u;if((u=t[d])===D)return"Ã—";if(-1===[H,P].indexOf(u))break;d--}if(j===A&&-1!==[j,z,W,K].indexOf(c)||-1!==[z,W].indexOf(A)&&-1!==[z,J].indexOf(c)||-1!==[J,K].indexOf(A)&&c===J)return"Ã—";if(-1!==te.indexOf(A)&&-1!==[Q,x].indexOf(c)||-1!==te.indexOf(c)&&A===N)return"Ã—";if(-1!==Y.indexOf(A)&&-1!==Y.indexOf(c))return"Ã—";if(A===P&&-1!==Y.indexOf(c))return"Ã—";if(-1!==Y.concat(D).indexOf(A)&&c===F||-1!==Y.concat(D).indexOf(c)&&A===E)return"Ã—";if(41===A&&41===c){for(var h=o[a],f=1;0<h&&41===t[--h];)f++;if(f%2!=0)return"Ã—"}return A===M&&c===O?"Ã—":"Ã·"}function h(o,e){var t=function(e,i){void 0===i&&(i="strict");var a=[],r=[],s=[];return e.forEach(function(e,t){var o=X.get(e);if(50<o?(s.push(!0),o-=50):s.push(!1),-1!==["normal","auto","loose"].indexOf(i)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(t),a.push(16);if(4!==o&&11!==o)return r.push(t),31===o?a.push("strict"===i?U:V):o===G?a.push(R):29===o?a.push(R):43===o?131072<=e&&e<=196605||196608<=e&&e<=262141?a.push(V):a.push(R):void a.push(o);if(0===t)return r.push(t),a.push(R);var n=a[t-1];return-1===ee.indexOf(n)?(r.push(r[t-1]),a.push(n)):(r.push(t),a.push(R))}),[r,a,s]}(o,(e=e||{lineBreak:"normal",wordBreak:"normal"}).lineBreak),n=t[0],i=t[1],a=t[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map(function(e){return-1!==[D,R,G].indexOf(e)?V:e})),[n,i,"keep-all"===e.wordBreak?a.map(function(e,t){return e&&19968<=o[t]&&o[t]<=40959}):void 0]}var A,f,y,v,w,b=10,B=13,_=15,C=17,E=18,k=19,Q=20,U=21,F=22,P=24,D=25,x=26,N=27,H=28,R=30,M=32,O=33,W=34,K=35,V=37,j=38,z=39,J=40,G=42,X=(A=function(e){var t,o,n,i,a,r=.75*e.length,s=e.length,A=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(r):new Array(r),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)o=d[e.charCodeAt(t)],n=d[e.charCodeAt(t+1)],i=d[e.charCodeAt(t+2)],a=d[e.charCodeAt(t+3)],c[A++]=o<<2|n>>4,c[A++]=(15&n)<<4|i>>2,c[A++]=(3&i)<<6|63&a;return l}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),f=Array.isArray(A)?function(e){for(var t=e.length,o=[],n=0;n<t;n+=4)o.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return o}(A):new Uint32Array(A),y=Array.isArray(A)?function(e){for(var t=e.length,o=[],n=0;n<t;n+=2)o.push(e[n+1]<<8|e[n]);return o}(A):new Uint16Array(A),v=a(y,12,f[4]/2),w=2===f[5]?a(y,(24+f[4])/2):function(e,t,o){return e.slice?e.slice(t,o):new Uint32Array(Array.prototype.slice.call(e,t,o))}(f,Math.ceil((24+f[4])/4)),new r(f[0],f[1],f[2],f[3],v,w)),Y=[R,36],q=[1,2,3,5],Z=[b,8],$=[N,x],ee=q.concat(Z),te=[j,z,J,W,K],oe=[_,B],ne=(ie.prototype.slice=function(){return p.apply(void 0,this.codePoints.slice(this.start,this.end))},ie);function ie(e,t,o,n){this.codePoints=e,this.required="!"===t,this.start=o,this.end=n}var ae,re;(re=ae=ae||{})[re.STRING_TOKEN=0]="STRING_TOKEN",re[re.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",re[re.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",re[re.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",re[re.COMMA_TOKEN=4]="COMMA_TOKEN",re[re.HASH_TOKEN=5]="HASH_TOKEN",re[re.DELIM_TOKEN=6]="DELIM_TOKEN",re[re.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",re[re.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",re[re.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",re[re.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",re[re.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",re[re.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",re[re.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",re[re.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",re[re.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",re[re.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",re[re.NUMBER_TOKEN=17]="NUMBER_TOKEN",re[re.FUNCTION=18]="FUNCTION",re[re.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",re[re.IDENT_TOKEN=20]="IDENT_TOKEN",re[re.COLUMN_TOKEN=21]="COLUMN_TOKEN",re[re.URL_TOKEN=22]="URL_TOKEN",re[re.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",re[re.CDC_TOKEN=24]="CDC_TOKEN",re[re.CDO_TOKEN=25]="CDO_TOKEN",re[re.COLON_TOKEN=26]="COLON_TOKEN",re[re.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",re[re.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",re[re.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",re[re.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",re[re.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",re[re.EOF_TOKEN=32]="EOF_TOKEN";function se(e){return 48<=e&&e<=57}function Ae(e){return se(e)||65<=e&&e<=70||97<=e&&e<=102}function le(e){return 10===e||9===e||32===e}function ce(e){return function(e){return function(e){return 97<=e&&e<=122}(e)||function(e){return 65<=e&&e<=90}(e)}(e)||function(e){return 128<=e}(e)||95===e}function de(e){return ce(e)||se(e)||45===e}function ue(e,t){return 92===e&&10!==t}function he(e,t,o){return 45===e?ce(t)||ue(t,o):!!ce(e)||!(92!==e||!ue(e,t))}function fe(e,t,o){return 43===e||45===e?!!se(t)||46===t&&se(o):se(46===e?t:e)}var pe={type:ae.LEFT_PARENTHESIS_TOKEN},ge={type:ae.RIGHT_PARENTHESIS_TOKEN},me={type:ae.COMMA_TOKEN},ye={type:ae.SUFFIX_MATCH_TOKEN},ve={type:ae.PREFIX_MATCH_TOKEN},we={type:ae.COLUMN_TOKEN},be={type:ae.DASH_MATCH_TOKEN},Be={type:ae.INCLUDE_MATCH_TOKEN},_e={type:ae.LEFT_CURLY_BRACKET_TOKEN},Ce={type:ae.RIGHT_CURLY_BRACKET_TOKEN},Ee={type:ae.SUBSTRING_MATCH_TOKEN},Se={type:ae.BAD_URL_TOKEN},Ie={type:ae.BAD_STRING_TOKEN},Te={type:ae.CDO_TOKEN},ke={type:ae.CDC_TOKEN},Qe={type:ae.COLON_TOKEN},Ue={type:ae.SEMICOLON_TOKEN},Fe={type:ae.LEFT_SQUARE_BRACKET_TOKEN},Pe={type:ae.RIGHT_SQUARE_BRACKET_TOKEN},De={type:ae.WHITESPACE_TOKEN},xe={type:ae.EOF_TOKEN},Le=(Ne.prototype.write=function(e){this._value=this._value.concat(c(e))},Ne.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==xe;)e.push(t),t=this.consumeToken();return e},Ne.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),o=this.peekCodePoint(1),n=this.peekCodePoint(2);if(de(t)||ue(o,n)){var i=he(t,o,n)?2:1,a=this.consumeName();return{type:ae.HASH_TOKEN,value:a,flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ye;break;case 39:return this.consumeStringToken(39);case 40:return pe;case 41:return ge;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;break;case 43:if(fe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return me;case 45:var r=e,s=this.peekCodePoint(0),A=this.peekCodePoint(1);if(fe(r,s,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(he(r,s,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===s&&62===A)return this.consumeCodePoint(),this.consumeCodePoint(),ke;break;case 46:if(fe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(42===l&&47===(l=this.consumeCodePoint()))return this.consumeToken();if(-1===l)return this.consumeToken()}break;case 58:return Qe;case 59:return Ue;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Te;break;case 64:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),u=this.peekCodePoint(2);if(he(c,d,u))return a=this.consumeName(),{type:ae.AT_KEYWORD_TOKEN,value:a};break;case 91:return Fe;case 92:if(ue(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Pe;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ve;break;case 123:return _e;case 125:return Ce;case 117:case 85:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return 43!==h||!Ae(f)&&63!==f||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),be;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),we;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Be;break;case-1:return xe}return le(e)?(this.consumeWhiteSpace(),De):se(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ce(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:ae.DELIM_TOKEN,value:p(e)}},Ne.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},Ne.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},Ne.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},Ne.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Ae(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var o=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),o=!0;if(o){var n=parseInt(p.apply(void 0,e.map(function(e){return 63===e?48:e})),16),i=parseInt(p.apply(void 0,e.map(function(e){return 63===e?70:e})),16);return{type:ae.UNICODE_RANGE_TOKEN,start:n,end:i}}var a=parseInt(p.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&Ae(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];Ae(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return i=parseInt(p.apply(void 0,r),16),{type:ae.UNICODE_RANGE_TOKEN,start:a,end:i}}return{type:ae.UNICODE_RANGE_TOKEN,start:a,end:a}},Ne.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:ae.FUNCTION_TOKEN,value:e}):{type:ae.IDENT_TOKEN,value:e}},Ne.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:ae.URL_TOKEN,value:""};var t,o=this.peekCodePoint(0);if(39===o||34===o){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===ae.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:ae.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),Se)}for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:ae.URL_TOKEN,value:p.apply(void 0,e)};if(le(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:ae.URL_TOKEN,value:p.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Se);if(34===i||39===i||40===i||0<=(t=i)&&t<=8||11===t||14<=t&&t<=31||127===t)return this.consumeBadUrlRemnants(),Se;if(92===i){if(!ue(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Se;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},Ne.prototype.consumeWhiteSpace=function(){for(;le(this.peekCodePoint(0));)this.consumeCodePoint()},Ne.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;ue(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Ne.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var o=Math.min(6e4,e);t+=p.apply(void 0,this._value.splice(0,o)),e-=o}return this._value.shift(),t},Ne.prototype.consumeStringToken=function(e){for(var t="",o=0;;){var n=this._value[o];if(-1===n||void 0===n||n===e)return t+=this.consumeStringSlice(o),{type:ae.STRING_TOKEN,value:t};if(10===n)return this._value.splice(0,o),Ie;if(92===n){var i=this._value[o+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(o),o=-1,this._value.shift()):ue(n,i)&&(t+=this.consumeStringSlice(o),t+=p(this.consumeEscapedCodePoint()),o=-1))}o++}},Ne.prototype.consumeNumber=function(){var e=[],t=4,o=this.peekCodePoint(0);for(43!==o&&45!==o||e.push(this.consumeCodePoint());se(this.peekCodePoint(0));)e.push(this.consumeCodePoint());o=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===o&&se(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;se(this.peekCodePoint(0));)e.push(this.consumeCodePoint());o=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===o||101===o)&&((43===n||45===n)&&se(i)||se(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;se(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[function(e){var t=0,o=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(o=-1),t++);for(var n=[];se(e[t]);)n.push(e[t++]);var i=n.length?parseInt(p.apply(void 0,n),10):0;46===e[t]&&t++;for(var a=[];se(e[t]);)a.push(e[t++]);var r=a.length,s=r?parseInt(p.apply(void 0,a),10):0;69!==e[t]&&101!==e[t]||t++;var A=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(A=-1),t++);for(var l=[];se(e[t]);)l.push(e[t++]);var c=l.length?parseInt(p.apply(void 0,l),10):0;return o*(i+s*Math.pow(10,-r))*Math.pow(10,A*c)}(e),t]},Ne.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],o=e[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(he(n,i,a)){var r=this.consumeName();return{type:ae.DIMENSION_TOKEN,number:t,flags:o,unit:r}}return 37===n?(this.consumeCodePoint(),{type:ae.PERCENTAGE_TOKEN,number:t,flags:o}):{type:ae.NUMBER_TOKEN,number:t,flags:o}},Ne.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ae(e)){for(var t=p(e);Ae(this.peekCodePoint(0))&&t.length<6;)t+=p(this.consumeCodePoint());le(this.peekCodePoint(0))&&this.consumeCodePoint();var o=parseInt(t,16);return 0===o||function(e){return 55296<=e&&e<=57343}(o)||1114111<o?65533:o}return-1===e?65533:e},Ne.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(de(t))e+=p(t);else{if(!ue(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=p(this.consumeEscapedCodePoint())}}},Ne);function Ne(){this._value=[]}var He=(Re.create=function(e){var t=new Le;return t.write(e),new Re(t.read())},Re.parseValue=function(e){return Re.create(e).parseComponentValue()},Re.parseValues=function(e){return Re.create(e).parseComponentValues()},Re.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===ae.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===ae.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();(e=this.consumeToken()).type===ae.WHITESPACE_TOKEN;);if(e.type===ae.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Re.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===ae.EOF_TOKEN)return e;e.push(t),e.push()}},Re.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case ae.LEFT_CURLY_BRACKET_TOKEN:case ae.LEFT_SQUARE_BRACKET_TOKEN:case ae.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case ae.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},Re.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},o=this.consumeToken();;){if(o.type===ae.EOF_TOKEN||it(o,e))return t;this.reconsumeToken(o),t.values.push(this.consumeComponentValue()),o=this.consumeToken()}},Re.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:ae.FUNCTION};;){var o=this.consumeToken();if(o.type===ae.EOF_TOKEN||o.type===ae.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(o),t.values.push(this.consumeComponentValue())}},Re.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?xe:e},Re.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},Re);function Re(e){this._tokens=e}function Me(e){return e.type===ae.DIMENSION_TOKEN}function Oe(e){return e.type===ae.NUMBER_TOKEN}function We(e){return e.type===ae.IDENT_TOKEN}function Ke(e){return e.type===ae.STRING_TOKEN}function Ve(e,t){return We(e)&&e.value===t}function je(e){return e.type!==ae.WHITESPACE_TOKEN}function ze(e){return e.type!==ae.WHITESPACE_TOKEN&&e.type!==ae.COMMA_TOKEN}function Je(e){var t=[],o=[];return e.forEach(function(e){if(e.type===ae.COMMA_TOKEN){if(0===o.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(o),void(o=[])}e.type!==ae.WHITESPACE_TOKEN&&o.push(e)}),o.length&&t.push(o),t}function Ge(e){return e.type===ae.NUMBER_TOKEN||e.type===ae.DIMENSION_TOKEN}function Xe(e){return e.type===ae.PERCENTAGE_TOKEN||Ge(e)}function Ye(e){return 1<e.length?[e[0],e[1]]:[e[0]]}function qe(e,t,o){var n=e[0],i=e[1];return[At(n,t),At(void 0!==i?i:n,o)]}function Ze(e){return e.type===ae.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)}function $e(e){switch(e.filter(We).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[at,at];case"to top":case"bottom":return ct(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[at,st];case"to right":case"left":return ct(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[st,st];case"to bottom":case"top":return ct(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[st,at];case"to left":case"right":return ct(270)}return 0}function et(e){return 0==(255&e)}function tt(e){var t=255&e,o=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+o+","+t/255+")":"rgb("+i+","+n+","+o+")"}function ot(e,t){if(e.type===ae.NUMBER_TOKEN)return e.number;if(e.type!==ae.PERCENTAGE_TOKEN)return 0;var o=3===t?1:255;return 3===t?e.number/100*o:Math.round(e.number/100*o)}function nt(e){var t=e.filter(ze);if(3===t.length){var o=t.map(ot),n=o[0],i=o[1],a=o[2];return ut(n,i,a,1)}if(4!==t.length)return 0;var r=t.map(ot),s=(n=r[0],i=r[1],a=r[2],r[3]);return ut(n,i,a,s)}var it=function(e,t){return t===ae.LEFT_CURLY_BRACKET_TOKEN&&e.type===ae.RIGHT_CURLY_BRACKET_TOKEN||(t===ae.LEFT_SQUARE_BRACKET_TOKEN&&e.type===ae.RIGHT_SQUARE_BRACKET_TOKEN||t===ae.LEFT_PARENTHESIS_TOKEN&&e.type===ae.RIGHT_PARENTHESIS_TOKEN)},at={type:ae.NUMBER_TOKEN,number:0,flags:4},rt={type:ae.PERCENTAGE_TOKEN,number:50,flags:4},st={type:ae.PERCENTAGE_TOKEN,number:100,flags:4},At=function(e,t){if(e.type===ae.PERCENTAGE_TOKEN)return e.number/100*t;if(Me(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},lt=function(e){if(e.type===ae.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},ct=function(e){return Math.PI*e/180},dt=function(e){if(e.type===ae.FUNCTION){var t=vt[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===ae.HASH_TOKEN){if(3===e.value.length){var o=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);return ut(parseInt(o+o,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(4===e.value.length){o=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);var a=e.value.substring(3,4);return ut(parseInt(o+o,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(6===e.value.length){o=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6);return ut(parseInt(o,16),parseInt(n,16),parseInt(i,16),1)}if(8===e.value.length){o=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6),a=e.value.substring(6,8);return ut(parseInt(o,16),parseInt(n,16),parseInt(i,16),parseInt(a,16)/255)}}if(e.type===ae.IDENT_TOKEN){var r=wt[e.value.toUpperCase()];if(void 0!==r)return r}return wt.TRANSPARENT},ut=function(e,t,o,n){return(e<<24|t<<16|o<<8|Math.round(255*n)<<0)>>>0};function ht(e,t,o){return o<0&&(o+=1),1<=o&&(o-=1),o<1/6?(t-e)*o*6+e:o<.5?t:o<2/3?6*(t-e)*(2/3-o)+e:e}function ft(e){var t=e.filter(ze),o=t[0],n=t[1],i=t[2],a=t[3],r=(o.type===ae.NUMBER_TOKEN?ct(o.number):lt(o))/(2*Math.PI),s=Xe(n)?n.number/100:0,A=Xe(i)?i.number/100:0,l=void 0!==a&&Xe(a)?At(a,1):1;if(0==s)return ut(255*A,255*A,255*A,1);var c=A<=.5?A*(1+s):A+s-A*s,d=2*A-c,u=ht(d,c,r+1/3),h=ht(d,c,r),f=ht(d,c,r-1/3);return ut(255*u,255*h,255*f,l)}var pt,gt,mt,yt,vt={hsl:ft,hsla:ft,rgb:nt,rgba:nt},wt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(gt=pt=pt||{})[gt.VALUE=0]="VALUE",gt[gt.LIST=1]="LIST",gt[gt.IDENT_VALUE=2]="IDENT_VALUE",gt[gt.TYPE_VALUE=3]="TYPE_VALUE",gt[gt.TOKEN_VALUE=4]="TOKEN_VALUE",(yt=mt=mt||{})[yt.BORDER_BOX=0]="BORDER_BOX",yt[yt.PADDING_BOX=1]="PADDING_BOX";function bt(e){var t=dt(e[0]),o=e[1];return o&&Xe(o)?{color:t,stop:o}:{color:t,stop:null}}function Bt(e,o){var t=e[0],n=e[e.length-1];null===t.stop&&(t.stop=at),null===n.stop&&(n.stop=st);for(var i=[],a=0,r=0;r<e.length;r++){var s=e[r].stop;if(null!==s){var A=At(s,o);a<A?i.push(A):i.push(a),a=A}else i.push(null)}var l=null;for(r=0;r<i.length;r++){var c=i[r];if(null===c)null===l&&(l=r);else if(null!==l){for(var d=r-l,u=(c-i[l-1])/(1+d),h=1;h<=d;h++)i[l+h-1]=u*h;l=null}}return e.map(function(e,t){return{color:e.color,stop:Math.max(Math.min(1,i[t]/o),0)}})}function _t(e,t,o){var n="number"==typeof e?e:function(e,t,o){var n=t/2,i=o/2,a=At(e[0],t)-n,r=i-At(e[1],o);return(Math.atan2(r,a)+2*Math.PI)%(2*Math.PI)}(e,t,o),i=Math.abs(t*Math.sin(n))+Math.abs(o*Math.cos(n)),a=t/2,r=o/2,s=i/2,A=Math.sin(n-Math.PI/2)*s,l=Math.cos(n-Math.PI/2)*s;return[i,a-l,a+l,r-A,r+A]}function Ct(e,t){return Math.sqrt(e*e+t*t)}function Et(e,t,a,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var o=t[0],n=t[1],i=Ct(a-o,r-n);return(s?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:t,optimumDistance:i}:e},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner}function St(e){var i=ct(180),a=[];return Je(e).forEach(function(e,t){if(0===t){var o=e[0];if(o.type===ae.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(i=$e(e));if(Ze(o))return void(i=(lt(o)+ct(270))%ct(360))}var n=bt(e);a.push(n)}),{angle:i,stops:a,type:Mt.LINEAR_GRADIENT}}function It(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}var Tt={name:"background-clip",initialValue:"border-box",prefix:!(yt[yt.CONTENT_BOX=2]="CONTENT_BOX"),type:pt.LIST,parse:function(e){return e.map(function(e){if(We(e))switch(e.value){case"padding-box":return mt.PADDING_BOX;case"content-box":return mt.CONTENT_BOX}return mt.BORDER_BOX})}},kt={name:"background-color",initialValue:"transparent",prefix:!1,type:pt.TYPE_VALUE,format:"color"},Qt=function(e,t,o,n,i){var a="http://www.w3.org/2000/svg",r=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return r.setAttributeNS(null,"width",e.toString()),r.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",o.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),r.appendChild(s),s.appendChild(i),r},Ut=function(n){return new Promise(function(e,t){var o=new Image;o.onload=function(){return e(o)},o.onerror=t,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})},Ft={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var o=e.createElement("boundtest");o.style.height="123px",o.style.display="block",e.body.appendChild(o),t.selectNode(o);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(o),123===i)return!0}}return!1}(document);return Object.defineProperty(Ft,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,o=e.createElement("canvas"),n=o.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),o.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Ft,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(n){var e=n.createElement("canvas");e.width=100,e.height=100;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,100,100);var t=new Image,a=e.toDataURL();t.src=a;var o=Qt(100,100,0,0,t);return i.fillStyle="red",i.fillRect(0,0,100,100),Ut(o).then(function(e){i.drawImage(e,0,0);var t=i.getImageData(0,0,100,100).data;i.fillStyle="red",i.fillRect(0,0,100,100);var o=n.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height="100px",It(t)?Ut(Qt(100,100,0,0,o)):Promise.reject(!1)}).then(function(e){return i.drawImage(e,0,0),It(i.getImageData(0,0,100,100).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ft,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ft,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ft,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ft,"SUPPORT_CORS_XHR",{value:e}),e}},Pt=(Dt.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},Dt.prototype.getTime=function(){return Date.now()-this.start},Dt.create=function(e){Dt.instances[e.id]=new Dt(e)},Dt.destroy=function(e){delete Dt.instances[e]},Dt.getInstance=function(e){var t=Dt.instances[e];if(void 0===t)throw new Error("No logger instance found with id "+e);return t},Dt.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},Dt.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},Dt.instances={},Dt);function Dt(e){var t=e.id,o=e.enabled;this.id=t,this.enabled=o,this.start=Date.now()}var xt=(Lt.create=function(e,t){return Lt._caches[e]=new Nt(e,t)},Lt.destroy=function(e){delete Lt._caches[e]},Lt.open=function(e){var t=Lt._caches[e];if(void 0!==t)return t;throw new Error('Cache with key "'+e+'" not found')},Lt.getOrigin=function(e){var t=Lt._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},Lt.isSameOrigin=function(e){return Lt.getOrigin(e)===Lt._origin},Lt.setContext=function(e){Lt._link=e.document.createElement("a"),Lt._origin=Lt.getOrigin(e.location.href)},Lt.getInstance=function(){var e=Lt._current;if(null===e)throw new Error("No cache instance attached");return e},Lt.attachInstance=function(e){Lt._current=e},Lt.detachInstance=function(){Lt._current=null},Lt._caches={},Lt._origin="about:blank",Lt._current=null,Lt);function Lt(){}var Nt=(Ht.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Gt(e)||jt(e))&&(this._cache[e]=this.loadImage(e)),t},Ht.prototype.match=function(e){return this._cache[e]},Ht.prototype.loadImage=function(r){return l(this,void 0,void 0,function(){var t,n,o,i,a=this;return L(this,function(e){switch(e.label){case 0:return t=xt.isSameOrigin(r),n=!zt(r)&&!0===this._options.useCORS&&Ft.SUPPORT_CORS_IMAGES&&!t,o=!zt(r)&&!t&&"string"==typeof this._options.proxy&&Ft.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||zt(r)||o||n?(i=r,o?[4,this.proxy(i)]:[3,2]):[2];case 1:i=e.sent(),e.label=2;case 2:return Pt.getInstance(this.id).debug("Added image "+r.substring(0,256)),[4,new Promise(function(e,t){var o=new Image;o.onload=function(){return e(o)},o.onerror=t,(Jt(i)||n)&&(o.crossOrigin="anonymous"),o.src=i,!0===o.complete&&setTimeout(function(){return e(o)},500),0<a._options.imageTimeout&&setTimeout(function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,e.sent()]}})})},Ht.prototype.has=function(e){return void 0!==this._cache[e]},Ht.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Ht.prototype.proxy=function(a){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var A=a.substring(0,256);return new Promise(function(t,o){var n=Ft.SUPPORT_RESPONSE_TYPE?"blob":"text",i=new XMLHttpRequest;if(i.onload=function(){if(200===i.status)if("text"==n)t(i.response);else{var e=new FileReader;e.addEventListener("load",function(){return t(e.result)},!1),e.addEventListener("error",function(e){return o(e)},!1),e.readAsDataURL(i.response)}else o("Failed to proxy resource "+A+" with status code "+i.status)},i.onerror=o,i.open("GET",s+"?url="+encodeURIComponent(a)+"&responseType="+n),"text"!=n&&i instanceof XMLHttpRequest&&(i.responseType=n),r._options.imageTimeout){var e=r._options.imageTimeout;i.timeout=e,i.ontimeout=function(){return o("Timed out ("+e+"ms) proxying "+A)}}i.send()})},Ht);function Ht(e,t){this.id=e,this._options=t,this._cache={}}function Rt(e){var i=eo.CIRCLE,a=oo.FARTHEST_CORNER,r=[],s=[];return Je(e).forEach(function(e,t){var o=!0;if(0===t?o=e.reduce(function(e,t){if(We(t))switch(t.value){case"center":return s.push(rt),!1;case"top":case"left":return s.push(at),!1;case"right":case"bottom":return s.push(st),!1}else if(Xe(t)||Ge(t))return s.push(t),!1;return e},o):1===t&&(o=e.reduce(function(e,t){if(We(t))switch(t.value){case"circle":return i=eo.CIRCLE,!1;case"ellipse":return i=eo.ELLIPSE,!1;case"contain":case Yt:return a=oo.CLOSEST_SIDE,!1;case qt:return a=oo.FARTHEST_SIDE,!1;case Zt:return a=oo.CLOSEST_CORNER,!1;case"cover":case $t:return a=oo.FARTHEST_CORNER,!1}else if(Ge(t)||Xe(t))return Array.isArray(a)||(a=[]),a.push(t),!1;return e},o)),o){var n=bt(e);r.push(n)}}),{size:a,shape:i,stops:r,position:s,type:Mt.RADIAL_GRADIENT}}var Mt,Ot,Wt=/^data:image\/svg\+xml/i,Kt=/^data:image\/.*;base64,/i,Vt=/^data:image\/.*/i,jt=function(e){return Ft.SUPPORT_SVG_DRAWING||!Xt(e)},zt=function(e){return Vt.test(e)},Jt=function(e){return Kt.test(e)},Gt=function(e){return"blob"===e.substr(0,4)},Xt=function(e){return"svg"===e.substr(-3).toLowerCase()||Wt.test(e)},Yt="closest-side",qt="farthest-side",Zt="closest-corner",$t="farthest-corner";(Ot=Mt=Mt||{})[Ot.URL=0]="URL",Ot[Ot.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",Ot[Ot.RADIAL_GRADIENT=2]="RADIAL_GRADIENT";var eo,to,oo,no;(to=eo=eo||{})[to.CIRCLE=0]="CIRCLE",to[to.ELLIPSE=1]="ELLIPSE",(no=oo=oo||{})[no.CLOSEST_SIDE=0]="CLOSEST_SIDE",no[no.FARTHEST_SIDE=1]="FARTHEST_SIDE",no[no.CLOSEST_CORNER=2]="CLOSEST_CORNER",no[no.FARTHEST_CORNER=3]="FARTHEST_CORNER";var io=function(e){if(e.type===ae.URL_TOKEN){var t={url:e.value,type:Mt.URL};return xt.getInstance().addImage(e.value),t}if(e.type!==ae.FUNCTION)throw new Error("Unsupported image type");var o=so[e.name];if(void 0===o)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return o(e.values)};var ao,ro,so={"linear-gradient":function(e){var i=ct(180),a=[];return Je(e).forEach(function(e,t){if(0===t){var o=e[0];if(o.type===ae.IDENT_TOKEN&&"to"===o.value)return void(i=$e(e));if(Ze(o))return void(i=lt(o))}var n=bt(e);a.push(n)}),{angle:i,stops:a,type:Mt.LINEAR_GRADIENT}},"-moz-linear-gradient":St,"-ms-linear-gradient":St,"-o-linear-gradient":St,"-webkit-linear-gradient":St,"radial-gradient":function(e){var a=eo.CIRCLE,r=oo.FARTHEST_CORNER,s=[],A=[];return Je(e).forEach(function(e,t){var o=!0;if(0===t){var n=!1;o=e.reduce(function(e,t){if(n)if(We(t))switch(t.value){case"center":return A.push(rt),e;case"top":case"left":return A.push(at),e;case"right":case"bottom":return A.push(st),e}else(Xe(t)||Ge(t))&&A.push(t);else if(We(t))switch(t.value){case"circle":return a=eo.CIRCLE,!1;case"ellipse":return a=eo.ELLIPSE,!1;case"at":return!(n=!0);case Yt:return r=oo.CLOSEST_SIDE,!1;case"cover":case qt:return r=oo.FARTHEST_SIDE,!1;case"contain":case Zt:return r=oo.CLOSEST_CORNER,!1;case $t:return r=oo.FARTHEST_CORNER,!1}else if(Ge(t)||Xe(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},o)}if(o){var i=bt(e);s.push(i)}}),{size:r,shape:a,stops:s,position:A,type:Mt.RADIAL_GRADIENT}},"-moz-radial-gradient":Rt,"-ms-radial-gradient":Rt,"-o-radial-gradient":Rt,"-webkit-radial-gradient":Rt,"-webkit-gradient":function(e){var t=ct(180),r=[],s=Mt.LINEAR_GRADIENT,o=eo.CIRCLE,n=oo.FARTHEST_CORNER;return Je(e).forEach(function(e,t){var o=e[0];if(0===t){if(We(o)&&"linear"===o.value)return void(s=Mt.LINEAR_GRADIENT);if(We(o)&&"radial"===o.value)return void(s=Mt.RADIAL_GRADIENT)}if(o.type===ae.FUNCTION)if("from"===o.name){var n=dt(o.values[0]);r.push({stop:at,color:n})}else if("to"===o.name){n=dt(o.values[0]);r.push({stop:st,color:n})}else if("color-stop"===o.name){var i=o.values.filter(ze);if(2===i.length){n=dt(i[1]);var a=i[0];Oe(a)&&r.push({stop:{type:ae.PERCENTAGE_TOKEN,number:100*a.number,flags:a.flags},color:n})}}}),s===Mt.LINEAR_GRADIENT?{angle:(t+ct(180))%ct(360),stops:r,type:s}:{size:n,shape:o,stops:r,position:[],type:s}}},Ao={name:"background-image",initialValue:"none",type:pt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===ae.IDENT_TOKEN&&"none"===t.value?[]:e.filter(function(e){return ze(e)&&function(e){return e.type!==ae.FUNCTION||so[e.name]}(e)}).map(io)}},lo={name:"background-origin",initialValue:"border-box",prefix:!1,type:pt.LIST,parse:function(e){return e.map(function(e){if(We(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},co={name:"background-position",initialValue:"0% 0%",type:pt.LIST,prefix:!1,parse:function(e){return Je(e).map(function(e){return e.filter(Xe)}).map(Ye)}};(ro=ao=ao||{})[ro.REPEAT=0]="REPEAT",ro[ro.NO_REPEAT=1]="NO_REPEAT",ro[ro.REPEAT_X=2]="REPEAT_X";var uo,ho,fo={name:"background-repeat",initialValue:"repeat",prefix:!(ro[ro.REPEAT_Y=3]="REPEAT_Y"),type:pt.LIST,parse:function(e){return Je(e).map(function(e){return e.filter(We).map(function(e){return e.value}).join(" ")}).map(po)}},po=function(e){switch(e){case"no-repeat":return ao.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return ao.REPEAT_X;case"repeat-y":case"no-repeat repeat":return ao.REPEAT_Y;case"repeat":default:return ao.REPEAT}};(ho=uo=uo||{}).AUTO="auto",ho.CONTAIN="contain";function go(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:pt.TYPE_VALUE,format:"color"}}function mo(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:pt.LIST,parse:function(e){return Ye(e.filter(Xe))}}}var yo,vo,wo={name:"background-size",initialValue:"0",prefix:!(ho.COVER="cover"),type:pt.LIST,parse:function(e){return Je(e).map(function(e){return e.filter(bo)})}},bo=function(e){return We(e)||Xe(e)},Bo=go("top"),_o=go("right"),Co=go("bottom"),Eo=go("left"),So=mo("top-left"),Io=mo("top-right"),To=mo("bottom-right"),ko=mo("bottom-left");(vo=yo=yo||{})[vo.NONE=0]="NONE",vo[vo.SOLID=1]="SOLID";function Qo(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:pt.IDENT_VALUE,parse:function(e){switch(e){case"none":return yo.NONE}return yo.SOLID}}}function Uo(e){return{name:"border-"+e+"-width",initialValue:"0",type:pt.VALUE,prefix:!1,parse:function(e){return Me(e)?e.number:0}}}var Fo,Po,Do=Qo("top"),xo=Qo("right"),Lo=Qo("bottom"),No=Qo("left"),Ho=Uo("top"),Ro=Uo("right"),Mo=Uo("bottom"),Oo=Uo("left"),Wo={name:"color",initialValue:"transparent",prefix:!1,type:pt.TYPE_VALUE,format:"color"},Ko={name:"display",initialValue:"inline-block",prefix:!1,type:pt.LIST,parse:function(e){return e.filter(We).reduce(function(e,t){return e|Vo(t.value)},0)}},Vo=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(Po=Fo=Fo||{})[Po.NONE=0]="NONE",Po[Po.LEFT=1]="LEFT",Po[Po.RIGHT=2]="RIGHT",Po[Po.INLINE_START=3]="INLINE_START";var jo,zo,Jo,Go,Xo={name:"float",initialValue:"none",prefix:!(Po[Po.INLINE_END=4]="INLINE_END"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"left":return Fo.LEFT;case"right":return Fo.RIGHT;case"inline-start":return Fo.INLINE_START;case"inline-end":return Fo.INLINE_END}return Fo.NONE}},Yo={name:"letter-spacing",initialValue:"0",prefix:!1,type:pt.VALUE,parse:function(e){return e.type===ae.IDENT_TOKEN&&"normal"===e.value?0:e.type===ae.NUMBER_TOKEN?e.number:e.type===ae.DIMENSION_TOKEN?e.number:0}},qo={name:"line-break",initialValue:(zo=jo=jo||{}).NORMAL="normal",prefix:!(zo.STRICT="strict"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"strict":return jo.STRICT;case"normal":default:return jo.NORMAL}}},Zo={name:"line-height",initialValue:"normal",prefix:!1,type:pt.TOKEN_VALUE},$o={name:"list-style-image",initialValue:"none",type:pt.VALUE,prefix:!1,parse:function(e){return e.type===ae.IDENT_TOKEN&&"none"===e.value?null:io(e)}};(Go=Jo=Jo||{})[Go.INSIDE=0]="INSIDE";var en,tn,on={name:"list-style-position",initialValue:"outside",prefix:!(Go[Go.OUTSIDE=1]="OUTSIDE"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"inside":return Jo.INSIDE;case"outside":default:return Jo.OUTSIDE}}};(tn=en=en||{})[tn.NONE=-1]="NONE",tn[tn.DISC=0]="DISC",tn[tn.CIRCLE=1]="CIRCLE",tn[tn.SQUARE=2]="SQUARE",tn[tn.DECIMAL=3]="DECIMAL",tn[tn.CJK_DECIMAL=4]="CJK_DECIMAL",tn[tn.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",tn[tn.LOWER_ROMAN=6]="LOWER_ROMAN",tn[tn.UPPER_ROMAN=7]="UPPER_ROMAN",tn[tn.LOWER_GREEK=8]="LOWER_GREEK",tn[tn.LOWER_ALPHA=9]="LOWER_ALPHA",tn[tn.UPPER_ALPHA=10]="UPPER_ALPHA",tn[tn.ARABIC_INDIC=11]="ARABIC_INDIC",tn[tn.ARMENIAN=12]="ARMENIAN",tn[tn.BENGALI=13]="BENGALI",tn[tn.CAMBODIAN=14]="CAMBODIAN",tn[tn.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",tn[tn.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",tn[tn.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",tn[tn.DEVANAGARI=18]="DEVANAGARI",tn[tn.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",tn[tn.GEORGIAN=20]="GEORGIAN",tn[tn.GUJARATI=21]="GUJARATI",tn[tn.GURMUKHI=22]="GURMUKHI",tn[tn.HEBREW=22]="HEBREW",tn[tn.HIRAGANA=23]="HIRAGANA",tn[tn.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",tn[tn.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",tn[tn.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",tn[tn.KANNADA=27]="KANNADA",tn[tn.KATAKANA=28]="KATAKANA",tn[tn.KATAKANA_IROHA=29]="KATAKANA_IROHA",tn[tn.KHMER=30]="KHMER",tn[tn.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",tn[tn.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",tn[tn.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",tn[tn.LAO=34]="LAO",tn[tn.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",tn[tn.MALAYALAM=36]="MALAYALAM",tn[tn.MONGOLIAN=37]="MONGOLIAN",tn[tn.MYANMAR=38]="MYANMAR",tn[tn.ORIYA=39]="ORIYA",tn[tn.PERSIAN=40]="PERSIAN",tn[tn.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",tn[tn.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",tn[tn.TAMIL=43]="TAMIL",tn[tn.TELUGU=44]="TELUGU",tn[tn.THAI=45]="THAI",tn[tn.TIBETAN=46]="TIBETAN",tn[tn.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",tn[tn.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",tn[tn.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",tn[tn.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN";function nn(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:pt.TOKEN_VALUE}}var an,rn,sn={name:"list-style-type",initialValue:"none",prefix:!(tn[tn.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"disc":return en.DISC;case"circle":return en.CIRCLE;case"square":return en.SQUARE;case"decimal":return en.DECIMAL;case"cjk-decimal":return en.CJK_DECIMAL;case"decimal-leading-zero":return en.DECIMAL_LEADING_ZERO;case"lower-roman":return en.LOWER_ROMAN;case"upper-roman":return en.UPPER_ROMAN;case"lower-greek":return en.LOWER_GREEK;case"lower-alpha":return en.LOWER_ALPHA;case"upper-alpha":return en.UPPER_ALPHA;case"arabic-indic":return en.ARABIC_INDIC;case"armenian":return en.ARMENIAN;case"bengali":return en.BENGALI;case"cambodian":return en.CAMBODIAN;case"cjk-earthly-branch":return en.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return en.CJK_HEAVENLY_STEM;case"cjk-ideographic":return en.CJK_IDEOGRAPHIC;case"devanagari":return en.DEVANAGARI;case"ethiopic-numeric":return en.ETHIOPIC_NUMERIC;case"georgian":return en.GEORGIAN;case"gujarati":return en.GUJARATI;case"gurmukhi":return en.GURMUKHI;case"hebrew":return en.HEBREW;case"hiragana":return en.HIRAGANA;case"hiragana-iroha":return en.HIRAGANA_IROHA;case"japanese-formal":return en.JAPANESE_FORMAL;case"japanese-informal":return en.JAPANESE_INFORMAL;case"kannada":return en.KANNADA;case"katakana":return en.KATAKANA;case"katakana-iroha":return en.KATAKANA_IROHA;case"khmer":return en.KHMER;case"korean-hangul-formal":return en.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return en.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return en.KOREAN_HANJA_INFORMAL;case"lao":return en.LAO;case"lower-armenian":return en.LOWER_ARMENIAN;case"malayalam":return en.MALAYALAM;case"mongolian":return en.MONGOLIAN;case"myanmar":return en.MYANMAR;case"oriya":return en.ORIYA;case"persian":return en.PERSIAN;case"simp-chinese-formal":return en.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return en.SIMP_CHINESE_INFORMAL;case"tamil":return en.TAMIL;case"telugu":return en.TELUGU;case"thai":return en.THAI;case"tibetan":return en.TIBETAN;case"trad-chinese-formal":return en.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return en.TRAD_CHINESE_INFORMAL;case"upper-armenian":return en.UPPER_ARMENIAN;case"disclosure-open":return en.DISCLOSURE_OPEN;case"disclosure-closed":return en.DISCLOSURE_CLOSED;case"none":default:return en.NONE}}},An=nn("top"),ln=nn("right"),cn=nn("bottom"),dn=nn("left");(rn=an=an||{})[rn.VISIBLE=0]="VISIBLE",rn[rn.HIDDEN=1]="HIDDEN",rn[rn.SCROLL=2]="SCROLL";function un(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:pt.TYPE_VALUE,format:"length-percentage"}}var hn,fn,pn,gn,mn={name:"overflow",initialValue:"visible",prefix:!(rn[rn.AUTO=3]="AUTO"),type:pt.LIST,parse:function(e){return e.filter(We).map(function(e){switch(e.value){case"hidden":return an.HIDDEN;case"scroll":return an.SCROLL;case"auto":return an.AUTO;case"visible":default:return an.VISIBLE}})}},yn={name:"overflow-wrap",initialValue:(fn=hn=hn||{}).NORMAL="normal",prefix:!(fn.BREAK_WORD="break-word"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return hn.BREAK_WORD;case"normal":default:return hn.NORMAL}}},vn=un("top"),wn=un("right"),bn=un("bottom"),Bn=un("left");(gn=pn=pn||{})[gn.LEFT=0]="LEFT",gn[gn.CENTER=1]="CENTER";var _n,Cn,En={name:"text-align",initialValue:"left",prefix:!(gn[gn.RIGHT=2]="RIGHT"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"right":return pn.RIGHT;case"center":case"justify":return pn.CENTER;case"left":default:return pn.LEFT}}};(Cn=_n=_n||{})[Cn.STATIC=0]="STATIC",Cn[Cn.RELATIVE=1]="RELATIVE",Cn[Cn.ABSOLUTE=2]="ABSOLUTE",Cn[Cn.FIXED=3]="FIXED";var Sn,In,Tn={name:"position",initialValue:"static",prefix:!(Cn[Cn.STICKY=4]="STICKY"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"relative":return _n.RELATIVE;case"absolute":return _n.ABSOLUTE;case"fixed":return _n.FIXED;case"sticky":return _n.STICKY}return _n.STATIC}},kn={name:"text-shadow",initialValue:"none",type:pt.LIST,prefix:!1,parse:function(e){return 1===e.length&&Ve(e[0],"none")?[]:Je(e).map(function(e){for(var t={color:wt.TRANSPARENT,offsetX:at,offsetY:at,blur:at},o=0,n=0;n<e.length;n++){var i=e[n];Ge(i)?(0===o?t.offsetX=i:1===o?t.offsetY=i:t.blur=i,o++):t.color=dt(i)}return t})}};(In=Sn=Sn||{})[In.NONE=0]="NONE",In[In.LOWERCASE=1]="LOWERCASE",In[In.UPPERCASE=2]="UPPERCASE";var Qn,Un,Fn={name:"text-transform",initialValue:"none",prefix:!(In[In.CAPITALIZE=3]="CAPITALIZE"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return Sn.UPPERCASE;case"lowercase":return Sn.LOWERCASE;case"capitalize":return Sn.CAPITALIZE}return Sn.NONE}},Pn={name:"transform",initialValue:"none",prefix:!0,type:pt.VALUE,parse:function(e){if(e.type===ae.IDENT_TOKEN&&"none"===e.value)return null;if(e.type!==ae.FUNCTION)return null;var t=Dn[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}},Dn={matrix:function(e){var t=e.filter(function(e){return e.type===ae.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===ae.NUMBER_TOKEN}).map(function(e){return e.number}),o=t[0],n=t[1],i=(t[2],t[3],t[4]),a=t[5],r=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),s=t[13];t[14],t[15];return 16===t.length?[o,n,i,a,r,s]:null}},xn={type:ae.PERCENTAGE_TOKEN,number:50,flags:4},Ln=[xn,xn],Nn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:pt.LIST,parse:function(e){var t=e.filter(Xe);return 2!==t.length?Ln:[t[0],t[1]]}};(Un=Qn=Qn||{})[Un.VISIBLE=0]="VISIBLE",Un[Un.HIDDEN=1]="HIDDEN";var Hn,Rn,Mn={name:"visible",initialValue:"none",prefix:!(Un[Un.COLLAPSE=2]="COLLAPSE"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return Qn.HIDDEN;case"collapse":return Qn.COLLAPSE;case"visible":default:return Qn.VISIBLE}}};(Rn=Hn=Hn||{}).NORMAL="normal",Rn.BREAK_ALL="break-all";var On,Wn,Kn={name:"word-break",initialValue:"normal",prefix:!(Rn.KEEP_ALL="keep-all"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return Hn.BREAK_ALL;case"keep-all":return Hn.KEEP_ALL;case"normal":default:return Hn.NORMAL}}},Vn={name:"z-index",initialValue:"auto",prefix:!1,type:pt.VALUE,parse:function(e){if(e.type===ae.IDENT_TOKEN)return{auto:!0,order:0};if(Oe(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},jn={name:"opacity",initialValue:"1",type:pt.VALUE,prefix:!1,parse:function(e){return Oe(e)?e.number:1}},zn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:pt.TYPE_VALUE,format:"color"},Jn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:pt.LIST,parse:function(e){return e.filter(We).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},Gn={name:"font-family",initialValue:"",prefix:!1,type:pt.LIST,parse:function(e){return e.filter(Xn).map(function(e){return e.value})}},Xn=function(e){return e.type===ae.STRING_TOKEN||e.type===ae.IDENT_TOKEN},Yn={name:"font-size",initialValue:"0",prefix:!1,type:pt.TYPE_VALUE,format:"length"},qn={name:"font-weight",initialValue:"normal",type:pt.VALUE,prefix:!1,parse:function(e){if(Oe(e))return e.number;if(We(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Zn={name:"font-variant",initialValue:"none",type:pt.LIST,prefix:!1,parse:function(e){return e.filter(We).map(function(e){return e.value})}};(Wn=On=On||{}).NORMAL="normal",Wn.ITALIC="italic";function $n(e,t){return 0!=(e&t)}function ei(e,t,o){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?o?n.open:n.close:""}var ti={name:"font-style",initialValue:"normal",prefix:!(Wn.OBLIQUE="oblique"),type:pt.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return On.OBLIQUE;case"italic":return On.ITALIC;case"normal":default:return On.NORMAL}}},oi={name:"content",initialValue:"none",type:pt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===ae.IDENT_TOKEN&&"none"===t.value?[]:e}},ni={name:"counter-increment",initialValue:"none",prefix:!0,type:pt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===ae.IDENT_TOKEN&&"none"===t.value)return null;for(var o=[],n=e.filter(je),i=0;i<n.length;i++){var a=n[i],r=n[i+1];if(a.type===ae.IDENT_TOKEN){var s=r&&Oe(r)?r.number:1;o.push({counter:a.value,increment:s})}}return o}},ii={name:"counter-reset",initialValue:"none",prefix:!0,type:pt.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],o=e.filter(je),n=0;n<o.length;n++){var i=o[n],a=o[n+1];if(We(i)&&"none"!==i.value){var r=a&&Oe(a)?a.number:0;t.push({counter:i.value,reset:r})}}return t}},ai={name:"quotes",initialValue:"none",prefix:!0,type:pt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===ae.IDENT_TOKEN&&"none"===t.value)return null;var o=[],n=e.filter(Ke);if(n.length%2!=0)return null;for(var i=0;i<n.length;i+=2){var a=n[i].value,r=n[i+1].value;o.push({open:a,close:r})}return o}},ri={name:"box-shadow",initialValue:"none",type:pt.LIST,prefix:!1,parse:function(e){return 1===e.length&&Ve(e[0],"none")?[]:Je(e).map(function(e){for(var t={color:255,offsetX:at,offsetY:at,blur:at,spread:at,inset:!1},o=0,n=0;n<e.length;n++){var i=e[n];Ve(i,"inset")?t.inset=!0:Ge(i)?(0===o?t.offsetX=i:1===o?t.offsetY=i:2===o?t.blur=i:t.spread=i,o++):t.color=dt(i)}return t})}},si=(Ai.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&this.visibility===Qn.VISIBLE},Ai.prototype.isTransparent=function(){return et(this.backgroundColor)},Ai.prototype.isTransformed=function(){return null!==this.transform},Ai.prototype.isPositioned=function(){return this.position!==_n.STATIC},Ai.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Ai.prototype.isFloating=function(){return this.float!==Fo.NONE},Ai.prototype.isInlineLevel=function(){return $n(this.display,4)||$n(this.display,33554432)||$n(this.display,268435456)||$n(this.display,536870912)||$n(this.display,67108864)||$n(this.display,134217728)},Ai);function Ai(e){this.backgroundClip=ui(Tt,e.backgroundClip),this.backgroundColor=ui(kt,e.backgroundColor),this.backgroundImage=ui(Ao,e.backgroundImage),this.backgroundOrigin=ui(lo,e.backgroundOrigin),this.backgroundPosition=ui(co,e.backgroundPosition),this.backgroundRepeat=ui(fo,e.backgroundRepeat),this.backgroundSize=ui(wo,e.backgroundSize),this.borderTopColor=ui(Bo,e.borderTopColor),this.borderRightColor=ui(_o,e.borderRightColor),this.borderBottomColor=ui(Co,e.borderBottomColor),this.borderLeftColor=ui(Eo,e.borderLeftColor),this.borderTopLeftRadius=ui(So,e.borderTopLeftRadius),this.borderTopRightRadius=ui(Io,e.borderTopRightRadius),this.borderBottomRightRadius=ui(To,e.borderBottomRightRadius),this.borderBottomLeftRadius=ui(ko,e.borderBottomLeftRadius),this.borderTopStyle=ui(Do,e.borderTopStyle),this.borderRightStyle=ui(xo,e.borderRightStyle),this.borderBottomStyle=ui(Lo,e.borderBottomStyle),this.borderLeftStyle=ui(No,e.borderLeftStyle),this.borderTopWidth=ui(Ho,e.borderTopWidth),this.borderRightWidth=ui(Ro,e.borderRightWidth),this.borderBottomWidth=ui(Mo,e.borderBottomWidth),this.borderLeftWidth=ui(Oo,e.borderLeftWidth),this.boxShadow=ui(ri,e.boxShadow),this.color=ui(Wo,e.color),this.display=ui(Ko,e.display),this.float=ui(Xo,e.cssFloat),this.fontFamily=ui(Gn,e.fontFamily),this.fontSize=ui(Yn,e.fontSize),this.fontStyle=ui(ti,e.fontStyle),this.fontVariant=ui(Zn,e.fontVariant),this.fontWeight=ui(qn,e.fontWeight),this.letterSpacing=ui(Yo,e.letterSpacing),this.lineBreak=ui(qo,e.lineBreak),this.lineHeight=ui(Zo,e.lineHeight),this.listStyleImage=ui($o,e.listStyleImage),this.listStylePosition=ui(on,e.listStylePosition),this.listStyleType=ui(sn,e.listStyleType),this.marginTop=ui(An,e.marginTop),this.marginRight=ui(ln,e.marginRight),this.marginBottom=ui(cn,e.marginBottom),this.marginLeft=ui(dn,e.marginLeft),this.opacity=ui(jn,e.opacity);var t=ui(mn,e.overflow);this.overflowX=t[0],this.overflowY=t[1<t.length?1:0],this.overflowWrap=ui(yn,e.overflowWrap),this.paddingTop=ui(vn,e.paddingTop),this.paddingRight=ui(wn,e.paddingRight),this.paddingBottom=ui(bn,e.paddingBottom),this.paddingLeft=ui(Bn,e.paddingLeft),this.position=ui(Tn,e.position),this.textAlign=ui(En,e.textAlign),this.textDecorationColor=ui(zn,e.textDecorationColor||e.color),this.textDecorationLine=ui(Jn,e.textDecorationLine),this.textShadow=ui(kn,e.textShadow),this.textTransform=ui(Fn,e.textTransform),this.transform=ui(Pn,e.transform),this.transformOrigin=ui(Nn,e.transformOrigin),this.visibility=ui(Mn,e.visibility),this.wordBreak=ui(Kn,e.wordBreak),this.zIndex=ui(Vn,e.zIndex)}var li,ci=function(e){this.content=ui(oi,e.content),this.quotes=ui(ai,e.quotes)},di=function(e){this.counterIncrement=ui(ni,e.counterIncrement),this.counterReset=ui(ii,e.counterReset)},ui=function(e,t){var o=new Le,n=null!=t?t.toString():e.initialValue;o.write(n);var i=new He(o.read());switch(e.type){case pt.IDENT_VALUE:var a=i.parseComponentValue();return e.parse(We(a)?a.value:e.initialValue);case pt.VALUE:return e.parse(i.parseComponentValue());case pt.LIST:return e.parse(i.parseComponentValues());case pt.TOKEN_VALUE:return i.parseComponentValue();case pt.TYPE_VALUE:switch(e.format){case"angle":return lt(i.parseComponentValue());case"color":return dt(i.parseComponentValue());case"image":return io(i.parseComponentValue());case"length":var r=i.parseComponentValue();return Ge(r)?r:at;case"length-percentage":var s=i.parseComponentValue();return Xe(s)?s:at}}throw new Error("Attempting to parse unsupported css format type "+e.format)},hi=function(e){this.styles=new si(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&ca(e)&&(e.style.transform="none"),this.bounds=T(e),this.flags=0},fi=function(e,t){this.text=e,this.bounds=t},pi=function(e){var t=e.ownerDocument;if(t){var o=t.createElement("html2canvaswrapper");o.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(o,e);var i=T(o);return o.firstChild&&n.replaceChild(o.firstChild,o),i}}return new I(0,0,0,0)},gi=function(e,t,o){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+o),I.fromClientRect(i.getBoundingClientRect())},mi=function(e,t){return 0!==t.letterSpacing?c(e).map(function(e){return p(e)}):yi(e,t)},yi=function(e,t){for(var o,n=function(e,t){var o=c(e),n=h(o,t),i=n[0],a=n[1],r=n[2],s=o.length,A=0,l=0;return{next:function(){if(s<=l)return{done:!0,value:null};for(var e="Ã—";l<s&&"Ã—"===(e=u(o,a,i,++l,r)););if("Ã—"===e&&l!==s)return{done:!0,value:null};var t=new ne(o,e,A,l);return A=l,{value:t,done:!1}}}}(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===hn.BREAK_WORD?"break-word":t.wordBreak}),i=[];!(o=n.next()).done;)o.value&&i.push(o.value.slice());return i},vi=function(e,t){this.text=wi(e.data,t.textTransform),this.textBounds=function(e,o,n){var t=mi(e,o),i=[],a=0;return t.forEach(function(e){if(o.textDecorationLine.length||0<e.trim().length)if(Ft.SUPPORT_RANGE_BOUNDS)i.push(new fi(e,gi(n,a,e.length)));else{var t=n.splitText(e.length);i.push(new fi(e,pi(n))),n=t}else Ft.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));a+=e.length}),i}(this.text,t,e)},wi=function(e,t){switch(t){case Sn.LOWERCASE:return e.toLowerCase();case Sn.CAPITALIZE:return e.replace(bi,Bi);case Sn.UPPERCASE:return e.toUpperCase();default:return e}},bi=/(^|\s|:|-|\(|\))([a-z])/g,Bi=function(e,t,o){return 0<e.length?t+o.toUpperCase():e},_i=(e(Ci,li=hi),Ci);function Ci(e){var t=li.call(this,e)||this;return t.src=e.currentSrc||e.src,t.intrinsicWidth=e.naturalWidth,t.intrinsicHeight=e.naturalHeight,xt.getInstance().addImage(t.src),t}var Ei,Si=(e(Ii,Ei=hi),Ii);function Ii(e){var t=Ei.call(this,e)||this;return t.canvas=e,t.intrinsicWidth=e.width,t.intrinsicHeight=e.height,t}var Ti,ki=(e(Qi,Ti=hi),Qi);function Qi(e){var t=Ti.call(this,e)||this,o=new XMLSerializer;return t.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(e)),t.intrinsicWidth=e.width.baseVal.value,t.intrinsicHeight=e.height.baseVal.value,xt.getInstance().addImage(t.svg),t}var Ui,Fi=(e(Pi,Ui=hi),Pi);function Pi(e){var t=Ui.call(this,e)||this;return t.value=e.value,t}var Di,xi=(e(Li,Di=hi),Li);function Li(e){var t=Di.call(this,e)||this;return t.start=e.start,t.reversed="boolean"==typeof e.reversed&&!0===e.reversed,t}var Ni,Hi=[{type:ae.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Ri=[{type:ae.PERCENTAGE_TOKEN,flags:0,number:50}],Mi="checkbox",Oi="radio",Wi="password",Ki=(e(Vi,Ni=hi),Vi);function Vi(e){var t=Ni.call(this,e)||this;switch(t.type=e.type.toLowerCase(),t.checked=e.checked,t.value=function(e){var t=e.type===Wi?new Array(e.value.length+1).join("â€¢"):e.value;return 0===t.length?e.placeholder||"":t}(e),t.type!==Mi&&t.type!==Oi||(t.styles.backgroundColor=3739148031,t.styles.borderTopColor=t.styles.borderRightColor=t.styles.borderBottomColor=t.styles.borderLeftColor=2779096575,t.styles.borderTopWidth=t.styles.borderRightWidth=t.styles.borderBottomWidth=t.styles.borderLeftWidth=1,t.styles.borderTopStyle=t.styles.borderRightStyle=t.styles.borderBottomStyle=t.styles.borderLeftStyle=yo.SOLID,t.styles.backgroundClip=[mt.BORDER_BOX],t.styles.backgroundOrigin=[0],t.bounds=function(e){return e.width>e.height?new I(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new I(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e}(t.bounds)),t.type){case Mi:t.styles.borderTopRightRadius=t.styles.borderTopLeftRadius=t.styles.borderBottomRightRadius=t.styles.borderBottomLeftRadius=Hi;break;case Oi:t.styles.borderTopRightRadius=t.styles.borderTopLeftRadius=t.styles.borderBottomRightRadius=t.styles.borderBottomLeftRadius=Ri}return t}var ji,zi=(e(Ji,ji=hi),Ji);function Ji(e){var t=ji.call(this,e)||this,o=e.options[e.selectedIndex||0];return t.value=o&&o.text||"",t}var Gi,Xi=(e(Yi,Gi=hi),Yi);function Yi(e){var t=Gi.call(this,e)||this;return t.value=e.value,t}function qi(e){return dt(He.create(e).parseComponentValue())}var Zi,$i=(e(ea,Zi=hi),ea);function ea(e){var t=Zi.call(this,e)||this;t.src=e.src,t.width=parseInt(e.width,10)||0,t.height=parseInt(e.height,10)||0,t.backgroundColor=t.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){t.tree=aa(e.contentWindow.document.documentElement);var o=e.contentWindow.document.documentElement?qi(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):wt.TRANSPARENT,n=e.contentWindow.document.body?qi(getComputedStyle(e.contentWindow.document.body).backgroundColor):wt.TRANSPARENT;t.backgroundColor=et(o)?et(n)?t.styles.backgroundColor:n:o}}catch(e){}return t}function ta(e){return"STYLE"===e.tagName}var oa=["OL","UL","MENU"],na=function(e,t,o){for(var n=e.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Aa(n)&&0<n.data.trim().length)t.textNodes.push(new vi(n,t.styles));else if(la(n)){var a=ia(n);a.styles.isVisible()&&(ra(n,a,o)?a.flags|=4:sa(a.styles)&&(a.flags|=2),-1!==oa.indexOf(n.tagName)&&(a.flags|=8),t.elements.push(a),va(n)||fa(n)||wa(n)||na(n,a,o))}},ia=function(e){return ma(e)?new _i(e):ga(e)?new Si(e):fa(e)?new ki(e):da(e)?new Fi(e):ua(e)?new xi(e):ha(e)?new Ki(e):wa(e)?new zi(e):va(e)?new Xi(e):ya(e)?new $i(e):new hi(e)},aa=function(e){var t=ia(e);return t.flags|=4,na(e,t,t),t},ra=function(e,t,o){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||pa(e)&&o.styles.isTransparent()},sa=function(e){return e.isPositioned()||e.isFloating()},Aa=function(e){return e.nodeType===Node.TEXT_NODE},la=function(e){return e.nodeType===Node.ELEMENT_NODE},ca=function(e){return void 0!==e.style},da=function(e){return"LI"===e.tagName},ua=function(e){return"OL"===e.tagName},ha=function(e){return"INPUT"===e.tagName},fa=function(e){return"svg"===e.tagName},pa=function(e){return"BODY"===e.tagName},ga=function(e){return"CANVAS"===e.tagName},ma=function(e){return"IMG"===e.tagName},ya=function(e){return"IFRAME"===e.tagName},va=function(e){return"TEXTAREA"===e.tagName},wa=function(e){return"SELECT"===e.tagName},ba=(Ba.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},Ba.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},Ba.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},Ba.prototype.parse=function(e){var o=this,t=e.counterIncrement,n=e.counterReset,i=!0;null!==t&&t.forEach(function(e){var t=o.counters[e.counter];t&&0!==e.increment&&(i=!1,t[Math.max(0,t.length-1)]+=e.increment)});var a=[];return i&&n.forEach(function(e){var t=o.counters[e.counter];a.push(e.counter),(t=t||(o.counters[e.counter]=[])).push(e.reset)}),a},Ba);function Ba(){this.counters={}}function _a(n,e,t,i,o,a){return n<e||t<n?Da(n,o,0<a.length):i.integers.reduce(function(e,t,o){for(;t<=n;)n-=t,e+=i.values[o];return e},"")+a}function Ca(e,t,o,n){for(var i="";o||e--,i=n(e)+i,t<=(e/=t)*t;);return i}function Ea(e,t,o,n,i){var a=o-t+1;return(e<0?"-":"")+(Ca(Math.abs(e),a,n,function(e){return p(Math.floor(e%a)+t)})+i)}function Sa(e,t,o){void 0===o&&(o=". ");var n=t.length;return Ca(Math.abs(e),n,!1,function(e){return t[Math.floor(e%n)]})+o}function Ia(e,t,o,n,i,a){if(e<-9999||9999<e)return Da(e,en.CJK_DECIMAL,0<i.length);var r=Math.abs(e),s=i;if(0===r)return t[0]+s;for(var A=0;0<r&&A<=4;A++){var l=r%10;0==l&&$n(a,1)&&""!==s?s=t[l]+s:1<l||1==l&&0===A||1==l&&1===A&&$n(a,2)||1==l&&1===A&&$n(a,4)&&100<e||1==l&&1<A&&$n(a,8)?s=t[l]+(0<A?o[A-1]:"")+s:1==l&&0<A&&(s=o[A-1]+s),r=Math.floor(r/10)}return(e<0?n:"")+s}var Ta,ka,Qa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ua={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ”","Õ“","Õ’","Õ‘","Õ","Õ","ÕŽ","Õ","ÕŒ","Õ‹","ÕŠ","Õ‰","Õˆ","Õ‡","Õ†","Õ…","Õ„","Õƒ","Õ‚","Õ","Õ€","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},Fa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["×™×³","×˜×³","×—×³","×–×³","×•×³","×”×³","×“×³","×’×³","×‘×³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×ž","×œ","×›","×™×˜","×™×—","×™×–","×˜×–","×˜×•","×™","×˜","×—","×–","×•","×”","×“","×’","×‘","×"]},Pa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áƒµ","áƒ°","áƒ¯","áƒ´","áƒ®","áƒ­","áƒ¬","áƒ«","áƒª","áƒ©","áƒ¨","áƒ§","áƒ¦","áƒ¥","áƒ¤","áƒ³","áƒ¢","áƒ¡","áƒ ","áƒŸ","áƒž","áƒ","áƒ²","áƒœ","áƒ›","áƒš","áƒ™","áƒ˜","áƒ—","áƒ±","áƒ–","áƒ•","áƒ”","áƒ“","áƒ’","áƒ‘","áƒ"]},Da=function(e,t,o){var n=o?". ":"",i=o?"ã€":"",a=o?", ":"",r=o?" ":"";switch(t){case en.DISC:return"â€¢"+r;case en.CIRCLE:return"â—¦"+r;case en.SQUARE:return"â—¾"+r;case en.DECIMAL_LEADING_ZERO:var s=Ea(e,48,57,!0,n);return s.length<4?"0"+s:s;case en.CJK_DECIMAL:return Sa(e,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",i);case en.LOWER_ROMAN:return _a(e,1,3999,Qa,en.DECIMAL,n).toLowerCase();case en.UPPER_ROMAN:return _a(e,1,3999,Qa,en.DECIMAL,n);case en.LOWER_GREEK:return Ea(e,945,969,!1,n);case en.LOWER_ALPHA:return Ea(e,97,122,!1,n);case en.UPPER_ALPHA:return Ea(e,65,90,!1,n);case en.ARABIC_INDIC:return Ea(e,1632,1641,!0,n);case en.ARMENIAN:case en.UPPER_ARMENIAN:return _a(e,1,9999,Ua,en.DECIMAL,n);case en.LOWER_ARMENIAN:return _a(e,1,9999,Ua,en.DECIMAL,n).toLowerCase();case en.BENGALI:return Ea(e,2534,2543,!0,n);case en.CAMBODIAN:case en.KHMER:return Ea(e,6112,6121,!0,n);case en.CJK_EARTHLY_BRANCH:return Sa(e,"å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥",i);case en.CJK_HEAVENLY_STEM:return Sa(e,"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸",i);case en.CJK_IDEOGRAPHIC:case en.TRAD_CHINESE_INFORMAL:return Ia(e,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬","è² ",i,14);case en.TRAD_CHINESE_FORMAL:return Ia(e,"é›¶å£¹è²³åƒè‚†ä¼é™¸æŸ’æŒçŽ–","æ‹¾ä½°ä»Ÿè¬","è² ",i,15);case en.SIMP_CHINESE_INFORMAL:return Ia(e,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬","è´Ÿ",i,14);case en.SIMP_CHINESE_FORMAL:return Ia(e,"é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒçŽ–","æ‹¾ä½°ä»Ÿè¬","è´Ÿ",i,15);case en.JAPANESE_INFORMAL:return Ia(e,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒä¸‡","ãƒžã‚¤ãƒŠã‚¹",i,0);case en.JAPANESE_FORMAL:return Ia(e,"é›¶å£±å¼å‚å››ä¼å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒä¸‡","ãƒžã‚¤ãƒŠã‚¹",i,7);case en.KOREAN_HANGUL_FORMAL:return Ia(e,"ì˜ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬","ì‹­ë°±ì²œë§Œ","ë§ˆì´ë„ˆìŠ¤",a,7);case en.KOREAN_HANJA_INFORMAL:return Ia(e,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬","ë§ˆì´ë„ˆìŠ¤",a,0);case en.KOREAN_HANJA_FORMAL:return Ia(e,"é›¶å£¹è²³åƒå››äº”å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒ","ë§ˆì´ë„ˆìŠ¤",a,7);case en.DEVANAGARI:return Ea(e,2406,2415,!0,n);case en.GEORGIAN:return _a(e,1,19999,Pa,en.DECIMAL,n);case en.GUJARATI:return Ea(e,2790,2799,!0,n);case en.GURMUKHI:return Ea(e,2662,2671,!0,n);case en.HEBREW:return _a(e,1,10999,Fa,en.DECIMAL,n);case en.HIRAGANA:return Sa(e,"ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚ã‚‘ã‚’ã‚“");case en.HIRAGANA_IROHA:return Sa(e,"ã„ã‚ã¯ã«ã»ã¸ã¨ã¡ã‚Šã¬ã‚‹ã‚’ã‚ã‹ã‚ˆãŸã‚Œãã¤ã­ãªã‚‰ã‚€ã†ã‚ã®ãŠãã‚„ã¾ã‘ãµã“ãˆã¦ã‚ã•ãã‚†ã‚ã¿ã—ã‚‘ã²ã‚‚ã›ã™");case en.KANNADA:return Ea(e,3302,3311,!0,n);case en.KATAKANA:return Sa(e,"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒŽãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒžãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²ãƒ³",i);case en.KATAKANA_IROHA:return Sa(e,"ã‚¤ãƒ­ãƒãƒ‹ãƒ›ãƒ˜ãƒˆãƒãƒªãƒŒãƒ«ãƒ²ãƒ¯ã‚«ãƒ¨ã‚¿ãƒ¬ã‚½ãƒ„ãƒãƒŠãƒ©ãƒ ã‚¦ãƒ°ãƒŽã‚ªã‚¯ãƒ¤ãƒžã‚±ãƒ•ã‚³ã‚¨ãƒ†ã‚¢ã‚µã‚­ãƒ¦ãƒ¡ãƒŸã‚·ãƒ±ãƒ’ãƒ¢ã‚»ã‚¹",i);case en.LAO:return Ea(e,3792,3801,!0,n);case en.MONGOLIAN:return Ea(e,6160,6169,!0,n);case en.MYANMAR:return Ea(e,4160,4169,!0,n);case en.ORIYA:return Ea(e,2918,2927,!0,n);case en.PERSIAN:return Ea(e,1776,1785,!0,n);case en.TAMIL:return Ea(e,3046,3055,!0,n);case en.TELUGU:return Ea(e,3174,3183,!0,n);case en.THAI:return Ea(e,3664,3673,!0,n);case en.TIBETAN:return Ea(e,3872,3881,!0,n);case en.DECIMAL:default:return Ea(e,48,57,!0,n)}},xa="data-html2canvas-ignore",La=(Na.prototype.toIFrame=function(e,o){var t=this,n=Ma(e,o);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,r=n.contentWindow,s=r.document,A=Oa(n).then(function(){return l(t,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return this.scrolledElements.forEach(ja),r&&(r.scrollTo(o.left,o.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||r.scrollY===o.top&&r.scrollX===o.left||(s.documentElement.style.top=-o.top+"px",s.documentElement.style.left=-o.left+"px",s.documentElement.style.position="absolute")),t=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:s.fonts&&s.fonts.ready?[4,s.fonts.ready]:[3,2];case 1:e.sent(),e.label=2;case 2:return"function"==typeof t?[2,Promise.resolve().then(function(){return t(s)}).then(function(){return n})]:[2,n]}})})});return s.open(),s.write(Ka(document.doctype)+"<html></html>"),Va(this.referenceElement.ownerDocument,i,a),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),A},Na.prototype.createElementClone=function(e){return ga(e)?this.createCanvasClone(e):ta(e)?this.createStyleClone(e):e.cloneNode(!1)},Na.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var o=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e},""),n=e.cloneNode(!1);return n.textContent=o,n}}catch(e){if(Pt.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},Na.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Pt.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var o=e.cloneNode(!1);try{o.width=e.width,o.height=e.height;var n=e.getContext("2d"),i=o.getContext("2d");return i&&(n?i.putImageData(n.getImageData(0,0,e.width,e.height),0,0):i.drawImage(e,0,0)),o}catch(e){}return o},Na.prototype.cloneNode=function(e){if(Aa(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(ca(e)&&t){var o=this.createElementClone(e),n=t.getComputedStyle(e),i=t.getComputedStyle(e,":before"),a=t.getComputedStyle(e,":after");this.referenceElement===e&&(this.clonedReferenceElement=o),pa(o)&&Xa(o);for(var r=this.counters.parse(new di(n)),s=this.resolvePseudoContent(e,o,i,Ta.BEFORE),A=e.firstChild;A;A=A.nextSibling)la(A)&&("SCRIPT"===A.tagName||A.hasAttribute(xa)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(A))||this.options.copyStyles&&la(A)&&ta(A)||o.appendChild(this.cloneNode(A));s&&o.insertBefore(s,o.firstChild);var l=this.resolvePseudoContent(e,o,a,Ta.AFTER);return l&&o.appendChild(l),this.counters.pop(r),n&&this.options.copyStyles&&!ya(e)&&Wa(n,o),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([o,e.scrollLeft,e.scrollTop]),(va(e)||wa(e))&&(va(o)||wa(o))&&(o.value=e.value),o}return e.cloneNode(!1)},Na.prototype.resolvePseudoContent=function(f,e,t,o){var p=this;if(t){var n=t.content,g=e.ownerDocument;if(g&&n&&"none"!==n&&"-moz-alt-content"!==n&&"none"!==t.display){this.counters.parse(new di(t));var m=new ci(t),y=g.createElement("html2canvaspseudoelement");return Wa(t,y),m.content.forEach(function(e){if(e.type===ae.STRING_TOKEN)y.appendChild(g.createTextNode(e.value));else if(e.type===ae.URL_TOKEN){var t=g.createElement("img");t.src=e.value,t.style.opacity="1",y.appendChild(t)}else if(e.type===ae.FUNCTION){if("attr"===e.name){var o=e.values.filter(We);o.length&&y.appendChild(g.createTextNode(f.getAttribute(o[0].value)||""))}else if("counter"===e.name){var n=e.values.filter(ze),i=n[0],a=n[1];if(i&&We(i)){var r=p.counters.getCounterValue(i.value),s=a&&We(a)?sn.parse(a.value):en.DECIMAL;y.appendChild(g.createTextNode(Da(r,s,!1)))}}else if("counters"===e.name){var A=e.values.filter(ze),l=(i=A[0],A[1]);if(a=A[2],i&&We(i)){var c=p.counters.getCounterValues(i.value),d=a&&We(a)?sn.parse(a.value):en.DECIMAL,u=l&&l.type===ae.STRING_TOKEN?l.value:"",h=c.map(function(e){return Da(e,d,!1)}).join(u);y.appendChild(g.createTextNode(h))}}}else if(e.type===ae.IDENT_TOKEN)switch(e.value){case"open-quote":y.appendChild(g.createTextNode(ei(m.quotes,p.quoteDepth++,!0)));break;case"close-quote":y.appendChild(g.createTextNode(ei(m.quotes,--p.quoteDepth,!1)));break;default:y.appendChild(g.createTextNode(e.value))}}),y.className=za+" "+Ja,e.className+=o===Ta.BEFORE?" "+za:" "+Ja,y}}},Na.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},Na);function Na(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new ba,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}(ka=Ta=Ta||{})[ka.BEFORE=0]="BEFORE",ka[ka.AFTER=1]="AFTER";var Ha,Ra,Ma=function(e,t){var o=e.createElement("iframe");return o.className="html2canvas-container",o.style.visibility="hidden",o.style.position="fixed",o.style.left="-10000px",o.style.top="0px",o.style.border="0",o.width=t.width.toString(),o.height=t.height.toString(),o.scrolling="no",o.setAttribute(xa,"true"),e.body.appendChild(o),o},Oa=function(i){return new Promise(function(t,e){var o=i.contentWindow;if(!o)return e("No window assigned for iframe");var n=o.document;o.onload=i.onload=n.onreadystatechange=function(){o.onload=i.onload=n.onreadystatechange=null;var e=setInterval(function(){0<n.body.childNodes.length&&"complete"===n.readyState&&(clearInterval(e),t(i))},50)}})},Wa=function(e,t){for(var o=e.length-1;0<=o;o--){var n=e.item(o);"content"!==n&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Ka=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Va=function(e,t,o){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||o!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,o)},ja=function(e){var t=e[0],o=e[1],n=e[2];t.scrollLeft=o,t.scrollTop=n},za="___html2canvas___pseudoelement_before",Ja="___html2canvas___pseudoelement_after",Ga='{\n    content: "" !important;\n    display: none !important;\n}',Xa=function(e){Ya(e,"."+za+":before"+Ga+"\n         ."+Ja+":after"+Ga)},Ya=function(e,t){var o=e.ownerDocument;if(o){var n=o.createElement("style");n.textContent=t,e.appendChild(n)}};(Ra=Ha=Ha||{})[Ra.VECTOR=0]="VECTOR",Ra[Ra.BEZIER_CURVE=1]="BEZIER_CURVE";function qa(e,o){return e.length===o.length&&e.some(function(e,t){return e===o[t]})}var Za=($a.prototype.add=function(e,t){return new $a(this.x+e,this.y+t)},$a);function $a(e,t){this.type=Ha.VECTOR,this.x=e,this.y=t}function er(e,t,o){return new Za(e.x+(t.x-e.x)*o,e.y+(t.y-e.y)*o)}var tr=(or.prototype.subdivide=function(e,t){var o=er(this.start,this.startControl,e),n=er(this.startControl,this.endControl,e),i=er(this.endControl,this.end,e),a=er(o,n,e),r=er(n,i,e),s=er(a,r,e);return t?new or(this.start,o,a,s):new or(s,r,i,this.end)},or.prototype.add=function(e,t){return new or(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},or.prototype.reverse=function(){return new or(this.end,this.endControl,this.startControl,this.start)},or);function or(e,t,o,n){this.type=Ha.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=o,this.end=n}function nr(e){return e.type===Ha.BEZIER_CURVE}var ir,ar,rr=function(e){var t=e.styles,o=e.bounds,n=qe(t.borderTopLeftRadius,o.width,o.height),i=n[0],a=n[1],r=qe(t.borderTopRightRadius,o.width,o.height),s=r[0],A=r[1],l=qe(t.borderBottomRightRadius,o.width,o.height),c=l[0],d=l[1],u=qe(t.borderBottomLeftRadius,o.width,o.height),h=u[0],f=u[1],p=[];p.push((i+s)/o.width),p.push((h+c)/o.width),p.push((a+f)/o.height),p.push((A+d)/o.height);var g=Math.max.apply(Math,p);1<g&&(i/=g,a/=g,s/=g,A/=g,c/=g,d/=g,h/=g,f/=g);var m=o.width-s,y=o.height-d,v=o.width-c,w=o.height-f,b=t.borderTopWidth,B=t.borderRightWidth,_=t.borderBottomWidth,C=t.borderLeftWidth,E=At(t.paddingTop,e.bounds.width),S=At(t.paddingRight,e.bounds.width),I=At(t.paddingBottom,e.bounds.width),T=At(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=0<i||0<a?lr(o.left,o.top,i,a,ir.TOP_LEFT):new Za(o.left,o.top),this.topRightBorderBox=0<s||0<A?lr(o.left+m,o.top,s,A,ir.TOP_RIGHT):new Za(o.left+o.width,o.top),this.bottomRightBorderBox=0<c||0<d?lr(o.left+v,o.top+y,c,d,ir.BOTTOM_RIGHT):new Za(o.left+o.width,o.top+o.height),this.bottomLeftBorderBox=0<h||0<f?lr(o.left,o.top+w,h,f,ir.BOTTOM_LEFT):new Za(o.left,o.top+o.height),this.topLeftPaddingBox=0<i||0<a?lr(o.left+C,o.top+b,Math.max(0,i-C),Math.max(0,a-b),ir.TOP_LEFT):new Za(o.left+C,o.top+b),this.topRightPaddingBox=0<s||0<A?lr(o.left+Math.min(m,o.width+C),o.top+b,m>o.width+C?0:s-C,A-b,ir.TOP_RIGHT):new Za(o.left+o.width-B,o.top+b),this.bottomRightPaddingBox=0<c||0<d?lr(o.left+Math.min(v,o.width-C),o.top+Math.min(y,o.height+b),Math.max(0,c-B),d-_,ir.BOTTOM_RIGHT):new Za(o.left+o.width-B,o.top+o.height-_),this.bottomLeftPaddingBox=0<h||0<f?lr(o.left+C,o.top+w,Math.max(0,h-C),f-_,ir.BOTTOM_LEFT):new Za(o.left+C,o.top+o.height-_),this.topLeftContentBox=0<i||0<a?lr(o.left+C+T,o.top+b+E,Math.max(0,i-(C+T)),Math.max(0,a-(b+E)),ir.TOP_LEFT):new Za(o.left+C+T,o.top+b+E),this.topRightContentBox=0<s||0<A?lr(o.left+Math.min(m,o.width+C+T),o.top+b+E,m>o.width+C+T?0:s-C+T,A-(b+E),ir.TOP_RIGHT):new Za(o.left+o.width-(B+S),o.top+b+E),this.bottomRightContentBox=0<c||0<d?lr(o.left+Math.min(v,o.width-(C+T)),o.top+Math.min(y,o.height+b+E),Math.max(0,c-(B+S)),d-(_+I),ir.BOTTOM_RIGHT):new Za(o.left+o.width-(B+S),o.top+o.height-(_+I)),this.bottomLeftContentBox=0<h||0<f?lr(o.left+C+T,o.top+w,Math.max(0,h-(C+T)),f-(_+I),ir.BOTTOM_LEFT):new Za(o.left+C+T,o.top+o.height-(_+I))};(ar=ir=ir||{})[ar.TOP_LEFT=0]="TOP_LEFT",ar[ar.TOP_RIGHT=1]="TOP_RIGHT",ar[ar.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",ar[ar.BOTTOM_LEFT=3]="BOTTOM_LEFT";function sr(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]}function Ar(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]}var lr=function(e,t,o,n,i){var a=(Math.sqrt(2)-1)/3*4,r=o*a,s=n*a,A=e+o,l=t+n;switch(i){case ir.TOP_LEFT:return new tr(new Za(e,l),new Za(e,l-s),new Za(A-r,t),new Za(A,t));case ir.TOP_RIGHT:return new tr(new Za(e,t),new Za(e+r,t),new Za(A,l-s),new Za(A,l));case ir.BOTTOM_RIGHT:return new tr(new Za(A,t),new Za(A,t+s),new Za(e+r,l),new Za(e,l));case ir.BOTTOM_LEFT:default:return new tr(new Za(A,l),new Za(A-r,l),new Za(e,t+s),new Za(e,t))}},cr=function(e,t,o){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=o,this.target=6},dr=function(e,t){this.type=1,this.target=t,this.path=e},ur=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},hr=(fr.prototype.getParentEffects=function(){var e=this.effects.slice(0);if(this.container.styles.overflowX!==an.VISIBLE){var t=sr(this.curves),o=Ar(this.curves);qa(t,o)||e.push(new dr(o,6))}return e},fr);function fr(e,t){if(this.container=e,this.effects=t.slice(0),this.curves=new rr(e),null!==e.styles.transform){var o=e.bounds.left+e.styles.transformOrigin[0].number,n=e.bounds.top+e.styles.transformOrigin[1].number,i=e.styles.transform;this.effects.push(new cr(o,n,i))}if(e.styles.overflowX!==an.VISIBLE){var a=sr(this.curves),r=Ar(this.curves);qa(a,r)?this.effects.push(new dr(a,6)):(this.effects.push(new dr(a,2)),this.effects.push(new dr(r,4)))}}function pr(e){var t=e.bounds,o=e.styles;return t.add(o.borderLeftWidth,o.borderTopWidth,-(o.borderRightWidth+o.borderLeftWidth),-(o.borderTopWidth+o.borderBottomWidth))}function gr(e){var t=e.styles,o=e.bounds,n=At(t.paddingLeft,o.width),i=At(t.paddingRight,o.width),a=At(t.paddingTop,o.width),r=At(t.paddingBottom,o.width);return o.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+r))}function mr(e,t,o){var n=function(e,t){return 0===e?t.bounds:2===e?gr(t):pr(t)}(Cr(e.styles.backgroundOrigin,t),e),i=function(e,t){return e===mt.BORDER_BOX?t.bounds:e===mt.CONTENT_BOX?gr(t):pr(t)}(Cr(e.styles.backgroundClip,t),e),a=_r(Cr(e.styles.backgroundSize,t),o,n),r=a[0],s=a[1],A=qe(Cr(e.styles.backgroundPosition,t),n.width-r,n.height-s);return[Er(Cr(e.styles.backgroundRepeat,t),A,a,n,i),Math.round(n.left+A[0]),Math.round(n.top+A[1]),r,s]}function yr(e){return We(e)&&e.value===uo.AUTO}function vr(e){return"number"==typeof e}var wr=function(c,d,u,h){c.container.elements.forEach(function(e){var t=$n(e.flags,4),o=$n(e.flags,2),n=new hr(e,c.getParentEffects());$n(e.styles.display,2048)&&h.push(n);var i=$n(e.flags,8)?[]:h;if(t||o){var a=t||e.styles.isPositioned()?u:d,r=new ur(n);if(e.styles.isPositioned()||e.styles.opacity<1||e.styles.isTransformed()){var s=e.styles.zIndex.order;if(s<0){var A=0;a.negativeZIndex.some(function(e,t){return s>e.element.container.styles.zIndex.order?(A=t,!1):0<A}),a.negativeZIndex.splice(A,0,r)}else if(0<s){var l=0;a.positiveZIndex.some(function(e,t){return s>e.element.container.styles.zIndex.order?(l=t+1,!1):0<l}),a.positiveZIndex.splice(l,0,r)}else a.zeroOrAutoZIndexOrTransformedOrOpacity.push(r)}else e.styles.isFloating()?a.nonPositionedFloats.push(r):a.nonPositionedInlineLevel.push(r);wr(n,r,t?r:u,i)}else e.styles.isInlineLevel()?d.inlineLevel.push(n):d.nonInlineLevel.push(n),wr(n,d,u,i);$n(e.flags,8)&&br(e,i)})},br=function(e,t){for(var o=e instanceof xi?e.start:1,n=e instanceof xi&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof Fi&&"number"==typeof a.container.value&&0!==a.container.value&&(o=a.container.value),a.listValue=Da(o,a.container.styles.listStyleType,!0),o+=n?-1:1}},Br=function(e,t,o,n){var i=[];return nr(e)?i.push(e.subdivide(.5,!1)):i.push(e),nr(o)?i.push(o.subdivide(.5,!0)):i.push(o),nr(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),nr(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},_r=function(e,t,o){var n=t[0],i=t[1],a=t[2],r=e[0],s=e[1];if(Xe(r)&&s&&Xe(s))return[At(r,o.width),At(s,o.height)];var A=vr(a);if(We(r)&&(r.value===uo.CONTAIN||r.value===uo.COVER))return vr(a)?o.width/o.height<a!=(r.value===uo.COVER)?[o.width,o.width/a]:[o.height*a,o.height]:[o.width,o.height];var l=vr(n),c=vr(i),d=l||c;if(yr(r)&&(!s||yr(s)))return l&&c?[n,i]:A||d?d&&A?[l?n:i*a,c?i:n/a]:[l?n:o.width,c?i:o.height]:[o.width,o.height];if(A){var u=0,h=0;return Xe(r)?u=At(r,o.width):Xe(s)&&(h=At(s,o.height)),yr(r)?u=h*a:s&&!yr(s)||(h=u/a),[u,h]}var f=null,p=null;if(Xe(r)?f=At(r,o.width):s&&Xe(s)&&(p=At(s,o.height)),null===f||s&&!yr(s)||(p=l&&c?f/n*i:o.height),null!==p&&yr(r)&&(f=l&&c?p/i*n:o.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},Cr=function(e,t){var o=e[t];return void 0===o?e[0]:o},Er=function(e,t,o,n,i){var a=t[0],r=t[1],s=o[0],A=o[1];switch(e){case ao.REPEAT_X:return[new Za(Math.round(n.left),Math.round(n.top+r)),new Za(Math.round(n.left+n.width),Math.round(n.top+r)),new Za(Math.round(n.left+n.width),Math.round(A+n.top+r)),new Za(Math.round(n.left),Math.round(A+n.top+r))];case ao.REPEAT_Y:return[new Za(Math.round(n.left+a),Math.round(n.top)),new Za(Math.round(n.left+a+s),Math.round(n.top)),new Za(Math.round(n.left+a+s),Math.round(n.height+n.top)),new Za(Math.round(n.left+a),Math.round(n.height+n.top))];case ao.NO_REPEAT:return[new Za(Math.round(n.left+a),Math.round(n.top+r)),new Za(Math.round(n.left+a+s),Math.round(n.top+r)),new Za(Math.round(n.left+a+s),Math.round(n.top+r+A)),new Za(Math.round(n.left+a),Math.round(n.top+r+A))];default:return[new Za(Math.round(i.left),Math.round(i.top)),new Za(Math.round(i.left+i.width),Math.round(i.top)),new Za(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Za(Math.round(i.left),Math.round(i.height+i.top))]}},Sr="Hidden Text",Ir=(Tr.prototype.parseMetrics=function(e,t){var o=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",a.appendChild(o),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Sr)),o.appendChild(i),o.appendChild(n);var r=n.offsetTop-i.offsetTop+2;o.removeChild(i),o.appendChild(this._document.createTextNode(Sr)),o.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-o.offsetTop+2;return a.removeChild(o),{baseline:r,middle:s}},Tr.prototype.getMetrics=function(e,t){var o=e+" "+t;return void 0===this._data[o]&&(this._data[o]=this.parseMetrics(e,t)),this._data[o]},Tr);function Tr(e){this._data={},this._document=e}var kr=(Qr.prototype.applyEffects=function(e,t){for(var o=this;this._activeEffects.length;)this.popEffect();e.filter(function(e){return $n(e.target,t)}).forEach(function(e){return o.applyEffect(e)})},Qr.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),function(e){return 1===e.type}(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},Qr.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Qr.prototype.renderStack=function(o){return l(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return(t=o.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(o)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},Qr.prototype.renderNode=function(t){return l(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},Qr.prototype.renderTextWithLetterSpacing=function(o,e){var n=this;0===e?this.ctx.fillText(o.text,o.bounds.left,o.bounds.top+o.bounds.height):c(o.text).map(function(e){return p(e)}).reduce(function(e,t){return n.ctx.fillText(t,e,o.bounds.top+o.bounds.height),e+n.ctx.measureText(t).width},o.bounds.left)},Qr.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),o=e.fontFamily.join(", "),n=Me(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,o].join(" "),o,n]},Qr.prototype.renderTextNode=function(n,s){return l(this,void 0,void 0,function(){var t,o,i,a,r=this;return L(this,function(e){return t=this.createFontStyle(s),o=t[0],i=t[1],a=t[2],this.ctx.font=o,n.textBounds.forEach(function(n){r.ctx.fillStyle=tt(s.color),r.renderTextWithLetterSpacing(n,s.letterSpacing);var e=s.textShadow;e.length&&n.text.trim().length&&(e.slice(0).reverse().forEach(function(e){r.ctx.shadowColor=tt(e.color),r.ctx.shadowOffsetX=e.offsetX.number*r.options.scale,r.ctx.shadowOffsetY=e.offsetY.number*r.options.scale,r.ctx.shadowBlur=e.blur.number,r.ctx.fillText(n.text,n.bounds.left,n.bounds.top+n.bounds.height)}),r.ctx.shadowColor="",r.ctx.shadowOffsetX=0,r.ctx.shadowOffsetY=0,r.ctx.shadowBlur=0),s.textDecorationLine.length&&(r.ctx.fillStyle=tt(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(e){switch(e){case 1:var t=r.fontMetrics.getMetrics(i,a).baseline;r.ctx.fillRect(n.bounds.left,Math.round(n.bounds.top+t),n.bounds.width,1);break;case 2:r.ctx.fillRect(n.bounds.left,Math.round(n.bounds.top),n.bounds.width,1);break;case 3:var o=r.fontMetrics.getMetrics(i,a).middle;r.ctx.fillRect(n.bounds.left,Math.ceil(n.bounds.top+o),n.bounds.width,1)}}))}),[2]})})},Qr.prototype.renderReplacedElement=function(e,t,o){if(o&&0<e.intrinsicWidth&&0<e.intrinsicHeight){var n=gr(e),i=Ar(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},Qr.prototype.renderNodeContent=function(p){return l(this,void 0,void 0,function(){var t,o,n,i,a,r,s,A,l,c,d,u,h,f;return L(this,function(e){switch(e.label){case 0:this.applyEffects(p.effects,4),t=p.container,o=p.curves,n=t.styles,i=0,a=t.textNodes,e.label=1;case 1:return i<a.length?(r=a[i],[4,this.renderTextNode(r,n)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:if(!(t instanceof _i))return[3,8];e.label=5;case 5:return e.trys.push([5,7,,8]),[4,this.options.cache.match(t.src)];case 6:return u=e.sent(),this.renderReplacedElement(t,o,u),[3,8];case 7:return e.sent(),Pt.getInstance(this.options.id).error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Si&&this.renderReplacedElement(t,o,t.canvas),!(t instanceof ki))return[3,12];e.label=9;case 9:return e.trys.push([9,11,,12]),[4,this.options.cache.match(t.svg)];case 10:return u=e.sent(),this.renderReplacedElement(t,o,u),[3,12];case 11:return e.sent(),Pt.getInstance(this.options.id).error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof $i&&t.tree?[4,new Qr({id:this.options.id,scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:t.width,height:t.height,cache:this.options.cache,windowWidth:t.width,windowHeight:t.height}).render(t.tree)]:[3,14];case 13:s=e.sent(),t.width&&t.height&&this.ctx.drawImage(s,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),e.label=14;case 14:if(t instanceof Ki&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===Mi?t.checked&&(this.ctx.save(),this.path([new Za(t.bounds.left+.39363*A,t.bounds.top+.79*A),new Za(t.bounds.left+.16*A,t.bounds.top+.5549*A),new Za(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new Za(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new Za(t.bounds.left+.72983*A,t.bounds.top+.23*A),new Za(t.bounds.left+.84*A,t.bounds.top+.34085*A),new Za(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=tt(707406591),this.ctx.fill(),this.ctx.restore()):t.type===Oi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=tt(707406591),this.ctx.fill(),this.ctx.restore())),Ur(t)&&t.value.length){switch(this.ctx.font=this.createFontStyle(n)[0],this.ctx.fillStyle=tt(n.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Pr(t.styles.textAlign),f=gr(t),l=0,t.styles.textAlign){case pn.CENTER:l+=f.width/2;break;case pn.RIGHT:l+=f.width}c=f.add(l,0,0,-f.height/2+1),this.ctx.save(),this.path([new Za(f.left,f.top),new Za(f.left+f.width,f.top),new Za(f.left+f.width,f.top+f.height),new Za(f.left,f.top+f.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fi(t.value,c),n.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!$n(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if((d=t.styles.listStyleImage).type!==Mt.URL)return[3,18];u=void 0,h=d.url,e.label=15;case 15:return e.trys.push([15,17,,18]),[4,this.options.cache.match(h)];case 16:return u=e.sent(),this.ctx.drawImage(u,t.bounds.left-(u.width+10),t.bounds.top),[3,18];case 17:return e.sent(),Pt.getInstance(this.options.id).error("Error loading list-style-image "+h),[3,18];case 18:return[3,20];case 19:p.listValue&&t.styles.listStyleType!==en.NONE&&(this.ctx.font=this.createFontStyle(n)[0],this.ctx.fillStyle=tt(n.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",f=new I(t.bounds.left,t.bounds.top+At(t.styles.paddingTop,t.bounds.width),t.bounds.width,function(e,t){return We(e)&&"normal"===e.value?1.2*t:e.type===ae.NUMBER_TOKEN?t*e.number:Xe(e)?At(e,t):t}(n.lineHeight,n.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fi(p.listValue,f),n.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),e.label=20;case 20:return[2]}})})},Qr.prototype.renderStackContent=function(g){return l(this,void 0,void 0,function(){var t,o,n,i,a,r,s,A,l,c,d,u,h,f,p;return L(this,function(e){switch(e.label){case 0:return[4,this.renderNodeBackgroundAndBorders(g.element)];case 1:e.sent(),t=0,o=g.negativeZIndex,e.label=2;case 2:return t<o.length?(p=o[t],[4,this.renderStack(p)]):[3,5];case 3:e.sent(),e.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(g.element)];case 6:e.sent(),n=0,i=g.nonInlineLevel,e.label=7;case 7:return n<i.length?(p=i[n],[4,this.renderNode(p)]):[3,10];case 8:e.sent(),e.label=9;case 9:return n++,[3,7];case 10:a=0,r=g.nonPositionedFloats,e.label=11;case 11:return a<r.length?(p=r[a],[4,this.renderStack(p)]):[3,14];case 12:e.sent(),e.label=13;case 13:return a++,[3,11];case 14:s=0,A=g.nonPositionedInlineLevel,e.label=15;case 15:return s<A.length?(p=A[s],[4,this.renderStack(p)]):[3,18];case 16:e.sent(),e.label=17;case 17:return s++,[3,15];case 18:l=0,c=g.inlineLevel,e.label=19;case 19:return l<c.length?(p=c[l],[4,this.renderNode(p)]):[3,22];case 20:e.sent(),e.label=21;case 21:return l++,[3,19];case 22:d=0,u=g.zeroOrAutoZIndexOrTransformedOrOpacity,e.label=23;case 23:return d<u.length?(p=u[d],[4,this.renderStack(p)]):[3,26];case 24:e.sent(),e.label=25;case 25:return d++,[3,23];case 26:h=0,f=g.positiveZIndex,e.label=27;case 27:return h<f.length?(p=f[h],[4,this.renderStack(p)]):[3,30];case 28:e.sent(),e.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},Qr.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},Qr.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},Qr.prototype.formatPath=function(e){var n=this;e.forEach(function(e,t){var o=nr(e)?e.start:e;0===t?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),nr(e)&&n.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},Qr.prototype.renderRepeat=function(e,t,o,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(o,n),this.ctx.fill(),this.ctx.translate(-o,-n)},Qr.prototype.resizeImage=function(e,t,o){if(e.width===t&&e.height===o)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t,n.height=o,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,o),n},Qr.prototype.renderBackgroundImage=function(x){return l(this,void 0,void 0,function(){var P,t,D,o,n,i;return L(this,function(e){switch(e.label){case 0:P=x.styles.backgroundImage.length-1,t=function(t){var o,n,i,a,r,s,A,l,c,d,u,h,f,p,g,m,y,v,w,b,B,_,C,E,S,I,T,k,Q,U,F;return L(this,function(e){switch(e.label){case 0:if(t.type!==Mt.URL)return[3,5];o=void 0,n=t.url,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,D.options.cache.match(n)];case 2:return o=e.sent(),[3,4];case 3:return e.sent(),Pt.getInstance(D.options.id).error("Error loading background-image "+n),[3,4];case 4:return o&&(i=mr(x,P,[o.width,o.height,o.width/o.height]),m=i[0],_=i[1],C=i[2],w=i[3],b=i[4],p=D.ctx.createPattern(D.resizeImage(o,w,b),"repeat"),D.renderRepeat(m,p,_,C)),[3,6];case 5:!function(e){return e.type===Mt.LINEAR_GRADIENT}(t)?function(e){return e.type===Mt.RADIAL_GRADIENT}(t)&&(g=mr(x,P,[null,null,null]),m=g[0],y=g[1],v=g[2],w=g[3],b=g[4],B=0===t.position.length?[rt]:t.position,_=At(B[0],w),C=At(B[B.length-1],b),E=function(e,t,o,n,i){var a=0,r=0;switch(e.size){case oo.CLOSEST_SIDE:e.shape===eo.CIRCLE?a=r=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(o),Math.abs(o-i)):e.shape===eo.ELLIPSE&&(a=Math.min(Math.abs(t),Math.abs(t-n)),r=Math.min(Math.abs(o),Math.abs(o-i)));break;case oo.CLOSEST_CORNER:if(e.shape===eo.CIRCLE)a=r=Math.min(Ct(t,o),Ct(t,o-i),Ct(t-n,o),Ct(t-n,o-i));else if(e.shape===eo.ELLIPSE){var s=Math.min(Math.abs(o),Math.abs(o-i))/Math.min(Math.abs(t),Math.abs(t-n)),A=Et(n,i,t,o,!0),l=A[0],c=A[1];r=s*(a=Ct(l-t,(c-o)/s))}break;case oo.FARTHEST_SIDE:e.shape===eo.CIRCLE?a=r=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(o),Math.abs(o-i)):e.shape===eo.ELLIPSE&&(a=Math.max(Math.abs(t),Math.abs(t-n)),r=Math.max(Math.abs(o),Math.abs(o-i)));break;case oo.FARTHEST_CORNER:if(e.shape===eo.CIRCLE)a=r=Math.max(Ct(t,o),Ct(t,o-i),Ct(t-n,o),Ct(t-n,o-i));else if(e.shape===eo.ELLIPSE){s=Math.max(Math.abs(o),Math.abs(o-i))/Math.max(Math.abs(t),Math.abs(t-n));var d=Et(n,i,t,o,!1);l=d[0],c=d[1],r=s*(a=Ct(l-t,(c-o)/s))}}return Array.isArray(e.size)&&(a=At(e.size[0],n),r=2===e.size.length?At(e.size[1],i):a),[a,r]}(t,_,C,w,b),S=E[0],I=E[1],0<S&&0<S&&(T=D.ctx.createRadialGradient(y+_,v+C,0,y+_,v+C,S),Bt(t.stops,2*S).forEach(function(e){return T.addColorStop(e.stop,tt(e.color))}),D.path(m),D.ctx.fillStyle=T,S!==I?(k=x.bounds.left+.5*x.bounds.width,Q=x.bounds.top+.5*x.bounds.height,F=1/(U=I/S),D.ctx.save(),D.ctx.translate(k,Q),D.ctx.transform(1,0,0,U,0,0),D.ctx.translate(-k,-Q),D.ctx.fillRect(y,F*(v-Q)+Q,w,b*F),D.ctx.restore()):D.ctx.fill())):(a=mr(x,P,[null,null,null]),m=a[0],_=a[1],C=a[2],w=a[3],b=a[4],r=_t(t.angle,w,b),s=r[0],A=r[1],l=r[2],c=r[3],d=r[4],(u=document.createElement("canvas")).width=w,u.height=b,h=u.getContext("2d"),f=h.createLinearGradient(A,c,l,d),Bt(t.stops,s).forEach(function(e){return f.addColorStop(e.stop,tt(e.color))}),h.fillStyle=f,h.fillRect(0,0,w,b),0<w&&0<b&&(p=D.ctx.createPattern(u,"repeat"),D.renderRepeat(m,p,_,C))),e.label=6;case 6:return P--,[2]}})},D=this,o=0,n=x.styles.backgroundImage.slice(0).reverse(),e.label=1;case 1:return o<n.length?(i=n[o],[5,t(i)]):[3,4];case 2:e.sent(),e.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},Qr.prototype.renderBorder=function(t,o,n){return l(this,void 0,void 0,function(){return L(this,function(e){return this.path(function(e,t){switch(t){case 0:return Br(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Br(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Br(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Br(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(n,o)),this.ctx.fillStyle=tt(t),this.ctx.fill(),[2]})})},Qr.prototype.renderNodeBackgroundAndBorders=function(c){return l(this,void 0,void 0,function(){var t,o,n,i,a,r,s,A,l=this;return L(this,function(e){switch(e.label){case 0:return this.applyEffects(c.effects,2),t=c.container.styles,o=!et(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],i=Fr(Cr(t.backgroundClip,0),c.curves),o||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),et(t.backgroundColor)||(this.ctx.fillStyle=tt(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(c.container)]):[3,2];case 1:e.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(e){l.ctx.save();var t=sr(c.curves),o=e.inset?0:1e4,n=function(e,o,n,i,a){return e.map(function(e,t){switch(t){case 0:return e.add(o,n);case 1:return e.add(o+i,n);case 2:return e.add(o+i,n+a);case 3:return e.add(o,n+a)}return e})}(t,-o+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(l.path(t),l.ctx.clip(),l.mask(n)):(l.mask(t),l.ctx.clip(),l.path(n)),l.ctx.shadowOffsetX=e.offsetX.number+o,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=tt(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?tt(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),e.label=2;case 2:r=a=0,s=n,e.label=3;case 3:return r<s.length?(A=s[r]).style===yo.NONE||et(A.color)?[3,5]:[4,this.renderBorder(A.color,a,c.curves)]:[3,7];case 4:e.sent(),e.label=5;case 5:a++,e.label=6;case 6:return r++,[3,3];case 7:return[2]}})})},Qr.prototype.render=function(o){return l(this,void 0,void 0,function(){var t;return L(this,function(e){switch(e.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=tt(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),t=function(e){var t=new hr(e,[]),o=new ur(t),n=[];return wr(t,o,o,n),br(t.container,n),o}(o),[4,this.renderStack(t)];case 1:return e.sent(),this.applyEffects([],2),[2,this.canvas]}})})},Qr);function Qr(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),(this.options=e).canvas||(this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"),this.fontMetrics=new Ir(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Pt.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}var Ur=function(e){return e instanceof Xi||(e instanceof zi||e instanceof Ki&&e.type!==Oi&&e.type!==Mi)},Fr=function(e,t){switch(e){case mt.BORDER_BOX:return sr(t);case mt.CONTENT_BOX:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);case mt.PADDING_BOX:default:return Ar(t)}},Pr=function(e){switch(e){case pn.CENTER:return"center";case pn.RIGHT:return"right";case pn.LEFT:default:return"left"}},Dr=(xr.prototype.render=function(n){return l(this,void 0,void 0,function(){var t,o;return L(this,function(e){switch(e.label){case 0:return t=Qt(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,n),[4,Nr(t)];case 1:return o=e.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=tt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},xr);function xr(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Pt.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}function Lr(e){return dt(He.create(e).parseComponentValue())}var Nr=function(n){return new Promise(function(e,t){var o=new Image;o.onload=function(){e(o)},o.onerror=t,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})};xt.setContext(window);var Hr=function(C,E){return l(void 0,void 0,void 0,function(){var t,o,n,i,a,r,s,A,l,c,d,u,h,f,p,g,m,y,v,w,b,B,_;return L(this,function(e){switch(e.label){case 0:if(!(t=C.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=t.defaultView))throw new Error("Document is not attached to a Window");return n=(Math.round(1e3*Math.random())+Date.now()).toString(16),i=pa(C)||function(e){return"HTML"===e.tagName}(C)?function(e){var t=e.body,o=e.documentElement;if(!t||!o)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,o.scrollWidth),Math.max(t.offsetWidth,o.offsetWidth),Math.max(t.clientWidth,o.clientWidth)),i=Math.max(Math.max(t.scrollHeight,o.scrollHeight),Math.max(t.offsetHeight,o.offsetHeight),Math.max(t.clientHeight,o.clientHeight));return new I(0,0,n,i)}(t):T(C),a=i.width,r=i.height,s=i.left,A=i.top,l=S({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},E),c={backgroundColor:"#ffffff",cache:E.cache?E.cache:xt.create(n,l),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:o.devicePixelRatio||1,windowWidth:o.innerWidth,windowHeight:o.innerHeight,scrollX:o.pageXOffset,scrollY:o.pageYOffset,x:s,y:A,width:Math.ceil(a),height:Math.ceil(r),id:n},d=S({},c,l,E),u=new I(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),Pt.create({id:n,enabled:d.logging}),Pt.getInstance(n).debug("Starting document clone"),h=new La(C,{id:n,onclone:d.onclone,ignoreElements:d.ignoreElements,inlineImages:d.foreignObjectRendering,copyStyles:d.foreignObjectRendering}),(f=h.clonedReferenceElement)?[4,h.toIFrame(t,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=e.sent(),g=t.documentElement?Lr(getComputedStyle(t.documentElement).backgroundColor):wt.TRANSPARENT,m=t.body?Lr(getComputedStyle(t.body).backgroundColor):wt.TRANSPARENT,y=E.backgroundColor,v="string"==typeof y?Lr(y):null===y?wt.TRANSPARENT:4294967295,w=C===t.documentElement?et(g)?et(m)?v:m:g:v,b={id:n,cache:d.cache,canvas:d.canvas,backgroundColor:w,scale:d.scale,x:d.x,y:d.y,scrollX:d.scrollX,scrollY:d.scrollY,width:d.width,height:d.height,windowWidth:d.windowWidth,windowHeight:d.windowHeight},d.foreignObjectRendering?(Pt.getInstance(n).debug("Document cloned, using foreign object rendering"),[4,new Dr(b).render(f)]):[3,3];case 2:return B=e.sent(),[3,5];case 3:return Pt.getInstance(n).debug("Document cloned, using computed rendering"),xt.attachInstance(d.cache),Pt.getInstance(n).debug("Starting DOM parsing"),_=aa(f),xt.detachInstance(),w===_.styles.backgroundColor&&(_.styles.backgroundColor=wt.TRANSPARENT),Pt.getInstance(n).debug("Starting renderer"),[4,new kr(b).render(_)];case 4:B=e.sent(),e.label=5;case 5:return!0===d.removeContainer&&(La.destroy(p)||Pt.getInstance(n).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Pt.getInstance(n).debug("Finished rendering"),Pt.destroy(n),xt.destroy(n),[2,B]}})})};return function(e,t){return void 0===t&&(t={}),Hr(e,t)}},"object"==typeof o&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):(n=n||self).html2canvas=i()},{}],333:[function(e,t,o){var n,i;n=this,i=function(){if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var p,e,t,g,o,m,n,y,v,w,i=window.navigator.userAgent,a=void 0!==navigator.mimeTypes["application/pdf"],b=void 0!==window.Promise,r=-1!==i.indexOf("irefox")&&18<parseInt(i.split("rv:")[1].split(".")[0],10),B=/iphone|ipad|ipod/i.test(i.toLowerCase());return t=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},e=function(){return!(!t("AcroPDF.PDF")&&!t("PDF.PdfCtrl"))},p=!B&&(r||a||function(){return!!(window.ActiveXObject||"ActiveXObject"in window)}()&&e()),g=function(e){var t,o="";if(e){for(t in e)e.hasOwnProperty(t)&&(o+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");o=o&&(o="#"+o).slice(0,o.length-1)}return o},o=function(e){"undefined"!=typeof console&&console.log&&console.log("[PDFObject] "+e)},m=function(e){return o(e),!1},y=function(e){var t=document.body;return"string"==typeof e?t=document.querySelector(e):"undefined"!=typeof jQuery&&e instanceof jQuery&&e.length?t=e.get(0):void 0!==e.nodeType&&1===e.nodeType&&(t=e),t},v=function(e,t,o,n,i){var a=n+"?file="+encodeURIComponent(t)+o,r="<div style='"+(B?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ")+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+i+" src='"+a+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";return e.className+=" pdfobject-container",e.style.position="relative",e.style.overflow="auto",e.innerHTML=r,e.getElementsByTagName("iframe")[0]},w=function(e,t,o,n,i,a,r){var s="";return s=t&&t!==document.body?"width: "+i+"; height: "+a+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",e.className+=" pdfobject-container",e.innerHTML="<embed "+r+" class='pdfobject' src='"+o+n+"' type='application/pdf' style='overflow: auto; "+s+"'/>",e.getElementsByTagName("embed")[0]},n=function(e,t,o){if("string"!=typeof e)return m("URL is not valid");t=void 0!==t&&t;var n,i=(o=void 0!==o?o:{}).id&&"string"==typeof o.id?"id='"+o.id+"'":"",a=!!o.page&&o.page,r=o.pdfOpenParams?o.pdfOpenParams:{},s=void 0===o.fallbackLink||o.fallbackLink,A=o.width?o.width:"100%",l=o.height?o.height:"100%",c="boolean"!=typeof o.assumptionMode||o.assumptionMode,d="boolean"==typeof o.forcePDFJS&&o.forcePDFJS,u=!!o.PDFJS_URL&&o.PDFJS_URL,h=y(t),f="";return h?(a&&(r.page=a),n=g(r),d&&u?v(h,e,n,u,i):p||c&&b&&!B?w(h,t,e,n,A,l,i):u?v(h,e,n,u,i):(s&&(f="string"==typeof s?s:"<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>",h.innerHTML=f.replace(/\[url\]/g,e)),m("This browser does not support embedded PDFs"))):m("Target element cannot be determined")},{embed:function(e,t,o){return n(e,t,o)},pdfobjectversion:"2.1.1",supportsPDFs:p}},"function"==typeof define&&define.amd?define([],i):"object"==typeof t&&t.exports?t.exports=i():n.PDFObject=i()},{}],334:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TKWhiteBoardManager=void 0;var x=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var H=r(e("./utils/Global")),a=r(e("./utils/Constant")),R=r(e("./utils/Utils")),M=r(e("./utils/Configuration")),I=r(e("./intermediateLayer/WhiteboardIntermediateLayer")),f=r(e("./view/containers/WhiteboardView"));r(e("./view/containers/AudioPlayer")),r(e("./view/containers/VideoPlayer")),r(e("./view/containers/DocumentToolbar")),r(e("./view/containers/WhiteboardToolbar")),r(e("./view/containers/DocumentRemark"));function r(e){return e&&e.__esModule?e:{default:e}}function O(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var u=(n(s,[{key:"getVersion",value:function(){return a.default.WHITEBOARD_SDK_VERSION}},{key:"createMainWhiteboard",value:function(e,t,o){var n=0<arguments.length&&void 0!==e?e:document.body,i=this,a=1<arguments.length&&void 0!==t?t:{},r=o;if("string"==typeof n){var s=n;if(!(n=document.getElementById(s)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createMainWhiteboard method cannot be performed , element id is "+s+".")}var A="default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createMainWhiteboard  parentNode and configration and receiveActionCommand:",n,a,r),this._createWhiteboard(n,A,a,function(){var e,t;if(i.documentToolbarViewList[A]&&i.documentToolbarViewList[A].receiveActionCommand&&(e=i.documentToolbarViewList[A]).receiveActionCommand.apply(e,arguments),i.documentRemarkViewList[A]&&i.documentRemarkViewList[A].receiveActionCommand&&(t=i.documentRemarkViewList[A]).receiveActionCommand.apply(t,arguments),"function"==typeof r)if(i.isInner)r.apply(void 0,arguments);else{var o=arguments.length<=0?void 0:arguments[0];"viewStateUpdate"!==o&&"mediaPlayerNotice"!==o||r.apply(void 0,arguments)}});var l=this.whiteboardViewMap.get(A);if(l&&l.getConfigration().isLoadDocumentToolBar){var c=l.getConfigration().documentToolBarConfig.parentNode||l.getWhiteboardRootElement();this.createDocumentToolBar(c,l.getConfigration().documentToolBarConfig,A)}if(l&&l.getConfigration().isLoadDocumentRemark){var d=l.getConfigration().documentRemarkConfig.parentNode||l.getWhiteboardRootElement();this.createDocumentRemark(d,l.getConfigration().documentRemarkConfig,A)}if(l&&l.getConfigration().isLoadAudioPlayer){var u=l.getConfigration().audioPlayerConfig.parentNode||l.getWhiteboardRootElement();this.createAudioPlayer(u,l.getConfigration().audioPlayerConfig)}if(l&&l.getConfigration().isLoadVideoPlayer){var h=l.getConfigration().videoPlayerConfig.parentNode||l.getWhiteboardRootElement();this.createVideoPlayer(h,l.getConfigration().videoPlayerConfig)}this._executeSaveMsglistData(A),this._executeSavePubmsgData(A)}},{key:"createExtendWhiteboard",value:function(e,t,o,n){var i=0<arguments.length&&void 0!==e?e:document.body,a=1<arguments.length&&void 0!==t?t:void 0,r=this,s=2<arguments.length&&void 0!==o?o:{},A=n;if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createExtendWhiteboard  parentNode  instanceId  configration and receiveActionCommand:",i,a,s,A),null!=a){if("string"==typeof i){var l=i;if(!(i=document.getElementById(l)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createExtendWhiteboard method cannot be performed , element id is "+l+".")}a||(this.randomCreateExtendWhiteboardNumber++,a="randomWhiteboard"+this.randomCreateExtendWhiteboardNumber),this._createWhiteboard(i,a,s,function(){var e,t;if(r.documentToolbarViewList[a]&&r.documentToolbarViewList[a].receiveActionCommand&&(e=r.documentToolbarViewList[a]).receiveActionCommand.apply(e,arguments),r.documentRemarkViewList[a]&&r.documentRemarkViewList[a].receiveActionCommand&&(t=r.documentRemarkViewList[a]).receiveActionCommand.apply(t,arguments),"function"==typeof A)if(r.isInner)A.apply(void 0,arguments);else{var o=arguments.length<=0?void 0:arguments[0];"viewStateUpdate"!==o&&"mediaPlayerNotice"!==o||A.apply(void 0,arguments)}});var c=this.whiteboardViewMap.get(a);if(c&&c.getConfigration().isLoadDocumentToolBar&&c.getConfigration().hasExtendDocument){var d=c.getConfigration().documentToolBarConfig.parentNode||c.getWhiteboardRootElement();this.createDocumentToolBar(d,c.getConfigration().documentToolBarConfig,a)}if(c&&c.getConfigration().isLoadDocumentRemark&&c.getConfigration().hasExtendDocument){var u=c.getConfigration().documentRemarkConfig.parentNode||c.getWhiteboardRootElement();this.createDocumentRemark(u,c.getConfigration().documentRemarkConfig,a)}this._executeSaveMsglistData(a),this._executeSavePubmsgData(a)}}},{key:"destroyMainWhiteboard",value:function(){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]destroyMainWhiteboard"),this._destroyWhiteboard("default")}},{key:"destroyExtendWhiteboard",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]destroyExtendWhiteboard  instanceId:",e),null!=e&&this._destroyWhiteboard(e)}},{key:"changeDocument",value:function(e,t,o){var n=1<arguments.length&&void 0!==t?t:1,i=2<arguments.length&&void 0!==o?o:"default";if("mobile"!==TK.SDKTYPE)if(null!=e&&null!=e){if(this.room&&this.whiteboardViewMap.has(i)){var a=this.whiteboardViewMap.get(i),r=void 0;if(0==e)r=this.pureWhiteboardFileinfoList[i];else{var s=this.room.getFileList(),A=!0,l=!1,c=void 0;try{for(var d,u=s[Symbol.iterator]();!(A=(d=u.next()).done);A=!0){var h=d.value;if(h.fileid==e){r=h;break}}}catch(e){l=!0,c=e}finally{try{!A&&u.return&&u.return()}finally{if(l)throw c}}}if(r)if(/(mp3|mp4|webm)/g.test(r.filetype)){var f=r.swfpath,p=f.lastIndexOf("."),g=f.substring(p),m=f.replace(g,"-1"+g),y=H.default.nowUseDocAddress+m,v=/(mp4|webm)/g.test(r.filetype),w=a.getConfigration().mediaShareToID,b={source:"mediaFileList",filename:r.filename,fileid:r.fileid,pauseWhenOver:v&&a.getConfigration().mediaSharePauseWhenOver};this.startShareMedia(y,v,w,b)}else{var B=Number(r.fileprop),_=1===B||2===B,C=3===B,E=!_&&!C;if(_||C||E){var S=r,I=S.fileid,T=S.pagenum,k=S.filename,Q=S.filetype,U=S.isContentDocument,F=S.downloadpath,P=S.swfpath;E&&T<n&&(n=T),n<1&&(n=1);var D={associatedMsgID:a.getConfigration()?a.getConfigration().associatedMsgID:void 0,name:"default"===i?"ShowPage":"ExtendShowPage",id:"default"===i?"DocumentFilePage_ShowPage":"DocumentFilePage_ExtendShowPage_"+i,toID:"__all",data:{sourceInstanceId:i,isGeneralFile:E,isMedia:!1,isDynamicPPT:_,isH5Document:C,action:"show",mediaType:"",filedata:{currpage:n,pptslide:_?n:1,pptstep:0,steptotal:0,fileid:I,pagenum:T,filename:k,filetype:Q,isContentDocument:U,swfpath:_||C?F:P}},save:!0};this.receiveEventRoomPubmsg({type:"room-pubmsg",message:Object.deepAssign({},D)},i),a.getConfigration().synchronization&&a.getConfigration().isConnectedRoom&&this.pubMsg(D)}else L.Logger.info(H.default.logType,"[whiteboarrd-sdk]changeDocument:you open file type is not support , filetype is "+r.filetype+" , fileid is "+e+" , toPage is "+n+".")}else L.Logger.info(H.default.logType,"[whiteboarrd-sdk]changeDocument:you can't find the file by fileid , fileid is "+e+" , toPage is "+n+".")}}else L.Logger.error(H.default.logType,"changeDocument method parameter error: fileid can't be empty! ");else L.Logger.error(H.default.logType,"changeDocument method is not allowed in the mobile environment!")}},{key:"openRemoteDocument",value:function(e,t,o,n,i){var a=4<arguments.length&&void 0!==i?i:{};if(!function(e,t,o,n){return function(e){var t=e;return 1==new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/).test(t)}(e)?function(e){return-1!=["generalDocument","dynamicPPT","h5Document","mediaFile"].indexOf(e)}(t)?function(e){return e}(o)||(L.Logger.error(H.default.logType,"[whiteboarrd-sdk]openRemoteDocument: id is empty"),"function"==typeof n&&n("id is empty"),0):(L.Logger.error(H.default.logType,"[whiteboarrd-sdk]openRemoteDocument: type invalid"),"function"==typeof n&&n("type invalid"),0):(L.Logger.error(H.default.logType,"[whiteboarrd-sdk]openRemoteDocument: url invalid"),"function"==typeof n&&n("url invalid"),0)}(e,o,t,n)||!this.room)return!1;if(this.whiteboardViewMap.has("default")){var r=this.whiteboardViewMap.get("default"),s="unknown",A="unknown";try{var l=e.split(/(\/|\\)/g);if(l&&1<l.length){var c=l[l.length-1];if(c&&"string"==typeof c){var d=c.split(".");d&&2==d.length&&(s=d[0],A=d[1])}}}catch(e){L.Logger.error(H.default.logType,"[whiteboarrd-sdk]openRemoteDocument err:",e)}if("mediaFile"===o){var u=r.getConfigration().mediaShareToID,h="unknown"===A?/(.mp4|.webm)/g.test(e):/(mp4|webm)/g.test(A),f={source:"mediaFileList",filename:s,fileid:t,pauseWhenOver:h&&r.getConfigration().mediaSharePauseWhenOver};this.startShareMedia(e,h,u,f)}else{var p={name:"ShowPage",id:"DocumentFilePage_ShowPage",toID:"__all",data:{isGeneralFile:"generalDocument"==o,isMedia:!1,isDynamicPPT:"dynamicPPT"==o,isH5Document:"h5Document"==o,action:"show",mediaType:"",filedata:{currpage:void 0!==a.toPage&&"number"==typeof a.toPage?a.toPage:1,pptslide:void 0!==a.toPage&&"number"==typeof a.toPage?a.toPage:1,pptstep:0,steptotal:0,fileid:t,pagenum:1,filename:s,filetype:A,isContentDocument:1,swfpath:e}},save:!0};this.receiveEventRoomPubmsg({type:"room-pubmsg",message:Object.deepAssign({},p)}),r.getConfigration().synchronization&&r.getConfigration().isConnectedRoom&&this.pubMsg(p)}}}},{key:"changeWhiteBoardConfigration",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"default",n={};for(var i in e)M.default.commonWhiteboard.hasOwnProperty(i)&&(n[i]=e[i],delete e[i]);if(Object.keys(n).length&&this.changeCommonWhiteBoardConfigration(n),Object.keys(e).length){if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]changeWhiteBoardConfigration  configration and instanceId:",e,o),this.whiteboardViewMap.has(o)?(this.awitWhiteboardConfigrationMap.has(o)&&this.awitWhiteboardConfigrationMap.delete(o),this.whiteboardViewMap.get(o).changeWhiteBoardConfigration(e)):this.awitWhiteboardConfigrationMap.has(o)?Object.deepAssign(this.awitWhiteboardConfigrationMap.get(o),e):this.awitWhiteboardConfigrationMap.set(o,Object.deepAssign({},M.default.defaultWhiteboard,M.default.commonWhiteboard,e)),void 0!==e.isLoadDocumentToolBar&&"default"===o||e.hasExtendDocument){var a=this.whiteboardViewMap.get(o);if(e.isLoadDocumentToolBar&&!this.documentToolbarViewList[o]){if(a){var r=a.getConfigration().documentToolBarConfig.parentNode||a.getWhiteboardRootElement();this.createDocumentToolBar(r,a.getConfigration().documentToolBarConfig,o)}}else!e.isLoadDocumentToolBar&&this.documentToolbarViewList[o]&&this.documentToolbarViewList[o].destroyView&&(this.documentToolbarViewList[o].destroyView(),this.documentToolbarViewList[o]=void 0)}if(void 0!==e.isLoadDocumentRemark&&"default"===o||e.hasExtendDocument){var s=this.whiteboardViewMap.get(o);if(e.isLoadDocumentRemark&&!this.documentRemarkViewList[o]){if(s){var A=s.getConfigration().documentRemarkConfig.parentNode||s.getWhiteboardRootElement();this.createDocumentRemark(A,s.getConfigration().documentRemarkConfig,o)}}else!e.isLoadDocumentRemark&&this.documentRemarkViewList[o]&&this.documentRemarkViewList[o].destroyView&&(this.documentRemarkViewList[o].destroyView(),this.documentRemarkViewList[o]=void 0)}if(void 0!==e.isLoadWhiteboardToolBar){var l=this.whiteboardViewMap.get(o);if(e.isLoadWhiteboardToolBar&&!this.whiteboardToolbarViewList[o]){if(l){var c=l.getConfigration().whiteboardToolBarConfig.parentNode||l.getWhiteboardRootElement();this.createWhiteboardToolBar(c,l.getConfigration().whiteboardToolBarConfig,o)}}else!e.isLoadWhiteboardToolBar&&this.whiteboardToolbarViewList[o]&&this.whiteboardToolbarViewList[o].destroyView&&(this.whiteboardToolbarViewList[o].destroyView(),this.whiteboardToolbarViewList[o]=void 0,delete this.whiteboardToolbarViewList[o])}if(void 0!==e.isLoadAudioPlayer&&"default"===o){var d=this.whiteboardViewMap.get(o);if(e.isLoadAudioPlayer&&!this.audioPlayerView){if(d){var u=d.getConfigration().audioPlayerConfig.parentNode||d.getWhiteboardRootElement();this.createAudioPlayer(u,d.getConfigration().audioPlayerConfig)}}else!e.isLoadAudioPlayer&&this.audioPlayerView&&this.audioPlayerView.destroyView&&(this.audioPlayerView.destroyView(),this.audioPlayerView=void 0)}if(void 0!==e.isLoadVideoPlayer&&"default"===o){var h=this.whiteboardViewMap.get(o);if(e.isLoadVideoPlayer&&!this.videoPlayerView){if(h){var f=h.getConfigration().videoPlayerConfig.parentNode||h.getWhiteboardRootElement();this.createVideoPlayer(f,h.getConfigration().videoPlayerConfig)}}else!e.isLoadVideoPlayer&&this.videoPlayerView&&this.videoPlayerView.destroyView&&(this.videoPlayerView.destroyView(),this.videoPlayerView=void 0)}if(void 0!==e.languageType&&("default"!==o&&!e.hasExtendDocument||(this.documentToolbarViewList[o]&&this.documentToolbarViewList[o].setProps({languageType:e.languageType}),this.documentRemarkViewList[o]&&this.documentRemarkViewList[o].setProps({languageType:e.languageType})),this.whiteboardToolbarViewList[o]&&this.whiteboardToolbarViewList[o].setProps({languageType:e.languageType})),void 0!==e.isMobile&&("default"!==o&&!e.hasExtendDocument||(this.documentToolbarViewList[o]&&this.documentToolbarViewList[o].setProps({isMobile:e.isMobile}),this.documentRemarkViewList[o]&&this.documentRemarkViewList[o].setProps({isMobile:e.isMobile})),this.whiteboardToolbarViewList[o]&&this.whiteboardToolbarViewList[o].setProps({isMobile:e.isMobile})),void 0!==e.canRemark&&("default"!==o&&!e.hasExtendDocument||(this.documentToolbarViewList[o]&&this.documentToolbarViewList[o].setProps({canRemark:e.canRemark}),this.documentRemarkViewList[o]&&this.documentRemarkViewList[o].setProps({canRemark:e.canRemark}))),void 0!==e.whiteboardToolBarConfig&&this.whiteboardToolbarViewList[o]){if(e.whiteboardToolBarConfig.hasOwnProperty("parentNode")&&"function"==typeof this.whiteboardToolbarViewList[o].changeParentNode){var p=this.whiteboardViewMap.get(o),g=e.whiteboardToolBarConfig.parentNode||(p?p.getWhiteboardRootElement():void 0);if("string"==typeof g){var m=g;if(!(g=document.getElementById(m)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and  whiteboardToolBarConfig.parentNode cannot update config, element id is "+m+".")}this.whiteboardToolbarViewList[o].changeParentNode(g)}for(var y in e.whiteboardToolBarConfig){var v=e.whiteboardToolBarConfig[y];"object"===(void 0===v?"undefined":N(v))&&(e.whiteboardToolBarConfig[y]=Object.deepAssign({},this.whiteboardToolbarViewList[o].props[y],v))}this.whiteboardToolbarViewList[o].setProps(Object.deepAssign({},e.whiteboardToolBarConfig))}if(void 0!==e.documentToolBarConfig&&("default"===o||e.hasExtendDocument)&&this.documentToolbarViewList[o]){if(e.documentToolBarConfig.hasOwnProperty("parentNode")&&"function"==typeof this.documentToolbarViewList[o].changeParentNode){var w=this.whiteboardViewMap.get(o),b=e.documentToolBarConfig.parentNode||(w?w.getWhiteboardRootElement():void 0);if("string"==typeof b){var B=b;if(!(b=document.getElementById(B)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and  documentToolBarConfig.parentNode cannot update config, element id is "+B+".")}this.documentToolbarViewList[o].changeParentNode(b)}for(var _ in e.documentToolBarConfig){var C=e.documentToolBarConfig[_];"object"===(void 0===C?"undefined":N(C))&&(e.documentToolBarConfig[_]=Object.deepAssign({},this.documentToolbarViewList[o].props[_],C))}this.documentToolbarViewList[o].setProps(Object.deepAssign({},e.documentToolBarConfig))}if(void 0!==e.documentRemarkConfig&&("default"===o||e.hasExtendDocument)&&this.documentRemarkViewList[o]){if(e.documentRemarkConfig.hasOwnProperty("parentNode")&&"function"==typeof this.documentRemarkViewList[o].changeParentNode){var E=this.whiteboardViewMap.get(o),S=e.documentRemarkConfig.parentNode||(E?E.getWhiteboardRootElement():void 0);if("string"==typeof S){var I=S;if(!(S=document.getElementById(I)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and  documentRemarkConfig.parentNode cannot update config, element id is "+I+".")}this.documentRemarkViewList[o].changeParentNode(S)}for(var T in e.documentRemarkConfig){var k=e.documentRemarkConfig[T];"object"===(void 0===k?"undefined":N(k))&&(e.documentRemarkConfig[T]=Object.deepAssign({},this.documentRemarkViewList[o].props[T],k))}this.documentRemarkViewList[o].setProps(Object.deepAssign({},e.documentRemarkConfig))}if(void 0!==e.audioPlayerConfig&&this.audioPlayerView){for(var Q in e.audioPlayerConfig){var U=e.audioPlayerConfig[Q];"object"===(void 0===U?"undefined":N(U))&&(e.audioPlayerConfig[Q]=Object.deepAssign({},this.audioPlayerView.props[Q],U))}this.audioPlayerView.setProps(Object.deepAssign({},e.audioPlayerConfig))}if(void 0!==e.videoPlayerConfig&&this.videoPlayerView){for(var F in e.videoPlayerConfig){var P=e.videoPlayerConfig[F];"object"===(void 0===P?"undefined":N(P))&&(e.videoPlayerConfig[F]=Object.deepAssign({},this.videoPlayerView.props[F],P))}this.videoPlayerView.setProps(Object.deepAssign({},e.videoPlayerConfig))}}}},{key:"noticeWhiteboardActionCommand",value:function(e,t,o){var n=2<arguments.length&&void 0!==o?o:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]noticeWhiteboardActionCommand "),this.whiteboardViewMap.has(n)&&this.whiteboardViewMap.get(n).noticeWhiteboardActionCommand(e,t)}},{key:"changeCommonWhiteBoardConfigration",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]changeCommonWhiteBoardConfigration common configration:",e);var t=Object.deepAssign({},e);"object"===N(t.docAddress)&&(H.default.docAddress=e.docAddress,""===H.default.docAddressKey&&(H.default.docAddressKey=e.docAddress.hostname),H.default.protocol=t.docAddress.protocol,H.default.port=t.docAddress.port,t.docAddress=e.docAddress.protocol+"://"+e.docAddress.hostname+":"+e.docAddress.port),"object"===N(t.webAddress)&&(t.webAddress=e.webAddress.protocol+"://"+e.webAddress.hostname+":"+e.webAddress.port),t.backupDocAddressList&&Array.isArray(t.backupDocAddressList)&&(H.default.backupDocAddressList=e.backupDocAddressList,M.default.commonWhiteboard.backupDocAddressList=[]),Object.deepAssign(M.default.commonWhiteboard,t);var o=!0,n=!1,i=void 0;try{for(var a,r=this.awitWhiteboardConfigrationMap.values()[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;Object.deepAssign(s,t)}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}void 0===e.docAddress&&void 0===e.backupDocAddressList||(H.default.docAddressList=[H.default.docAddress].concat(O(H.default.backupDocAddressList),O(H.default.laterAddressList)),H.default.hasGetDocAddressIndexByLocalStorage?(H.default.localStorageDocAddressKey&&""===R.default.getItem(H.default.docAddressList,H.default.localStorageDocAddressKey)&&""===R.default.getItem(H.default.laterAddressList,H.default.localStorageDocAddressKey)&&(H.default.protocol&&H.default.port&&(H.default.laterAddressList=[{protocol:H.default.protocol,hostname:H.default.localStorageDocAddressKey,port:H.default.port}]),H.default.docAddressList=[H.default.docAddress].concat(O(H.default.backupDocAddressList),O(H.default.laterAddressList))),H.default.nowUseDocAddress=R.default.getItem(H.default.docAddressList,H.default.docAddressKey)||M.default.commonWhiteboard.docAddress):(H.default.nowUseDocAddress=R.default.getItem(H.default.docAddressList,H.default.docAddressKey)||M.default.commonWhiteboard.docAddress,this.getLocalStorageItem("tkDocAddressKey",function(e){e&&void 0!==e&&"string"==typeof e&&"undefined"!==e&&(H.default.docAddressKey=e,H.default.localStorageDocAddressKey=e),H.default.localStorageDocAddressKey&&""===R.default.getItem(H.default.docAddressList,H.default.localStorageDocAddressKey)&&""===R.default.getItem(H.default.laterAddressList,H.default.localStorageDocAddressKey)&&(H.default.protocol&&H.default.port&&(H.default.laterAddressList=[{protocol:H.default.protocol,hostname:H.default.localStorageDocAddressKey,port:H.default.port}]),H.default.docAddressList=[H.default.docAddress].concat(O(H.default.backupDocAddressList),O(H.default.laterAddressList))),H.default.nowUseDocAddress=R.default.getItem(H.default.docAddressList,H.default.docAddressKey)||M.default.commonWhiteboard.docAddress,H.default.hasGetDocAddressIndexByLocalStorage=!0})));var A=!0,l=!1,c=void 0;try{for(var d,u=this.whiteboardViewMap[Symbol.iterator]();!(A=(d=u.next()).done);A=!0){var h=d.value,f=x(h,2),p=f[0],g=f[1];this.awitWhiteboardConfigrationMap.has(p)&&this.awitWhiteboardConfigrationMap.delete(p),g.changeWhiteBoardConfigration(t)}}catch(e){l=!0,c=e}finally{try{!A&&u.return&&u.return()}finally{if(l)throw c}}var m=!0,y=!1,v=void 0;try{for(var w,b=Object.values(this.whiteboardToolbarViewList)[Symbol.iterator]();!(m=(w=b.next()).done);m=!0){var B=w.value;B&&B.setProps(Object.deepAssign({},t))}}catch(e){y=!0,v=e}finally{try{!m&&b.return&&b.return()}finally{if(y)throw v}}var _=!0,C=!1,E=void 0;try{for(var S,I=Object.values(this.documentToolbarViewList)[Symbol.iterator]();!(_=(S=I.next()).done);_=!0){var T=S.value;T&&T.setProps(Object.deepAssign({},t))}}catch(e){C=!0,E=e}finally{try{!_&&I.return&&I.return()}finally{if(C)throw E}}var k=!0,Q=!1,U=void 0;try{for(var F,P=Object.values(this.documentRemarkViewList)[Symbol.iterator]();!(k=(F=P.next()).done);k=!0){var D=F.value;D&&D.setProps(Object.deepAssign({},t))}}catch(e){Q=!0,U=e}finally{try{!k&&P.return&&P.return()}finally{if(Q)throw U}}this.audioPlayerView&&this.audioPlayerView.setProps(Object.deepAssign({},t)),this.videoPlayerView&&this.videoPlayerView.setProps(Object.deepAssign({},t))}},{key:"useWhiteboardTool",value:function(e,t,o){var n=1<arguments.length&&void 0!==t?t:"default",i=o;L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]useWhiteboardTool toolKey and instanceId:",e,n),e&&this.whiteboardViewMap.has(n)&&this.whiteboardViewMap.get(n).useWhiteboardTool(e,i)}},{key:"addPage",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]addPage "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).addPage()}},{key:"nextPage",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]nextPage "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).nextPage()}},{key:"prevPage",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]prevPage "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).prevPage()}},{key:"skipPage",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]skipPage  page :",e),"number"==typeof e?this.whiteboardViewMap.has(o)&&this.whiteboardViewMap.get(o).skipPage(e):L.Logger.warning(H.default.logType,"skipPage page must is number!")}},{key:"nextStep",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]nextStep "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).nextStep()}},{key:"prevStep",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]prevStep "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).prevStep()}},{key:"enlargeWhiteboard",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]enlargeWhiteboard  instanceId:",t),this.executeZoomWhiteaord("zoom_big",t)}},{key:"narrowWhiteboard",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]narrowWhiteboard  instanceId:",t),this.executeZoomWhiteaord("zoom_small",t)}},{key:"clear",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]clear  instanceId:",t),this.executeWhiteboardAction("action_clear",t)}},{key:"undo",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]undo  instanceId:",t),this.executeWhiteboardAction("action_undo",t)}},{key:"redo",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]redo  instanceId:",t),this.executeWhiteboardAction("action_redo",t)}},{key:"fullScreen",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]fullScreen "),this.whiteboardViewMap.has(t)&&this.room){var o=this.whiteboardViewMap.get(t);if(o.getConfigration().isMobile)this.room.changeWebPageFullScreen&&this.room.changeWebPageFullScreen(!0);else{R.default.isFullScreenStatus()&&R.default.exitFullscreen();var n=o.getWhiteboardRootElement(),i=o.getConfigration().documentToolBarConfig.fullScreenElementId;i&&("string"==typeof i?document.getElementById(i)&&(n=document.getElementById(i)):n=i),R.default.launchFullscreen(n)}}}},{key:"exitFullScreen",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]exitFullScreen "),this.whiteboardViewMap.has(t)&&this.room&&(this.whiteboardViewMap.get(t).getConfigration().isMobile?this.room.changeWebPageFullScreen&&this.room.changeWebPageFullScreen(!1):R.default.exitFullscreen())}},{key:"updateWhiteboardSize",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]updateWhiteboardSize  instanceId:",t);var o={};if(this.whiteboardViewMap.has(t)){var n=this.whiteboardViewMap.get(t);n.resizeWhiteboardHandler(),o=n.getConfigration()}("default"===t||o.hasExtendDocument)&&this.documentRemarkViewList[t]&&R.default.isFunction(this.documentRemarkViewList[t].resize)&&this.documentRemarkViewList[t].resize(),("default"===t||o.hasExtendDocument)&&this.documentToolbarViewList[t]&&R.default.isFunction(this.documentToolbarViewList[t].resize)&&this.documentToolbarViewList[t].resize(),this.whiteboardToolbarViewList[t]&&R.default.isFunction(this.whiteboardToolbarViewList[t].resize)&&this.whiteboardToolbarViewList[t].resize()}},{key:"updateAllWhiteboardSize",value:function(){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]updateAllWhiteboardSize ");var e=!0,t=!1,o=void 0;try{for(var n,i=this.whiteboardViewMap.keys()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this.updateWhiteboardSize(a)}}catch(e){t=!0,o=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw o}}}},{key:"resetWhiteboardData",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]resetWhiteboardData  instanceId:",t),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).resetWhiteboardData()}},{key:"resetAllWhiteboardData",value:function(){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]resetAllWhiteboardData ");var e=!0,t=!1,o=void 0;try{for(var n,i=this.whiteboardViewMap.values()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0)n.value.resetWhiteboardData()}catch(e){t=!0,o=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw o}}}},{key:"resetPureWhiteboardTotalPage",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]resetPureWhiteboardTotalPage ");var o=this.pureWhiteboardFileinfoList[t]?this.pureWhiteboardFileinfoList[t].pagenum:1;this.pureWhiteboardFileinfoList[t]&&(this.pureWhiteboardFileinfoList[t].pagenum=1);var n=this.whiteboardViewMap.get(t);n&&R.default.isFunction(n.resetPureWhiteboardTotalPage)&&n.resetPureWhiteboardTotalPage(o)}},{key:"changeDynamicPptVolume",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"default";if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]changeDynamicPptVolume volume:",e),"number"==typeof e&&this.whiteboardViewMap.has(o)){var n=this.whiteboardViewMap.get(o);e<0?e=0:100<e&&(e=100);var i={name:"default"===o?"PptVolumeControl":"ExtendPptVolumeControl",id:"default"===o?"PptVolumeControl":"PptVolumeControl_"+o,toID:"__allExceptSender",data:{sourceInstanceId:o,volume:e/100},save:!0};this.receiveEventRoomPubmsg({type:"room-pubmsg",message:i}),this.room.setPptAudioVolume&&this.room.setPptAudioVolume(e),n.getConfigration().pptVolumeSynchronization&&n.getConfigration().isConnectedRoom&&this.pubMsg(i)}}},{key:"openDocumentRemark",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]openDocumentRemark "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).changeDocumentRemarkState(!0)}},{key:"closeDocumentRemark",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]closeDocumentRemark "),this.whiteboardViewMap.has(t)&&this.whiteboardViewMap.get(t).changeDocumentRemarkState(!1)}},{key:"executeWhiteboardAction",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]executeWhiteboardAction actionKey and\tinstanceId:",e,o),this.whiteboardViewMap.has(o)&&this.whiteboardViewMap.get(o).executeWhiteboardAction(e)}},{key:"executeZoomWhiteaord",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]executeZoomWhiteaord \tzoomKey and\tinstanceId:",e,o),this.whiteboardViewMap.has(o)&&this.whiteboardViewMap.get(o).executeZoomWhiteaord(e)}},{key:"receiveEventRoomPubmsg",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]receiveEventRoomPubmsg \trecvEventData:",e),"string"==typeof e&&(e=JSON.parse(e));var t=e.message;if(this._isWhiteboardCorrelationSignalling(t.name))if("SharpsChange"===t.name)t.data&&t.data.nickname?t.remindContent=t.data.nickname:this.room&&R.default.isFunction(this.room.getUser)&&this.room.getUser(t.fromID)&&"object"===N(this.room.getUser(t.fromID))&&this.room.getUser(t.fromID).nickname&&(t.remindContent=this.room.getUser(t.fromID).nickname),I.default.handlerPubmsg_SharpsChange(t);else if("WBPageCount"===t.name)this.pureWhiteboardFileinfoList.default&&(this.pureWhiteboardFileinfoList.default.pagenum=t.data.totalPage);else if("ExtendWBPageCount"===t.name)t.data&&this.pureWhiteboardFileinfoList[t.data.sourceInstanceId]&&(this.pureWhiteboardFileinfoList[t.data.sourceInstanceId].pagenum=t.data.totalPage);else if("ShowPage"===t.name||"whiteboardMarkTool"===t.name||"NewPptTriggerActionClick"===t.name||"PptVolumeControl"===t.name||"H5DocumentAction"===t.name||"ExtendShowPage"===t.name||"ExtendWhiteboardMarkTool"===t.name||"ExtendH5DocumentAction"===t.name||"ExtendPptVolumeControl"===t.name||"ExtendNewPptTriggerActionClick"===t.name)"ShowPage"!==t.name&&"ExtendShowPage"!==t.name||("string"==typeof t.data&&(t.data=R.default.toJsonParse(t.data)),t.data.isGeneralFile&&t.data.filedata&&0==t.data.filedata.fileid&&("ShowPage"===t.name&&this.pureWhiteboardFileinfoList.default?t.data.filedata.pagenum=this.pureWhiteboardFileinfoList.default.pagenum:"ExtendShowPage"===t.name&&this.pureWhiteboardFileinfoList[t.data.sourceInstanceId]&&(t.data.filedata.pagenum=this.pureWhiteboardFileinfoList[t.data.sourceInstanceId].pagenum))),"ShowPage"===t.name||"whiteboardMarkTool"===t.name||"NewPptTriggerActionClick"===t.name||"PptVolumeControl"===t.name||"H5DocumentAction"===t.name?this.whiteboardViewMap.has("default")?this.whiteboardViewMap.get("default").receiveEventRoomPubmsg(e):this.savePubmsgData.default&&Array.isArray(this.savePubmsgData.default)?this.savePubmsgData.default.push(e):this.savePubmsgData.default=[e]:"ExtendShowPage"!==t.name&&"ExtendWhiteboardMarkTool"!==t.name&&"ExtendPptVolumeControl"!==t.name&&"ExtendH5DocumentAction"!==t.name&&"ExtendNewPptTriggerActionClick"!==t.name||t.data&&(this.whiteboardViewMap.has(t.data.sourceInstanceId)?this.whiteboardViewMap.get(t.data.sourceInstanceId).receiveEventRoomPubmsg(e):this.savePubmsgData[t.data.sourceInstanceId]&&Array.isArray(this.savePubmsgData[t.data.sourceInstanceId])?this.savePubmsgData[t.data.sourceInstanceId].push(e):this.savePubmsgData[t.data.sourceInstanceId]=[e]);else{var o=!0,n=!1,i=void 0;try{for(var a,r=this.whiteboardViewMap.values()[Symbol.iterator]();!(o=(a=r.next()).done);o=!0)a.value.receiveEventRoomPubmsg(e)}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}}},{key:"receiveEventRoomConnected",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]receiveEventRoomConnected \trecvEventData:",e),this.saveMsglistData={},this.savePubmsgData={},this.resetAllWhiteboardData(),this.resetPureWhiteboardTotalPage();var t=e.message;this.receiveEventRoomMsglist(JSON.stringify({type:"room-msglist",message:t}))}},{key:"receiveEventRoomDisconnected",value:function(){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]receiveEventRoomDisconnected "),H.default.laterAddressList=[];var e=!(H.default.hasGetDocAddressIndexByLocalStorage=!1),t=!1,o=void 0;try{for(var n,i=this.whiteboardViewMap.values()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;a&&a.getConfigration()&&a.getConfigration().isDisconnectedClearWhiteboardData&&R.default.isFunction(a.resetWhiteboardData)&&a.resetWhiteboardData()}}catch(e){t=!0,o=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw o}}}},{key:"receiveEventRoomDelmsg",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]receiveEventRoomDelmsg \trecvEventData:",e),"string"==typeof e&&(e=JSON.parse(e));var t=e.message;if(this._isWhiteboardCorrelationSignalling(t.name))if("SharpsChange"===t.name)I.default.handlerDelmsg_SharpsChange(t);else{var o=!0,n=!1,i=void 0;try{for(var a,r=this.whiteboardViewMap.values()[Symbol.iterator]();!(o=(a=r.next()).done);o=!0)a.value.receiveEventRoomDelmsg(e)}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}}},{key:"receiveEventRoomMsglist",value:function(e){var o=this;L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]receiveEventRoomMsglist \trecvEventData:",e),"string"==typeof e&&(e=JSON.parse(e));var t={},n=e.message;for(var i in n)this._isWhiteboardCorrelationSignalling(n[i].name)&&(n[i].data&&"string"==typeof n[i].data&&(n[i].data=JSON.parse(n[i].data)),null!==t[n[i].name]&&void 0!==t[n[i].name]||(t[n[i].name]=[]),t[n[i].name].push(n[i]));var a=t.WBPageCount;null!=a&&0<a.length&&this.pureWhiteboardFileinfoList.default&&(this.pureWhiteboardFileinfoList.default.pagenum=a[a.length-1].data.totalPage),t.WBPageCount=null,delete t.WBPageCount;var r=t.ExtendWBPageCount;null!=r&&0<r.length&&r.forEach(function(e,t){e.data&&o.pureWhiteboardFileinfoList[e.data.sourceInstanceId]&&(o.pureWhiteboardFileinfoList[e.data.sourceInstanceId].pagenum=e.data.totalPage)}),t.ExtendWBPageCount=null,delete t.ExtendWBPageCount;var s=!0,A=!1,l=void 0;try{for(var c,d=["ShowPage","whiteboardMarkTool","NewPptTriggerActionClick","PptVolumeControl","H5DocumentAction","ExtendShowPage","ExtendWhiteboardMarkTool","ExtendPptVolumeControl","ExtendH5DocumentAction","ExtendNewPptTriggerActionClick"][Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value,h=t[u];if(("ShowPage"===u||"ExtendShowPage"===u)&&h&&h.length){var f=!0,p=!1,g=void 0;try{for(var m,y=h[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var v=m.value;"ShowPage"!==v.name&&"ExtendShowPage"!==v.name||("string"==typeof v.data&&(v.data=R.default.toJsonParse(v.data)),v.data.isGeneralFile&&v.data.filedata&&0==v.data.filedata.fileid&&("ShowPage"===v.name&&this.pureWhiteboardFileinfoList.default?v.data.filedata.pagenum=this.pureWhiteboardFileinfoList.default.pagenum:"ExtendShowPage"===v.name&&this.pureWhiteboardFileinfoList[v.data.sourceInstanceId]&&(v.data.filedata.pagenum=this.pureWhiteboardFileinfoList[v.data.sourceInstanceId].pagenum)))}}catch(e){p=!0,g=e}finally{try{!f&&y.return&&y.return()}finally{if(p)throw g}}}if(null!=h&&0<h.length)if("ShowPage"===u||"whiteboardMarkTool"===u||"NewPptTriggerActionClick"===u||"PptVolumeControl"===u||"H5DocumentAction"===u)this.whiteboardViewMap.has("default")?this.whiteboardViewMap.get("default").receiveEventRoomMsglist(u,h[h.length-1]):this.saveMsglistData.default&&Array.isArray(this.saveMsglistData.default)?this.saveMsglistData.default.push(h[h.length-1]):this.saveMsglistData.default=[h[h.length-1]];else if("ExtendShowPage"===u||"ExtendWhiteboardMarkTool"===u||"ExtendPptVolumeControl"===u||"ExtendH5DocumentAction"===u||"ExtendNewPptTriggerActionClick"===u){var w=!0,b=!1,B=void 0;try{for(var _,C=h[Symbol.iterator]();!(w=(_=C.next()).done);w=!0){var E=_.value;E.data&&(this.whiteboardViewMap.has(E.data.sourceInstanceId)?this.whiteboardViewMap.get(E.data.sourceInstanceId).receiveEventRoomMsglist(u,E):this.saveMsglistData[E.data.sourceInstanceId]&&Array.isArray(this.saveMsglistData[E.data.sourceInstanceId])?this.saveMsglistData[E.data.sourceInstanceId].push(E):this.saveMsglistData[E.data.sourceInstanceId]=[E])}}catch(e){b=!0,B=e}finally{try{!w&&C.return&&C.return()}finally{if(b)throw B}}}t[u]=null,delete t[u]}}catch(e){A=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(A)throw l}}var S=t.SharpsChange;null!=S&&0<S.length&&I.default.handlerMsglist_SharpsChange(S),t.SharpsChange=null,delete t.SharpsChange,t=null}},{key:"reveiveEventRoomUsermediaorfilestateChanged",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]reveiveEventRoomUsermediaorfilestateChanged recvEventData:",e),this._forwardingStreamEvents("reveiveEventRoomUsermediaorfilestateChanged",e)}},{key:"reveiveEventRoomUsermediaorfileattributesUpdate",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]reveiveEventRoomUsermediaorfileattributesUpdate recvEventData:",e),this._forwardingStreamEvents("reveiveEventRoomUsermediaorfileattributesUpdate",e)}},{key:"receiveEventRoomErrorNotice",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]receiveEventRoomErrorNotice recvEventData:",e),this._forwardingStreamEvents("receiveEventRoomErrorNotice",e)}},{key:"reveiveEventRoomReceiveActionCommand",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]reveiveEventRoomReceiveActionCommand \trecvEventData:",e);var t=e.message,o=t.action,n=t.cmd;switch(o){case"transmitWindowSize":this._windowResizeCallback()}var i=!0,a=!1,r=void 0;try{for(var s,A=this.whiteboardViewMap.values()[Symbol.iterator]();!(i=(s=A.next()).done);i=!0)s.value.reveiveEventRoomReceiveActionCommand(o,n)}catch(e){a=!0,r=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw r}}}},{key:"registerRoomDelegate",value:function(e,t){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]registerRoomDelegate \troom and  sdkReceiveActionCommand:",e,t),this.room=e,this.sdkReceiveActionCommand=t,this._addRoomEvent()}},{key:"getRoomDelegate",value:function(){return L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]getRoomDelegate "),this.room}},{key:"hasRoomDelegate",value:function(){return L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]hasRoomDelegate "),!!this.room}},{key:"sendActionCommandToSdk",value:function(e,t){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]sendActionCommandToSdk \taction and\tcmd:",e,t),this.sdkReceiveActionCommand&&"function"==typeof this.sdkReceiveActionCommand&&(void 0!==t&&!N(t)||Array.isArray(t)||(t=JSON.parse(JSON.stringify(t))),this.sdkReceiveActionCommand(e,t))}},{key:"pubMsg",value:function(e){if("ShowPage"===e.name){var t=!1;"string"==typeof e.data?(e.data=JSON.parse(e.data),t=!0):e.data=e.data,e.data&&e.data.filedata&&e.data.filedata.baseurl&&delete e.data.filedata.baseurl,t&&(e.data=JSON.stringify(e.data))}L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]pubMsg \tparams :",e),this.room&&this.room.pubMsg&&("string"==typeof e&&(e=JSON.parse(e)),"WBPageCount"===e.name&&this.pureWhiteboardFileinfoList.default&&(this.pureWhiteboardFileinfoList.default.pagenum=e.data.totalPage),"ExtendWBPageCount"===e.name&&this.pureWhiteboardFileinfoList[e.data.sourceInstanceId]&&(this.pureWhiteboardFileinfoList[e.data.sourceInstanceId].pagenum=e.data.totalPage),e.data&&"object"===N(e.data)&&!Array.isArray(e.data)&&(e.data=JSON.stringify(e.data)),this.room.pubMsg(e))}},{key:"delMsg",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]delMsg params :",e),this.room&&this.room.delMsg&&(e.data&&"object"===N(e.data)&&!Array.isArray(e.data)&&(e.data=JSON.stringify(e.data)),this.room.delMsg(e))}},{key:"startShareMedia",value:function(e,t,o,n){var i=3<arguments.length&&void 0!==n?n:{};if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]startShareMedia url  isVideo  toID  and  attrs:",e,t,o,i),this.stopShareMedia(),this.stopShareLocalMedia(),this.room&&this.room.startShareMedia){var a=this.whiteboardViewMap.get("default");t&&a&&a.getConfigration()&&a.getConfigration().mediaSharePauseWhenOver&&(i.pauseWhenOver=a.getConfigration().mediaSharePauseWhenOver),a&&a.getConfigration()&&void 0!==a.getConfigration().myUserId&&!a.getConfigration().synchronization&&(o=a.getConfigration().myUserId),"mobile"!==TK.SDKTYPE?this.room.startShareMedia(e,t,function(e){L.Logger.warning(H.default.logType,"[whiteboard-sdk]startShareMedia fail , fail info:"+e)},{toID:o,attrs:i}):this.room.startShareMedia(e,t,o,i)}}},{key:"stopShareMedia",value:function(){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]stopShareMedia "),this.room&&this.room.stopShareMedia&&this.room.stopShareMedia()}},{key:"stopShareLocalMedia",value:function(){"mobile"!==TK.SDKTYPE&&this.room&&this.room.stopShareLocalMedia&&(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]stopShareLocalMedia "),this.room.stopShareLocalMedia())}},{key:"createAudioPlayer",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createAudioPlayer parentNode and config :",e,o),window.TalkAudioPlayer){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createAudioPlayer method cannot be performed , element id is "+n+".")}var i=this.whiteboardViewMap.get("default"),a=e||(i?i.getWhiteboardRootElement():document.body);this.audioPlayerView&&this.audioPlayerView.destroyView&&(this.audioPlayerView.destroyView(),this.audioPlayerView=void 0),this.audioPlayerView=new window.TalkAudioPlayer(a,"default",this,Object.deepAssign({},o,{languageType:i?i.getConfigration().languageType:"ch",isMobile:!!i&&i.getConfigration().isMobile},M.default.commonWhiteboard),i?i.getConfigration():void 0)}else L.Logger.error(H.default.logType,"The resource file for the audio player is not loaded and can't be executed with createAudioPlayer methods.")}},{key:"createVideoPlayer",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createVideoPlayer parentNode and config :",e,o),window.TalkVideoPlayer){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createVideoPlayer method cannot be performed , element id is "+n+".")}var i=this.whiteboardViewMap.get("default"),a=e||(i?i.getWhiteboardRootElement():document.body);this.videoPlayerView&&this.videoPlayerView.destroyView&&(this.videoPlayerView.destroyView(),this.videoPlayerView=void 0),this.videoPlayerView=new window.TalkVideoPlayer(a,"default",this,Object.deepAssign({},o,{languageType:i?i.getConfigration().languageType:"ch",isMobile:!!i&&i.getConfigration().isMobile},M.default.commonWhiteboard),i?i.getConfigration():void 0)}else L.Logger.error(H.default.logType,"The resource file for the audio player is not loaded and can't be executed with createVideoPlayer methods.")}},{key:"createDocumentRemark",value:function(e,t,o){var n=1<arguments.length&&void 0!==t?t:{},i=o;if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createDocumentRemark parentNode and config :",e,n),window.TalkDocumentRemark){if("string"==typeof e){var a=e;if(!(e=document.getElementById(a)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createDocumentRemark method cannot be performed , element id is "+a+".")}var r=this.whiteboardViewMap.get(i),s=e||(r?r.getWhiteboardRootElement():document.body);if(this.documentRemarkViewList[i]&&this.documentRemarkViewList[i].destroyView&&(this.documentRemarkViewList[i].destroyView(),delete this.documentRemarkViewList[i]),this.documentRemarkViewList[i]=new window.TalkDocumentRemark(s,i,this,Object.deepAssign({},n,{languageType:r?r.getConfigration().languageType:"ch",isMobile:!!r&&r.getConfigration().isMobile,canRemark:!!r&&r.getConfigration().canRemark},M.default.commonWhiteboard),r?r.getConfigration():void 0),r){var A=this.getWhiteboardViewState(i);if(this.documentRemarkViewList[i]&&this.documentRemarkViewList[i].receiveActionCommand&&A&&Object.keys(A.page).length&&Object.keys(A.zoom).length){var l={viewState:A,updateViewState:{}};this.documentRemarkViewList[i].receiveActionCommand("viewStateUpdate",l)}}}else L.Logger.error(H.default.logType,"The resource file for the document tool bar is not loaded and can't be executed with createDocumentRemark methods.")}},{key:"createDocumentToolBar",value:function(e,t,o){var n=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==o?o:"default";if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createDocumentToolBar parentNode and config :",e,n),window.TalkDocumentToolbar){if("string"==typeof e){var a=e;if(!(e=document.getElementById(a)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createDocumentToolBar method cannot be performed , element id is "+a+".")}var r=this.whiteboardViewMap.get(i),s=e||(r?r.getWhiteboardRootElement():document.body);if(this.documentToolbarViewList[i]&&this.documentToolbarViewList[i].destroyView&&(this.documentToolbarViewList[i].destroyView(),delete this.documentToolbarViewList[i]),this.documentToolbarViewList[i]=new window.TalkDocumentToolbar(s,i,this,Object.deepAssign({},n,{languageType:r?r.getConfigration().languageType:"ch",isMobile:!!r&&r.getConfigration().isMobile,canRemark:!!r&&r.getConfigration().canRemark},M.default.commonWhiteboard),r?r.getConfigration():void 0),r){var A=this.getWhiteboardViewState(i);if(this.documentToolbarViewList[i]&&this.documentToolbarViewList[i].receiveActionCommand&&A&&Object.keys(A.page).length&&Object.keys(A.zoom).length){var l={viewState:A,updateViewState:{}};this.documentToolbarViewList[i].receiveActionCommand("viewStateUpdate",l)}}}else L.Logger.error(H.default.logType,"The resource file for the document tool bar is not loaded and can't be executed with createDocumentToolBar methods.")}},{key:"createWhiteboardToolBar",value:function(e,t,o){var n=1<arguments.length&&void 0!==t?t:{},i=2<arguments.length&&void 0!==o?o:"default";if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]createWhiteboardToolBar parentNode  config  and instanceId :",e,n,i),window.TalkWhiteboardToolbar){if("string"==typeof e){var a=e;if(!(e=document.getElementById(a)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and TalkWhiteboardToolbar method cannot be performed , element id is "+a+".")}var r=this.whiteboardViewMap.get(i),s=e||(r?r.getWhiteboardRootElement():document.body);if(this.whiteboardToolbarViewList[i]&&this.whiteboardToolbarViewList[i].destroyView&&(this.whiteboardToolbarViewList[i].destroyView(),delete this.whiteboardToolbarViewList[i]),this.whiteboardToolbarViewList[i]=new window.TalkWhiteboardToolbar(s,i,this,Object.deepAssign({},n,{languageType:r?r.getConfigration().languageType:"ch",isMobile:!!r&&r.getConfigration().isMobile},M.default.commonWhiteboard),r?r.getConfigration():void 0),r){var A=this.getWhiteboardViewState(i);if(this.whiteboardToolbarViewList[i]&&this.whiteboardToolbarViewList[i].receiveActionCommand&&A&&Object.keys(A.page).length&&Object.keys(A.zoom).length){var l={viewState:A,updateViewState:{}};this.whiteboardToolbarViewList[i].receiveActionCommand("viewStateUpdate",l)}}}else L.Logger.error(H.default.logType,"The resource file for the document tool bar is not loaded and can't be executed with TalkWhiteboardToolbar methods.")}},{key:"getWhiteboardViewState",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]getWhiteboardViewState ");var o=this.whiteboardViewMap.get(t);return o?o.getWhiteboardViewState():void 0}},{key:"getWhiteboardIntermediateLayerInstance",value:function(){return L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]getWhiteboardIntermediateLayerInstance "),I.default}},{key:"switchDocAddress",value:function(e,t,o,n){var i=1<arguments.length&&void 0!==t&&t,a=2<arguments.length&&void 0!==o&&o,r=3<arguments.length&&void 0!==n?n:"default";if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]call switchDocAddress method , docAddressKey is "+e),e&&"string"==typeof e){if(H.default.localStorageDocAddressKey=e,H.default.localStorageDocAddressKey&&""===R.default.getItem(H.default.docAddressList,H.default.localStorageDocAddressKey)&&""===R.default.getItem(H.default.laterAddressList,H.default.localStorageDocAddressKey)&&(H.default.protocol&&H.default.port&&(H.default.laterAddressList=[{protocol:H.default.protocol,hostname:H.default.localStorageDocAddressKey,port:H.default.port}]),H.default.docAddressList=[H.default.docAddress].concat(O(H.default.backupDocAddressList),O(H.default.laterAddressList))),H.default.docAddressKey!==e){var s=R.default.getItem(H.default.docAddressList,H.default.docAddressKey);H.default.docAddressKey=e,H.default.nowUseDocAddress=R.default.getItem(H.default.docAddressList,H.default.docAddressKey)||M.default.commonWhiteboard.docAddress,i&&this.setLocalStorageItem("tkDocAddressKey",H.default.docAddressKey);var A=this.whiteboardViewMap.get(r);A&&(A.reloadCurrentDocument(),A.sendActionCommand("docAddressUpdate",{docAddressList:[].concat(O(H.default.docAddressList)),docAddressKey:H.default.docAddressKey,oldDocAddress:s,nowDocAddress:H.default.docAddressList[H.default.docAddressKey]||M.default.commonWhiteboard.docAddress}))}else if(a){var l=this.whiteboardViewMap.get(r);l&&l.reloadCurrentDocument()}}else if(a){var c=this.whiteboardViewMap.get(r);c&&c.reloadCurrentDocument()}}},{key:"setLocalStorageItem",value:function(e,t){"mobile"===TK.SDKTYPE?this.room&&R.default.isFunction(this.room.setLocalStorageItem)&&this.room.setLocalStorageItem(e,t):R.default.setLocalStorageItem(e,t)}},{key:"getLocalStorageItem",value:function(e,t){if(R.default.isFunction(t))if("mobile"===TK.SDKTYPE){if(this.room&&R.default.isFunction(this.room.getLocalStorageItem))try{this.room.getLocalStorageItem(e,function(e){t(e)})}catch(e){L.Logger.error(H.default.logType,"[whiteboard-sdk]getLocalStorageItem error:",e)}}else t(R.default.getLocalStorageItem("tkDocAddressKey"))}},{key:"_executeSaveMsglistData",value:function(o){var n=this;this.saveMsglistData[o]&&this.whiteboardViewMap.get(o)&&(this.saveMsglistData[o].forEach(function(e,t){n.whiteboardViewMap.get(o).receiveEventRoomMsglist(e.name,e)}),delete this.saveMsglistData[o])}},{key:"_executeSavePubmsgData",value:function(o){var n=this;this.savePubmsgData[o]&&this.whiteboardViewMap.get(o)&&(this.savePubmsgData[o].forEach(function(e,t){n.whiteboardViewMap.get(o).receiveEventRoomPubmsg(e)}),delete this.savePubmsgData[o])}},{key:"_createWhiteboard",value:function(e,t,o,n){var i=0<arguments.length&&void 0!==e?e:document.body,a=1<arguments.length&&void 0!==t?t:"default",r=this,s=2<arguments.length&&void 0!==o?o:{},A=n;if(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_createWhiteboard  parentNode  instanceId  configration  and\treceiveActionCommand:",i,a,s,A),"string"==typeof i){var l=i;if(!(i=document.getElementById(l)))return void L.Logger.warning(H.default.logType,"The node id cannot be found by node id, and createWhiteboard method cannot be performed , element id is "+l+".")}this.pureWhiteboardFileinfoList[a]={fileid:0,companyid:"",filename:"whiteboard",uploaduserid:"",uploadusername:"",downloadpath:"",swfpath:"",filetype:"whiteboard",pagenum:1,dynamicppt:0,filecategory:0,fileprop:0};var c=void 0;this.awitWhiteboardConfigrationMap.has(a)?(c=this.awitWhiteboardConfigrationMap.get(a),this.awitWhiteboardConfigrationMap.delete(a)):c=Object.deepAssign({},M.default.defaultWhiteboard,M.default.commonWhiteboard);var d=Object.deepAssign({fullWhite:!1},c,s);this.whiteboardViewMap.has(a)&&this._destroyWhiteboard(a),this.whiteboardViewMap.set(a,new f.default(i,a,d,function(){var e;r.whiteboardToolbarViewList[a]&&r.whiteboardToolbarViewList[a].receiveActionCommand&&(e=r.whiteboardToolbarViewList[a]).receiveActionCommand.apply(e,arguments),"function"==typeof A&&A.apply(void 0,arguments)},this)),R.default.onElementResize(i,function(){r.updateWhiteboardSize(a)});var u=this.whiteboardViewMap.get(a);if(u&&u.getConfigration().isLoadWhiteboardToolBar){var h=u.getConfigration().whiteboardToolBarConfig.parentNode||u.getWhiteboardRootElement();this.createWhiteboardToolBar(h,u.getConfigration().whiteboardToolBarConfig,a)}}},{key:"_destroyWhiteboard",value:function(e){var t=0<arguments.length&&void 0!==e?e:"default";L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_destroyWhiteboard    instanceId  :",t),this.whiteboardViewMap.has(t)&&(this.whiteboardViewMap.get(t).destroyWhiteboardView(),this.whiteboardViewMap.delete(t)),this.awitWhiteboardConfigrationMap.has(t)&&this.awitWhiteboardConfigrationMap.delete(t)}},{key:"_isWhiteboardCorrelationSignalling",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_isWhiteboardCorrelationSignalling    name  :",e);var t=!1;switch(e){case"SharpsChange":case"ShowPage":case"ExtendShowPage":case"WBPageCount":case"ExtendWBPageCount":case"NewPptTriggerActionClick":case"ExtendNewPptTriggerActionClick":case"PptVolumeControl":case"ExtendPptVolumeControl":case"H5DocumentAction":case"ExtendH5DocumentAction":case"whiteboardMarkTool":case"ExtendWhiteboardMarkTool":t=!0}return t}},{key:"_windowResizeCallback",value:function(){var e=this;return L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_windowResizeCallback "),this.updateAllWhiteboardSize(),setTimeout(function(){e.updateAllWhiteboardSize(),setTimeout(function(){e.updateAllWhiteboardSize()},250)},50),!1}},{key:"_windowMessageCallback",value:function(e){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_windowMessageCallback"),e=e||window.event;var t=!0,o=!1,n=void 0;try{for(var i,a=this.whiteboardViewMap.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)i.value.receiveWindowMessageEvent(e)}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}var r=!0,s=!1,A=void 0;try{for(var l,c=Object.values(this.documentToolbarViewList)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value;d&&d.receiveWindowMessageEvent(e)}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}return!1}},{key:"_documentKeydownCallback",value:function(e){var t=this;switch(L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_documentKeydownCallback"),(e=e||window.event).keyCode){case 27:R.default.isFullScreenStatus()&&R.default.exitFullscreen()}function o(){if(!H.default.isSkipPageing&&t.whiteboardViewMap.has("default")&&t.whiteboardViewMap.get("default").getConfigration().isUseKeyboardPage&&!t.whiteboardViewMap.get("default").isWhiteboardTextEditing())switch(e.keyCode){case 37:t.whiteboardViewMap.get("default").prevPage();break;case 38:t.whiteboardViewMap.get("default").prevStep();break;case 39:t.whiteboardViewMap.get("default").nextPage();break;case 40:t.whiteboardViewMap.get("default").nextStep()}}return clearTimeout(this.documentKeydownTimer),this.documentKeydownDateTime&&500<(new Date).getTime()-this.documentKeydownDateTime?o():this.documentKeydownTimer=setTimeout(function(){o()},300),this.documentKeydownDateTime=(new Date).getTime(),!1}},{key:"_documentFullscreenchangeCallback",value:function(e){var t=this;L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_documentFullscreenchangeCallback");var o=!0,n=!1,i=void 0;try{for(var a,r=this.whiteboardViewMap.values()[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;if(R.default.isFullScreenStatus()){var A=s.getWhiteboardRootElement(),l=s.getConfigration().documentToolBarConfig.fullScreenElementId;l&&("string"==typeof l?document.getElementById(l)&&(A=document.getElementById(l)):A=l),R.default.getFullscreenElement()&&R.default.getFullscreenElement().id===A.id?s.changeFullScreenState(!0):s.changeFullScreenState(!1)}else s.changeFullScreenState(!1)}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}return this.videoPlayerView&&this.videoPlayerView.receiveEventFullScreenChange&&this.videoPlayerView.receiveEventFullScreenChange(e),this.updateAllWhiteboardSize(),setTimeout(function(){t.updateAllWhiteboardSize(),setTimeout(function(){t.updateAllWhiteboardSize()},250)},50),!1}},{key:"_registerEvent",value:function(){var e=this;L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_registerEvent"),R.default.addEvent(window,"resize",this._windowResizeCallback.bind(this)),R.default.addEvent(window,"message",this._windowMessageCallback.bind(this)),R.default.addEvent(document,"keyup",this._documentKeydownCallback.bind(this)),R.default.addFullscreenchange(this._documentFullscreenchangeCallback.bind(this));var t,o,n,i=((n=o=t=void 0)!==document.hidden?(t="hidden",n="visibilitychange",o="visibilityState"):void 0!==document.mozHidden?(t="mozHidden",n="mozvisibilitychange",o="mozVisibilityState"):void 0!==document.msHidden?(t="msHidden",n="msvisibilitychange",o="msVisibilityState"):void 0!==document.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange",o="webkitVisibilityState"),{hidden:t,state:o,visibilityChange:n}),a=i.state,r=i.visibilityChange;R.default.addEvent(document,r,function(){if("visible"===document[a])return e.updateAllWhiteboardSize(),setTimeout(function(){e.updateAllWhiteboardSize(),setTimeout(function(){e.updateAllWhiteboardSize()},250)},50),!1},!1)}},{key:"_addRoomEvent",value:function(){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_addRoomEvent"),this.room&&(this.room.removeBackupListerner&&this.room.removeBackupListerner(this.listernerBackupid),this.room.addEventListener("room-receiveActionCommand",this.reveiveEventRoomReceiveActionCommand.bind(this),this.listernerBackupid),this.room.addEventListener("room-pubmsg",this.receiveEventRoomPubmsg.bind(this),this.listernerBackupid),this.room.addEventListener("room-delmsg",this.receiveEventRoomDelmsg.bind(this),this.listernerBackupid),this.room.addEventListener("room-connected",this.receiveEventRoomConnected.bind(this),this.listernerBackupid),this.room.addEventListener("room-disconnected",this.receiveEventRoomDisconnected.bind(this),this.listernerBackupid),this.room.addEventListener("room-msglist",this.receiveEventRoomMsglist.bind(this),this.listernerBackupid),this.room.addEventListener("room-usermediastate-changed",this.reveiveEventRoomUsermediaorfilestateChanged.bind(this),this.listernerBackupid),this.room.addEventListener("room-userfilestate-changed",this.reveiveEventRoomUsermediaorfilestateChanged.bind(this),this.listernerBackupid),this.room.addEventListener("room-usermediaattributes-update",this.reveiveEventRoomUsermediaorfileattributesUpdate.bind(this),this.listernerBackupid),this.room.addEventListener("room-userfileattributes-update",this.reveiveEventRoomUsermediaorfileattributesUpdate.bind(this),this.listernerBackupid),this.room.addEventListener("room-error-notice",this.receiveEventRoomErrorNotice.bind(this),this.listernerBackupid))}},{key:"_forwardingStreamEvents",value:function(e,t){L.Logger.debug(H.default.logType,"[whiteboarrd-sdk]_forwardingStreamEvents handlerName and recvEventData:",e,t),this.audioPlayerView&&this.audioPlayerView[e]&&R.default.isFunction(this.audioPlayerView[e])&&this.audioPlayerView[e](t),this.videoPlayerView&&this.videoPlayerView[e]&&R.default.isFunction(this.videoPlayerView[e])&&this.videoPlayerView[e](t)}}]),s);function s(e,t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.className="TKWhiteBoardManagerInner",this.isInner=o,this.room=e,this.sdkReceiveActionCommand=t,this.whiteboardViewMap=new Map,this.awitWhiteboardConfigrationMap=new Map,this.randomCreateExtendWhiteboardNumber=0,this.audioPlayerView=void 0,this.videoPlayerView=void 0,this.documentRemarkViewList={},this.documentToolbarViewList={},this.whiteboardToolbarViewList={},this.listernerBackupid=(new Date).getTime()+"_"+Math.random(),this.pureWhiteboardFileinfoList={},this.saveMsglistData={},this.savePubmsgData={},this._registerEvent(),this._addRoomEvent()}var h=["createMainWhiteboard","destroyMainWhiteboard","createExtendWhiteboard","destroyExtendWhiteboard","changeWhiteBoardConfigration","useWhiteboardTool","addPage","nextPage","prevPage","skipPage","nextStep","prevStep","enlargeWhiteboard","narrowWhiteboard","clear","undo","redo","fullScreen","exitFullScreen","resetWhiteboardData","updateWhiteboardSize","updateAllWhiteboardSize","resetAllWhiteboardData","resetPureWhiteboardTotalPage","changeDynamicPptVolume","openDocumentRemark","closeDocumentRemark","getWhiteboardIntermediateLayerInstance","changeCommonWhiteBoardConfigration","registerRoomDelegate","changeDocument","stopShareLocalMedia","switchDocAddress","getVersion","openRemoteDocument","noticeWhiteboardActionCommand"],p=["createMainWhiteboard","destroyMainWhiteboard","changeDocument","changeWhiteBoardConfigration","useWhiteboardTool","addPage","nextPage","prevPage","skipPage","nextStep","prevStep","enlargeWhiteboard","narrowWhiteboard","clear","undo","redo","fullScreen","exitFullScreen","resetWhiteboardData","registerRoomDelegate","changeCommonWhiteBoardConfigration","getVersion","openRemoteDocument","noticeWhiteboardActionCommand"];function A(e,t,o){function n(e){i[e]=function(){return a[e].apply(a,arguments)}}var i={className:"TKWhiteBoardManager"},a=new u(e,t,o),r=o?h:p,s=!0,A=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){n(c.value)}}catch(e){A=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(A)throw l}}return i}window.TKWhiteBoardManager=A,o.TKWhiteBoardManager=A,o.default=A},{"./intermediateLayer/WhiteboardIntermediateLayer":337,"./utils/Configuration":338,"./utils/Constant":339,"./utils/Global":341,"./utils/Utils":345,"./view/containers/AudioPlayer":350,"./view/containers/DocumentRemark":351,"./view/containers/DocumentToolbar":352,"./view/containers/VideoPlayer":354,"./view/containers/WhiteboardToolbar":355,"./view/containers/WhiteboardView":356}],335:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var _=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,r=e("../utils/Global"),C=(a=r)&&a.__esModule?a:{default:a};function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.defaultProductionOptions={synchronizationDynamicPpt:!0,dynamicPptActionClick:!0,maxForceReloadNumber:10,forceReloadInterval:6e4,languageType:"ch"},this.dynamicPptInstanceIDPrefix="dynamicPpt_",this.dynamicPptInstanceDefaultID="dynamicPpt_default",this.dynamicPptInstanceStore={},this.uniqueDynamicPpt=!1,this.specialDynamicPptInstanceIDPrefix="specialDynamicPptInstanceIDPrefix_"}var A=new(n(s,[{key:"productionDynamicPpt",value:function(e){var t=this,o=0<arguments.length&&void 0!==e?e:{},n=o.dynamicPptElementId,i=o.productionOptions,a=void 0===i?{}:i,r=o.handler,s=void 0===r?{}:r,A=o.id;if(n){var l=this._getDynamicPptInstanceID(A),c=this.getDynamicPptInstanceByID(l);if(c)return L.Logger.error(C.default.logType,"The production dynamicPpt(dynamicPptInstanceID:"+l+") fails, the dynamicPpt already exists!"),c;c={},a=Object.deepAssign({},this.defaultProductionOptions,a);var d=document.getElementById(n);if(!d)return L.Logger.error(C.default.logType,"DynamicPpt elements do not exist , element id is:"+n+"!"),c;var u=document.createElement("div"),h=n+"_dynamicPptInstance";u.className="dynamicPpt-instance-element",u.id=h,u.style.width="100%",u.style.height="100%";var f=document.createElement("iframe"),p=n+"_dynamicPptIframe";f.className="dynamicPpt-iframe-element",f.id=p,f.name=n+"_dynamicPptIframeName",f.allowFullScreen=!0,f.frameborder=0,f.scrolling="no",f.allow="autoplay",f.width="100%",f.height="100%",f.style.width="100%",f.style.height="100%",f.style.border="none",f.style.padding="0",f.style.margin="0",u.appendChild(f);var g=document.createElement("div"),m=n+"_dynamicPptLoading";g.className="dynamicPpt-loading-element talkcloud-loading",g.id=m;var y=document.createElement("span");y.className="tk-loading-reload-number",y.style.display="none",g.appendChild(y),u.appendChild(g);var v=document.createElement("div"),w=n+"_dynamicPptAction";return v.className="dynamicPpt-action-element talkcloud-action",v.style.width="100%",v.style.height="100%",v.style.zIndex=98,v.style.display=a.dynamicPptActionClick?"none":"block",v.style.position="absolute",v.style.top="0",v.style.left="0",v.id=w,u.appendChild(v),u.appendChild(v),d.appendChild(u),(this.dynamicPptInstanceStore[l]=c).dynamicPptInstanceID=l,c.handler={},c.handler.sendSignallingToServer=s.sendSignallingToServer,c.handler.delSignallingToServer=s.delSignallingToServer,c.handler.receiveActionCommandCallback=s.receiveActionCommandCallback,c.dynamicPptElementId=n,c.dynamicPptElement=d,c.dynamicPptInstanceElementId=h,c.dynamicPptInstanceElement=u,c.dynamicPptIframeElementId=p,c.dynamicPptIframeElement=f,c.dynamicPptLoadingElementId=m,c.dynamicPptLoadingElement=g,c.dynamicPptReloadNumberElement=y,c.dynamicPptActionElementId=w,c.dynamicPptActionElement=v,c.id=A,c.remoteData={},c.awitExecutePostMessageArray=[],c.dynamicPptActionJson={},c.associatedMsgID=a.associatedMsgID,c.associatedUserID=a.associatedUserID,c.synchronizationDynamicPpt=a.synchronizationDynamicPpt,c.dynamicPptActionClick=a.dynamicPptActionClick,c.forceReloadNumber=0,c.maxForceReloadNumber=a.maxForceReloadNumber,c.forceReloadInterval=a.forceReloadInterval,c.isShowReloadFileTip=a.isShowReloadFileTip,c.languageType=a.languageType,c.isMeeting=a.isMeeting,c.againreconnectNum=0,a.againreconnectElementParentNode&&(c.againreconnectElementParentNode=a.againreconnectElementParentNode),c.dynamicPptIframeElement.onload=function(){clearTimeout(c.forceReloadNumberTimer),c.forceReloadNumberTimer=null,c.forceReloadNumber<c.maxForceReloadNumber&&t._iframeReloadMonitor(c,"dynamicPptLoaded")},c}L.Logger.error(C.default.logType,"dynamicPptElementId is required!")}},{key:"destroyDynamicPptInstance",value:function(e){var t=this.getDynamicPptInstanceByID(e);t?this._destroyDynamicPptInstance(t):L.Logger.error(C.default.logType,"[destroy]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"receiveWindowMessageEvent",value:function(e,t){var o=this.getDynamicPptInstanceByID(e);o?t.source===o.dynamicPptIframeElement.contentWindow&&this._receiveWindowMessageEvent(e,o,t):L.Logger.error(C.default.logType,"[receiveWindowMessageEvent]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"changeDynamicPptSize",value:function(e){var t=this,o=this.getDynamicPptInstanceByID(e);if(o){var n={action:"resizeHandler",width:o.dynamicPptElement.clientWidth,height:o.dynamicPptElement.clientHeight};this._postMessage(o,n),setTimeout(function(){var e={action:"resizeHandler",width:o.dynamicPptElement.clientWidth,height:o.dynamicPptElement.clientHeight};t._postMessage(o,e)},250)}else L.Logger.error(C.default.logType,"[changeDynamicPptSize]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"hasDynamicPptById",value:function(e){var t=this.getDynamicPptInstanceByID(e);return null!=t}},{key:"setDynamicPptIframeSrc",value:function(e,t,o,n,i){var a=2<arguments.length&&void 0!==o?o:{},r=3<arguments.length&&void 0!==n?n:{},s=4<arguments.length&&void 0!==i?i:{},A=this.getDynamicPptInstanceByID(e);if(A){var l="";A.isLoadFinished=!1,A.awitExecutePostMessageArray.length=0,clearTimeout(A.forceReloadNumberTimer),A.forceReloadNumberTimer=null,A.forceReloadNumber=s.forceReloadNumber||0;var c=r.fileid,d=r.pptslide,u=r.pptstep;if(A.playback=s.playback,A.againreconnectElement&&(A.againreconnectElement.parentNode&&A.againreconnectElement.parentNode.removeChild(A.againreconnectElement),A.againreconnectElement=void 0),c==A.fileid&&t&&s.isAgainreconnect||(A.againreconnectNum=0),A.fileid=c,A.awitJumpToAnimPptslide=d,A.awitJumpToAnimPptstep=u,a.isClientPlayAudio=!0,t){l=t;var h=!1,f=!0,p=!1,g=void 0;try{for(var m,y=Object.entries(a)[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var v=m.value,w=_(v,2),b=w[0],B=w[1];null!=B&&(h?l+="&"+b+"="+B:(h=!0,l+=(/\?/g.test(l)?"&":"?")+b+"="+B))}}catch(e){p=!0,g=e}finally{try{!f&&y.return&&y.return()}finally{if(p)throw g}}A.iframeSrc=l,this._showLoading(A),this._iframeReloadMonitor(A,"setDynamicPptIframeSrc")}else A.iframeSrc=l;s.isAgainreconnect&&(A.dynamicPptIframeElement.src=""),A.dynamicPptIframeElement.src=l,L.Logger.debug(C.default.logType,"set dynamic ppt src:",l)}else L.Logger.error(C.default.logType,"[setDynamicPptIframeSrc]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"getIframeSrc",value:function(e){var t=this.getDynamicPptInstanceByID(e);if(t)return t.iframeSrc;L.Logger.error(C.default.logType,"[getIframeSrc]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"jumpToAnimation",value:function(e,t,o,n,i,a){var r=this.getDynamicPptInstanceByID(e);r?this._jumpToAnimation(r,t,o,n,i,a):L.Logger.error(C.default.logType,"[jumpToAnimation]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"nextSlide",value:function(e,t){var o=this.getDynamicPptInstanceByID(e);o?o.isLoadFinished?o.remoteData&&o.remoteData.pptslide>=o.remoteData.pptslidesCount?L.Logger.warning(C.default.logType,"[nextPage]dynamic ppt is on the last page , cannot execute nextPage method."):this._postMessage(o,{action:"gotoNextSlide",autoStart:t}):L.Logger.info(C.default.logType,"[nextPage]dynamic ppt is not load finished  , cannot execute nextPage method"):L.Logger.error(C.default.logType,"[nextPage]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"prevSlide",value:function(e,t){var o=this.getDynamicPptInstanceByID(e);o?o.isLoadFinished?o.remoteData&&o.remoteData.pptslide<=1?L.Logger.warning(C.default.logType,"[prevPage]dynamic ppt is  on page 1 , cannot execute prevPage method."):this._postMessage(o,{action:"gotoPreviousSlide",autoStart:t}):L.Logger.info(C.default.logType,"[prevPage]dynamic ppt is not load finished  , cannot execute prevPage method"):L.Logger.error(C.default.logType,"[prevPage]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"nextStep",value:function(e){var t=this.getDynamicPptInstanceByID(e);t?t.isLoadFinished?this._postMessage(t,{action:"gotoNextStep"}):L.Logger.info(C.default.logType,"[nextStep]dynamic ppt is not load finished  , cannot execute nextStep method"):L.Logger.error(C.default.logType,"[nextStep]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"prevStep",value:function(e){var t=this.getDynamicPptInstanceByID(e);t?t.isLoadFinished?this._postMessage(t,{action:"gotoPreviousStep"}):L.Logger.info(C.default.logType,"[prevStep]dynamic ppt is not load finished  , cannot execute prevStep method"):L.Logger.error(C.default.logType,"[prevStep]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"updateDynamicPptProperty",value:function(e,t){var o=this.getDynamicPptInstanceByID(e);o?(void 0!==t.associatedMsgID&&(o.associatedMsgID=t.associatedMsgID),void 0!==t.associatedUserID&&(o.associatedUserID=t.associatedUserID),void 0!==t.synchronizationDynamicPpt&&(o.synchronizationDynamicPpt=t.synchronizationDynamicPpt,this._postMessage(o,{action:"changePublishDynamicPptMediaPermission_video",publishDynamicPptMediaPermission_video:o.synchronizationDynamicPpt})),void 0!==t.dynamicPptActionClick&&(o.dynamicPptActionClick=t.dynamicPptActionClick,o.dynamicPptActionElement.style.display=o.dynamicPptActionClick?"none":"block",this._postMessage(o,{action:"changeDynamicPptActionClick",dynamicPptActionClick:o.dynamicPptActionClick})),void 0!==t.canPage&&this._postMessage(o,{action:"changeNewpptPagingPage",newpptPagingPage:t.canPage}),void 0!==t.isShowReloadFileTip&&(o.isShowReloadFileTip=t.isShowReloadFileTip),void 0!==t.languageType&&(o.languageType=t.languageType,this._isShowReloadFileShowReloadNumber(o),o.againreconnectElement&&this._setAgainreconnectInfo(o))):L.Logger.error(C.default.logType,"[updateDynamicPptProperty]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"postMessageDynamicPptTriggerAction",value:function(e,t){var o=this.getDynamicPptInstanceByID(e);if(o){var n=t.slide,i=t.fileid;o.fileid!=i||o.remoteData.pptslide!==n+1?(o.dynamicPptActionJson[n+1]=o.dynamicPptActionJson[n+1]||[],o.dynamicPptActionJson[n+1].push(t)):this._postMessage(o,t)}else L.Logger.error(C.default.logType,"[postMessageDynamicPptTriggerAction]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"postMessage",value:function(e,t){var o=this.getDynamicPptInstanceByID(e);o?this._postMessage(o,t):L.Logger.error(C.default.logType,"[postMessage]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"isLoadFinished",value:function(e){var t=this.getDynamicPptInstanceByID(e);if(t)return t.isLoadFinished;L.Logger.error(C.default.logType,"[isLoadFinished]There are no dynamic ppt Numbers that belong to id "+e)}},{key:"getDynamicPptInstanceByID",value:function(e){var t=this._getDynamicPptInstanceID(e);return this.dynamicPptInstanceStore[t]}},{key:"_jumpToAnimation",value:function(e,t,o,n,i,a){e.isLoadFinished&&(e.remoteData.pptslide>e.remoteData.pptslidesCount||e.remoteData.pptslide<1)&&(e.remoteData.pptslide>e.remoteData.pptslidesCount&&(t=e.remoteData.pptslidesCount,e.remoteData.pptslide=e.remoteData.pptslidesCount),e.remoteData.pptslide<1&&(t=1,e.remoteData.pptslide=1),e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("dynamicPptSlideChange",{id:e.id,updateFileData:{pptslide:e.remoteData.pptslide,pptstep:e.remoteData.pptstep,currpage:e.remoteData.pptslide,steptotal:e.remoteData.pptstepTotal,fileid:e.fileid,pagenum:e.remoteData.pptslidesCount}}));var r={action:"jumpToAnim",data:{slide:t,step:o,timeOffset:i,autoStart:a,initiative:n}};this._postMessage(e,r)}},{key:"_postMessage",value:function(e,t){if(e.isLoadFinished)try{if(e.dynamicPptIframeElement&&e.dynamicPptIframeElement.src){var o={source:"tk_dynamicPPT",data:t};o=JSON.stringify(o),e.dynamicPptIframeElement&&e.dynamicPptIframeElement.contentWindow&&e.dynamicPptIframeElement.contentWindow.postMessage&&(L.Logger.debug(C.default.logType,"[_postMessage]dynamic ppt postMessage instanceId is "+e.id+",sendData:"+o),e.dynamicPptIframeElement.contentWindow.postMessage(o,"*"))}}catch(e){L.Logger.error(C.default.logType,"[_postMessage] dynamic ppt postMessage error:",e)}else e.awitExecutePostMessageArray.push(t)}},{key:"_showLoading",value:function(e){e.dynamicPptLoadingElement.style.display="block",this._isShowReloadFileShowReloadNumber(e)}},{key:"_hideLoading",value:function(e){e.dynamicPptLoadingElement.style.display="none",this._isShowReloadFileShowReloadNumber(e)}},{key:"_getDynamicPptInstanceID",value:function(e){var t=this.uniqueDynamicPpt||null==e?this.dynamicPptInstanceDefaultID:this.dynamicPptInstanceIDPrefix+e;return e&&"string"==typeof e&&new RegExp(this.specialDynamicPptInstanceIDPrefix,"g").test(e)&&(t=e),t}},{key:"_destroyDynamicPptInstance",value:function(e){var t=e.dynamicPptInstanceID,o=e.dynamicPptElement;o?o.innerHTML="":L.Logger.warning(C.default.logType,"[destroy] dynamicPpt elements do not exist , element id is:"+e.dynamicPptElementId+"!");var n=!0,i=!1,a=void 0;try{for(var r,s=Object.keys(e)[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var A=r.value;e[A]=null,delete e[A]}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}this.dynamicPptInstanceStore[t]=null,delete this.dynamicPptInstanceStore[t]}},{key:"_receiveWindowMessageEvent",value:function(e,t,o){var n=this;if(o.data){var i=void 0,a=void 0;try{i=(a=JSON.parse(o.data)).data}catch(e){return void L.Logger.warning(C.default.logType,"dynamic ppt receive iframe message data can't be converted to JSON , iframe data:",o.data)}if(a&&"tk_dynamicPPT"===a.source)switch(L.Logger.debug(C.default.logType,"[dynamicPpt]receive remote iframe data form "+o.origin+":",o),i.action){case"initEvent":this._handleIframeMessage_initEvent(t,i);break;case"slideChangeEvent":case"stepChangeEvent":this._handleIframeMessage_slideOrStepChangeEvent(t,i,i.action);break;case"autoPlayVideoInNewPpt":this._handleIframeMessage_autoPlayVideoInNewPpt(t,i);break;case"clinetAudioPlayer":this._handleIframeMessage_autoPlayAudioInNative(t,i);break;case"clickNewpptTriggerEvent":this._handleIframeMessage_clickNewpptTriggerEvent(e,t,i);break;case"allVideoAndAudio":case"clickLink":break;case"againReconnect":if(L.Logger.warning(C.default.logType,"[dynamic ppt]again reconnect info from dynamic ppt inner, again reconnect number is "+t.againreconnectNum),t.againreconnectNum++,t.againreconnectNum<=1)t.handler&&t.handler.receiveActionCommandCallback&&t.handler.receiveActionCommandCallback("reloadCurrentDocument",{id:t.id,iframeSrc:t.iframeSrc,fileid:t.fileid,forceReloadNumber:t.forceReloadNumber,isAgainreconnect:!0});else{if(t.againreconnectElement&&t.againreconnectElement.parentNode&&t.againreconnectElement.parentNode.removeChild(t.againreconnectElement),t.playback)return;t.againreconnectElement=document.createElement("div"),t.againreconnectElement.className="againreconnect-container";var r=document.createElement("div");r.className="againreconnect-box";var s=document.createElement("span");s.className="top-box title";var A=document.createElement("span");A.className="middle-box point-icon";var l=document.createElement("span");l.className="bottom-box ok-container";var c=document.createElement("button");c.className="ok-btn",c.onclick=function(){n._postMessage(t,{action:"userTriggerAudio"}),t.againreconnectElement&&t.againreconnectElement.parentNode&&t.againreconnectElement.parentNode.removeChild(t.againreconnectElement),t.againreconnectElement=void 0},c.ontouchend=function(){n._postMessage(t,{action:"userTriggerAudio"}),t.againreconnectElement&&t.againreconnectElement.parentNode&&t.againreconnectElement.parentNode.removeChild(t.againreconnectElement),t.againreconnectElement=void 0},l.appendChild(c),r.appendChild(s),r.appendChild(A),r.appendChild(l),t.againreconnectElement.appendChild(r),(t.againreconnectElementParentNode||t.dynamicPptInstanceElement).appendChild(t.againreconnectElement),this._setAgainreconnectInfo(t)}}}}},{key:"_handleIframeMessage_initEvent",value:function(e,t){if(clearTimeout(e.forceReloadNumberTimer),e.forceReloadNumberTimer=null,e.remoteData.pptview=t.view,e.remoteData.pptslidesCount=t.slidesCount,e.remoteData.pptslide=t.slide+1,e.remoteData.pptstep=t.step,e.remoteData.pptstepTotal=t.stepTotal,e.handler&&e.handler.receiveActionCommandCallback&&(e.handler.receiveActionCommandCallback("dynamicPptSlideChange",{id:e.id,updateFileData:{pptslide:e.remoteData.pptslide,pptstep:e.remoteData.pptstep,currpage:e.remoteData.pptslide,steptotal:e.remoteData.pptstepTotal,fileid:e.fileid,pagenum:e.remoteData.pptslidesCount}}),e.handler.receiveActionCommandCallback("updateWhiteboardWatermarkImageScale",{id:e.id,scale:e.remoteData.pptview.width/e.remoteData.pptview.height}),e.handler.receiveActionCommandCallback("dynamicPptLoadEnd",{id:e.id,scale:e.remoteData.pptview.width/e.remoteData.pptview.height,reloadNumber:e.forceReloadNumber,success:!0})),e.isLoadFinished||(e.isLoadFinished=!0,void 0!==e.awitJumpToAnimPptslide&&(this._jumpToAnimation(e,e.awitJumpToAnimPptslide,e.awitJumpToAnimPptstep),e.awitJumpToAnimPptslide=void 0,e.awitJumpToAnimPptstep=void 0,delete e.awitJumpToAnimPptslide,delete e.awitJumpToAnimPptstep)),e.awitExecutePostMessageArray&&0<e.awitExecutePostMessageArray.length){var o=!0,n=!1,i=void 0;try{for(var a,r=e.awitExecutePostMessageArray[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;this._postMessage(e,s)}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}e.awitExecutePostMessageArray.length=0,this._hideLoading(e)}},{key:"_handleIframeMessage_slideOrStepChangeEvent",value:function(e,t,o){if(e.remoteData.pptslide=t.slide+1,e.remoteData.pptstep=t.step,e.remoteData.pptstepTotal=t.stepTotal,e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("slideChangeEvent"===o?"dynamicPptSlideChange":"dynamicPptStepChange",{id:e.id,updateFileData:{pptslide:e.remoteData.pptslide,pptstep:e.remoteData.pptstep,currpage:e.remoteData.pptslide,steptotal:e.remoteData.pptstepTotal,fileid:e.fileid,pagenum:e.remoteData.pptslidesCount}}),0<Object.keys(e.dynamicPptActionJson).length&&e.dynamicPptActionJson[e.remoteData.pptslide]&&0!==e.dynamicPptActionJson[e.remoteData.pptslide].length){var n=!0,i=!1,a=void 0;try{for(var r,s=e.dynamicPptActionJson[e.remoteData.pptslide][Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var A=r.value;this._postMessage(e,A)}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}e.dynamicPptActionJson[e.remoteData.pptslide].length=0,delete e.dynamicPptActionJson[e.remoteData.pptslide]}t.externalData&&t.externalData.initiative&&(this._sendSignalling_ShowPage(e,{data:{action:"slideChangeEvent"===o?"slide":"step"}}),e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("closeAllSelectBox",{id:e.id}))}},{key:"_handleIframeMessage_autoPlayVideoInNewPpt",value:function(e,t){if(e.handler&&e.handler.receiveActionCommandCallback){var o=t.isvideo,n=t.url,i=t.fileid,a={id:e.id,url:n,video:o,audio:!0,attributes:{source:"dynamicPPT",filename:"",fileid:i}};e.handler.receiveActionCommandCallback("publishDymanicPptNetworkMedia",a)}}},{key:"_handleIframeMessage_autoPlayAudioInNative",value:function(e,t){if(e.handler&&e.handler.receiveActionCommandCallback){var o=t.isPlay,n=t.url,i=t.fileid,a=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(t,["isPlay","url","fileid"]),r={id:e.id,url:n,isPlay:o,audio:!0,attributes:{source:"dynamicPPT",filename:"",fileid:i,type:"audio",other:a,currentPage:e.remoteData.pptslide}};e.handler.receiveActionCommandCallback("publishDymanicPptNetworkAudio",r)}}},{key:"_handleIframeMessage_clickNewpptTriggerEvent",value:function(e,t,o){o.externalData&&o.externalData.initiative&&(o.fileid=t.fileid,o.sourceInstanceId=e,this._sendSignallingToServer(t,{name:"default"===e?"NewPptTriggerActionClick":"ExtendNewPptTriggerActionClick",id:"default"===e?"NewPptTriggerActionClick":"NewPptTriggerActionClick_"+e,toID:"__allExceptSender",data:o}),t.handler&&t.handler.receiveActionCommandCallback&&t.handler.receiveActionCommandCallback("closeAllSelectBox",{id:t.id}))}},{key:"_sendSignallingToServer",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.name,i=o.id,a=o.toID,r=void 0===a?"__all":a,s=o.data,A=o.do_not_save,l=o.expiresabs,c=o.associatedMsgID,d=o.associatedUserID;e.handler&&e.handler.sendSignallingToServer&&(c=c||e.associatedMsgID,d=d||e.associatedUserID,e.handler.sendSignallingToServer(n,i,r,s,A,l,c,d))}},{key:"_iframeReloadMonitor",value:function(e,t){var o=this;clearTimeout(e.forceReloadNumberTimer),e.forceReloadNumberTimer=null,e.iframeSrc&&!e.isLoadFinished&&(e.forceReloadNumber<e.maxForceReloadNumber?e.forceReloadNumberTimer=setTimeout(function(){e.iframeSrc&&!e.isLoadFinished&&e.forceReloadNumber<e.maxForceReloadNumber&&(e.forceReloadNumber++,o._isShowReloadFileShowReloadNumber(e),e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("reloadDynamicPptIframeSrc",{id:e.id,iframeSrc:e.iframeSrc,source:t,fileid:e.fileid,forceReloadNumber:e.forceReloadNumber}))},e.forceReloadInterval):e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("reloadDynamicPptFail",{id:e.id,forceReloadNumber:e.maxForceReloadNumber,success:!1}))}},{key:"_sendSignalling_ShowPage",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("sendSignalling_ShowPage",{id:e.id,updatePubmsgData:o})}},{key:"_isShowReloadFileShowReloadNumber",value:function(e){e.dynamicPptReloadNumberElement.style.display=e.isShowReloadFileTip&&e.forceReloadNumber?"inline-table":"none";var t="å½“å‰ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨å°è¯•é‡æ–°æ‰“å¼€è¯¾ä»¶â€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡";if(e.isMeeting)switch(e.languageType){case"tw":t="å½“å‰ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨å°è¯•é‡æ–°æ‰“å¼€ç´ æâ€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡";break;case"en":t="The network is unstable , Trying to reopen the courseware ..."+e.forceReloadNumber;break;default:t="å½“å‰ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨å°è¯•é‡æ–°æ‰“å¼€ç´ æâ€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡"}else switch(e.languageType){case"tw":t="ç•¶å‰ç¶²çµ¡ä¸ç©©å®šï¼Œæ­£åœ¨å˜—è©¦é‡æ–°æ‰“é–‹èª²ä»¶â€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡";break;case"en":t="The network is unstable , Trying to reopen the courseware ..."+e.forceReloadNumber;break;case"ja":t="ãƒãƒƒãƒˆãŒä¸å®‰å®šã§ã™ã€æ•™æã‚’é–‹ããªãŠã—ã¦ã„ã¾ã™"+e.forceReloadNumber+"æ¬¡"}e.dynamicPptReloadNumberElement.innerHTML=t||""}},{key:"_setAgainreconnectInfo",value:function(e){if(e.againreconnectElement){var t=e.againreconnectElement.getElementsByClassName("top-box")[0],o=e.againreconnectElement.getElementsByClassName("ok-btn")[0];if(t||o){var n="åŠ è½½æœ‰ç‚¹æ…¢......",i="ç‚¹æ­¤ç»§ç»­";switch(e.languageType){case"tw":n="åŠ è¼‰æœ‰é»žæ…¢......",i="é»žæ­¤ç¹¼çºŒ";break;case"en":n="Loading a bit slow...",i="Click to continue";break;case"ja":n="ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã¾ã™ã€‚...",i="ç¶šè¡Œã™ã‚‹"}t&&(t.innerHTML=n),o&&(o.innerHTML=i)}}}}]),s);o.default=A},{"../utils/Global":341}],336:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=a(e("../utils/Global"));a(e("../utils/DomUtils"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.defaultProductionOptions={synchronizationH5Document:!0,h5DocumentActionClick:!0,maxForceReloadNumber:10,forceReloadInterval:6e4,languageType:"ch"},this.h5DocumentInstanceIDPrefix="h5Document_",this.h5DocumentInstanceDefaultID="h5Document_default",this.h5DocumentInstanceStore={},this.uniqueH5Document=!1,this.specialH5DocumentInstanceIDPrefix="specialH5DocumentInstanceIDPrefix_",this.isH5MediaOutputDominant=!1}var s=new(n(r,[{key:"productionH5Document",value:function(e){var t=this,o=0<arguments.length&&void 0!==e?e:{},n=o.h5DocumentElementId,i=o.productionOptions,a=void 0===i?{}:i,r=o.handler,s=void 0===r?{}:r,A=o.id,l=o.getWhiteboardRootElement;if(n){var c=this._getH5DocumentInstanceID(A),d=this.getH5DocumentInstanceByID(c);if(d)return L.Logger.error(_.default.logType,"The production h5Document(h5DocumentInstanceID:"+c+") fails, the h5Document already exists!"),d;d={},a=Object.deepAssign({},this.defaultProductionOptions,a);var u=document.getElementById(n);if(!u)return L.Logger.error(_.default.logType,"H5Document elements do not exist , element id is:"+n+"!"),d;var h=document.createElement("div"),f=n+"_h5DocumentInstance";h.className="h5Document-instance-element",h.id=f,h.style.width="100%",h.style.height="100%";var p=document.createElement("iframe"),g=n+"_h5DocumentIframe";p.className="h5Document-iframe-element",p.id=g,p.name=n+"_h5DocumentIframeName",p.allowFullScreen=!0,p.allow="autoplay",p.frameborder=0,p.scrolling="no",p.width="1px",p.height="100%",p.style.width="1px",p.style.minWidth="100%",p.style.height="100%",p.style.border="none",p.style.padding="0",p.style.margin="0",h.appendChild(p);var m=document.createElement("div"),y=n+"_h5DocumentLoading";m.className="h5Document-loading-element talkcloud-loading",m.id=y;var v=document.createElement("span");v.className="tk-loading-reload-number",v.style.display="none",m.appendChild(v),h.appendChild(m);var w=document.createElement("div"),b=n+"_h5DocumentAction";return w.className="h5Document-action-element talkcloud-action",w.style.width="100%",w.style.height="100%",w.style.zIndex=98,w.style.display=a.h5DocumentActionClick?"none":"block",w.style.position="absolute",w.style.top="0",w.style.left="0",w.id=b,h.appendChild(w),h.appendChild(w),u.appendChild(h),(this.h5DocumentInstanceStore[c]=d).h5DocumentInstanceID=c,d.handler={},d.handler.sendSignallingToServer=s.sendSignallingToServer,d.handler.delSignallingToServer=s.delSignallingToServer,d.handler.receiveActionCommandCallback=s.receiveActionCommandCallback,d.h5DocumentElementId=n,d.h5DocumentElement=u,d.h5DocumentInstanceElementId=f,d.h5DocumentInstanceElement=h,d.h5DocumentIframeElementId=g,d.h5DocumentIframeElement=p,d.h5DocumentLoadingElementId=y,d.h5DocumentLoadingElement=m,d.h5DocumentReloadNumberElement=v,d.h5DocumentActionElementId=b,d.h5DocumentActionElement=w,d.id=A,d.awitExecutePostMessageArray=[],d.h5DocumentActionJson={},d.associatedMsgID=a.associatedMsgID,d.associatedUserID=a.associatedUserID,d.synchronizationH5Document=a.synchronizationH5Document,d.h5DocumentActionClick=a.h5DocumentActionClick,d.forceReloadNumber=0,d.maxForceReloadNumber=a.maxForceReloadNumber,d.forceReloadInterval=a.forceReloadInterval,d.isShowReloadFileTip=a.isShowReloadFileTip,d.languageType=a.languageType,d.isMeeting=a.isMeeting,d.isH5MediaOutputDominant=a.isH5MediaOutputDominant,this.isH5MediaOutputDominant=a.isH5MediaOutputDominant,d.h5DocumentIframeElement.onload=function(){clearTimeout(d.forceReloadNumberTimer),d.forceReloadNumberTimer=null,d.forceReloadNumber<d.maxForceReloadNumber&&t._iframeReloadMonitor(d,"h5DocumentLoaded")},this.getWhiteboardRootElement=l,d}L.Logger.error(_.default.logType,"h5DocumentElementId is required!")}},{key:"destroyH5DocumentInstance",value:function(e){var t=this.getH5DocumentInstanceByID(e);t?this._destroyH5DocumentInstance(t):L.Logger.error(_.default.logType,"[destroy]There are no h5 document Numbers that belong to id "+e)}},{key:"receiveWindowMessageEvent",value:function(e,t){var o=this.getH5DocumentInstanceByID(e);o?t.source===o.h5DocumentIframeElement.contentWindow&&this._receiveWindowMessageEvent(e,o,t):L.Logger.error(_.default.logType,"[receiveWindowMessageEvent]There are no h5 document Numbers that belong to id "+e)}},{key:"hasH5DocumentById",value:function(e){var t=this.getH5DocumentInstanceByID(e);return null!=t}},{key:"setH5DocumentIframeSrc",value:function(e,t,o,n,i){var a=2<arguments.length&&void 0!==o?o:{},r=3<arguments.length&&void 0!==n?n:{},s=4<arguments.length&&void 0!==i?i:{},A=this.getH5DocumentInstanceByID(e),l=A.h5DocumentInstanceElement;if(A){var c="";A.isLoadFinished=!1,A.isReceivePagenum=!1,clearTimeout(A.h5DocumentActionTimer),clearTimeout(A.forceReloadNumberTimer),A.forceReloadNumberTimer=null,A.forceReloadNumber=s.forceReloadNumber||0;var d=r.fileid;if(A.fileid=d,t){l.contains(A.h5DocumentIframeElement)||l.appendChild(A.h5DocumentIframeElement),c=t;var u=!1,h=!0,f=!1,p=void 0;try{for(var g,m=Object.entries(a)[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value,v=B(y,2),w=v[0],b=v[1];u?c+="&"+w+"="+b:(u=!0,c+=(/\?/g.test(c)?"&":"?")+w+"="+b)}}catch(e){f=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(f)throw p}}A.iframeSrc=c,this._showLoading(A),this._iframeReloadMonitor(A,"setH5DocumentIframeSrc")}else c="about:blank",l.contains(A.h5DocumentIframeElement)&&(A.h5DocumentIframeElement=l.removeChild(A.h5DocumentIframeElement)),A.iframeSrc=c,this._hideLoading(A);A.h5DocumentIframeElement.src=c,L.Logger.debug(_.default.logType,"set h5 document src:",c)}else L.Logger.error(_.default.logType,"[setH5DocumentIframeSrc]There are no h5 document Numbers that belong to id "+e)}},{key:"getIframeSrc",value:function(e){var t=this.getH5DocumentInstanceByID(e);if(t)return t.iframeSrc;L.Logger.error(_.default.logType,"[getIframeSrc]There are no h5 document Numbers that belong to id "+e)}},{key:"jumpToPage",value:function(e,t){var o=this.getH5DocumentInstanceByID(e);o?this._jumpToPage(o,t):L.Logger.error(_.default.logType,"[jumpToPage]There are no h5 document Numbers that belong to id "+e)}},{key:"nextPage",value:function(e){var t=this.getH5DocumentInstanceByID(e);if(t)if(t.isLoadFinished){var o=this._getWhiteboardFiledata(t);if(o&&o.currpage>=o.pagenum)L.Logger.warning(_.default.logType,"[nextPage]h5 document is on the last page , cannot execute nextPage method.");else{var n={currpage:o.currpage+1};this._postMessage(t,{method:"onJumpPage",toPage:n.currpage}),this._saveFiledataAndLoadCurrpageWhiteboardData(t,n),this._sendSignalling_ShowPage(t)}}else L.Logger.info(_.default.logType,"[nextPage]h5 document is not load finished  , cannot execute nextPage method");else L.Logger.error(_.default.logType,"[nextPage]There are no h5 document Numbers that belong to id "+e)}},{key:"prevPage",value:function(e){var t=this.getH5DocumentInstanceByID(e);if(t)if(t.isLoadFinished){var o=this._getWhiteboardFiledata(t);if(o&&o.currpage<=1)L.Logger.warning(_.default.logType,"[nextPage]h5 document is on page 1, cannot execute prevPage method.");else{var n={currpage:o.currpage-1};this._postMessage(t,{method:"onJumpPage",toPage:n.currpage}),this._saveFiledataAndLoadCurrpageWhiteboardData(t,n),this._sendSignalling_ShowPage(t)}}else L.Logger.info(_.default.logType,"[prevPage]h5 document is not load finished  , cannot execute prevPage method");else L.Logger.error(_.default.logType,"[nextPage]There are no h5 document Numbers that belong to id "+e)}},{key:"skipPage",value:function(e,t){var o=this.getH5DocumentInstanceByID(e);if(o)if(o.isLoadFinished){var n=this._getWhiteboardFiledata(o);n&&t>n.pagenum&&(L.Logger.info(_.default.logType,"[skipPage]h5 document skip to page exceeds the maximum number of pages , change skip page  to 5(max page number)."),t=n.pagenum),t<1&&(L.Logger.info(_.default.logType,"[skipPage]h5 document skip to page less than the minimum page , change skip page  to 1(min page number)."),t=1),this._saveFiledataAndLoadCurrpageWhiteboardData(o,{currpage:t}),this._jumpToPage(o,t),this._sendSignalling_ShowPage(o)}else L.Logger.info(_.default.logType,"[skipPage]h5 document is not load finished  , cannot execute skipPage method");else L.Logger.error(_.default.logType,"[skipPage]There are no h5 document Numbers that belong to id "+e)}},{key:"updateH5DocumentProperty",value:function(e,t){var o=this.getH5DocumentInstanceByID(e);o?(void 0!==t.associatedMsgID&&(o.associatedMsgID=t.associatedMsgID),void 0!==t.associatedUserID&&(o.associatedUserID=t.associatedUserID),void 0!==t.synchronizationH5Document&&(o.synchronizationH5Document=t.synchronizationH5Document),void 0!==t.h5DocumentActionClick&&(o.h5DocumentActionClick=t.h5DocumentActionClick,o.h5DocumentActionElement.style.display=o.h5DocumentActionClick?"none":"block"),void 0!==t.isShowReloadFileTip&&(o.isShowReloadFileTip=t.isShowReloadFileTip),void 0!==t.languageType&&(o.languageType=t.languageType,this._isShowReloadFileShowReloadNumber(o)),void 0!==t.isH5MediaOutputDominant&&(o.isH5MediaOutputDominant=t.isH5MediaOutputDominant)):L.Logger.error(_.default.logType,"[updateH5DocumentProperty]There are no h5 document Numbers that belong to id "+e)}},{key:"postMessageH5DocumentTriggerAction",value:function(e,t){var o=this.getH5DocumentInstanceByID(e);if(o){var n=this._getWhiteboardFiledata(o);!t||null==t.fileid||void 0===t.currpage||n.fileid==t.fileid&&n.currpage===t.currpage?this._postMessage(o,t):(o.h5DocumentActionJson[t.currpage]=o.h5DocumentActionJson[t.currpage]||[],o.h5DocumentActionJson[t.currpage].push(t))}else L.Logger.error(_.default.logType,"[postMessageH5DocumentTriggerAction]There are no h5 document Numbers that belong to id "+e)}},{key:"postMessage",value:function(e,t){var o=this.getH5DocumentInstanceByID(e);o?this._postMessage(o,t):L.Logger.error(_.default.logType,"[postMessage]There are no h5 document Numbers that belong to id "+e)}},{key:"isLoadFinished",value:function(e){var t=this.getH5DocumentInstanceByID(e);if(t)return t.isLoadFinished;L.Logger.error(_.default.logType,"[isLoadFinished]There are no h5 document Numbers that belong to id "+e)}},{key:"getH5DocumentInstanceByID",value:function(e){var t=this._getH5DocumentInstanceID(e);return this.h5DocumentInstanceStore[t]}},{key:"_jumpToPage",value:function(e,t){if(e.isLoadFinished){var o=this._getWhiteboardFiledata(e),n=!1,i=t;if(o&&(o.currpage>o.pagenum&&(o.currpage=o.pagenum,n=!0,t=o.currpage),o.currpage<1&&(o.currpage=1,n=!0,t=o.currpage),i=o.currpage),n){var a={};n&&(a.currpage=i),this._saveFiledataAndLoadCurrpageWhiteboardData(e,a)}if(null!=t&&!isNaN(t)){var r={method:"onJumpPage",toPage:t};this._postMessage(e,r)}}}},{key:"_postMessage",value:function(e,t){if(e.isLoadFinished)try{if(e.h5DocumentIframeElement&&e.h5DocumentIframeElement.src){var o=t;o=JSON.stringify(o),e.h5DocumentIframeElement&&e.h5DocumentIframeElement.contentWindow&&e.h5DocumentIframeElement.contentWindow.postMessage&&(L.Logger.debug(_.default.logType,"[_postMessage]h5 document postMessage instanceId is "+e.id+",sendData:"+o),e.h5DocumentIframeElement.contentWindow.postMessage(o,"*"))}}catch(e){L.Logger.error(_.default.logType,"[_postMessage] h5 document postMessage error:",e)}else e.awitExecutePostMessageArray.push(t)}},{key:"_showLoading",value:function(e){e.h5DocumentLoadingElement.style.display="block",this._isShowReloadFileShowReloadNumber(e)}},{key:"_hideLoading",value:function(e){e.h5DocumentLoadingElement.style.display="none",this._isShowReloadFileShowReloadNumber(e)}},{key:"_getH5DocumentInstanceID",value:function(e){var t=this.uniqueH5Document||null==e?this.h5DocumentInstanceDefaultID:this.h5DocumentInstanceIDPrefix+e;return e&&"string"==typeof e&&new RegExp(this.specialH5DocumentInstanceIDPrefix,"g").test(e)&&(t=e),t}},{key:"_destroyH5DocumentInstance",value:function(e){var t=e.h5DocumentInstanceID,o=e.h5DocumentElement;o?o.innerHTML="":L.Logger.warning(_.default.logType,"[destroy] h5Document elements do not exist , element id is:"+e.h5DocumentElementId+"!");var n=!0,i=!1,a=void 0;try{for(var r,s=Object.keys(e)[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var A=r.value;e[A]=null,delete e[A]}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}this.h5DocumentInstanceStore[t]=null,delete this.h5DocumentInstanceStore[t]}},{key:"_receiveWindowMessageEvent",value:function(e,t,o){if(o.data){var n=void 0;try{n=JSON.parse(o.data)}catch(e){return void L.Logger.warning(_.default.logType,"h5 document receive iframe message data can't be converted to JSON , iframe data:",o.data)}if(n.method||"tk_h5Document"===n.source)switch(L.Logger.debug(_.default.logType,"[h5Document]receive remote iframe data form "+o.origin+":",o),n.method){case"onLoadComplete":this._handleIframeMessage_onLoadComplete(t,n);break;case"onPagenum":this._handleIframeMessage_onPagenum(t,n);break;case"onFileMessage":this._handleIframeMessage_onFileMessage(e,t,n);break;case"onJumpPage":if(!n.toPage||"number"!=typeof n.toPage)return void L.Logger.warning(_.default.logType,"h5 document toPage is not a number , toPage:",n.toPage);t.handler.receiveActionCommandCallback("h5DocumentOnJumpPage",{id:t.id,toPage:n.toPage});break;case"clinetAudioPlayer":if(!t.isH5MediaOutputDominant)return;this._handleIframeMessage_autoPlayAudioInNative(t,n.data);break;case"clinetVideoPlayer":if(!t.isH5MediaOutputDominant)return;this._handleIframeMessage_autoPlayVideoInNative(t,n.data)}}}},{key:"_handleIframeMessage_autoPlayAudioInNative",value:function(e,t){if(e.handler&&e.handler.receiveActionCommandCallback){var o=this._getWhiteboardFiledata(e),n=t.isPlay,i=t.url,a=t.fileid,r=c(t,["isPlay","url","fileid"]),s={id:e.id,url:i,isPlay:n,audio:!0,attributes:{source:"h5Document",filename:"",fileid:a,type:"audio",other:r,currentPage:o.currpage}};e.handler.receiveActionCommandCallback("publishH5DocumentNetworkAudio",s)}}},{key:"_handleIframeMessage_autoPlayAudioInNative",value:function(e,t){if(e.handler&&e.handler.receiveActionCommandCallback){var o=this._getWhiteboardFiledata(e),n=t.isPlay,i=t.url,a=t.fileid,r=c(t,["isPlay","url","fileid"]),s={id:e.id,url:i,isPlay:n,audio:!0,attributes:{source:"h5Document",filename:"",fileid:a,type:"audio",other:r,currentPage:o.currpage}};e.handler.receiveActionCommandCallback("publishH5DocumentNetworkMedia",s)}}},{key:"_handleIframeMessage_autoPlayVideoInNative",value:function(e,t){var o=this._getWhiteboardFiledata(e),n=t.isPlay,i=t.url,a=t.fileid,r=t.status,s=c(t,["isPlay","url","fileid","status"]);if(s.position){var A=e.h5DocumentIframeElement;s.position.height=s.position.height/A.offsetHeight||1,s.position.width=s.position.width/A.offsetWidth||1,s.position.top=s.position.top/A.offsetHeight||0,s.position.left=s.position.left/A.offsetWidth||0}var l={id:e.id,url:i,video:!0,isPlay:n,status:r,audio:!0,attributes:{source:"h5Document",filename:"",fileid:o.fileid||a,type:"video",other:s,currentPage:o.currpage}};e.handler.receiveActionCommandCallback("publishH5DocumentNetworkMedia",l)}},{key:"_handleIframeMessage_onLoadComplete",value:function(e,t){if(clearTimeout(e.forceReloadNumberTimer),e.forceReloadNumberTimer=null,e.handler&&e.handler.receiveActionCommandCallback&&(e.handler.receiveActionCommandCallback("updateWhiteboardWatermarkImageScale",{id:e.id,scale:t.coursewareRatio||16/9}),e.handler.receiveActionCommandCallback("h5DocumentLoadEnd",{id:e.id,scale:t.coursewareRatio||16/9,reloadNumber:e.forceReloadNumber,success:!0})),!e.isLoadFinished&&(e.isLoadFinished=!0,e.isReceivePagenum)){var o=this._getWhiteboardFiledata(e);if(o&&(this._jumpToPage(e,o.currpage),clearTimeout(e.h5DocumentActionTimer),e.isLoadFinished&&(o=this._getWhiteboardFiledata(e),0<Object.keys(e.h5DocumentActionJson).length&&e.h5DocumentActionJson[o.currpage]&&0!==e.h5DocumentActionJson[o.currpage].length))){var n=!0,i=!1,a=void 0;try{for(var r,s=e.h5DocumentActionJson[o.currpage][Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var A=r.value;this._postMessage(e,A)}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}e.h5DocumentActionJson[o.currpage].length=0,delete e.h5DocumentActionJson[o.currpage]}}if(e.awitExecutePostMessageArray&&0<e.awitExecutePostMessageArray.length){var l=!0,c=!1,d=void 0;try{for(var u,h=e.awitExecutePostMessageArray[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var f=u.value;this._postMessage(e,f)}}catch(e){c=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}}e.awitExecutePostMessageArray.length=0,this._hideLoading(e)}},{key:"_handleIframeMessage_onPagenum",value:function(e,t){var o=t.totalPages,n=!1,i=1,a=this._getWhiteboardFiledata(e);a&&(a.pagenum=o,a.currpage>a.pagenum&&(a.currpage=a.pagenum,n=!0),a.currpage<1&&(a.currpage=1,n=!0),i=a.currpage);var r={pagenum:o};if(n&&(r.currpage=i),n?this._saveFiledataAndLoadCurrpageWhiteboardData(e,r):this._updateWhiteboardFiledata(e,r),e.isLoadFinished&&!e.isReceivePagenum&&(a=this._getWhiteboardFiledata(e))&&(this._jumpToPage(e,a.currpage),clearTimeout(e.h5DocumentActionTimer),e.isLoadFinished&&(a=this._getWhiteboardFiledata(e),0<Object.keys(e.h5DocumentActionJson).length&&e.h5DocumentActionJson[a.currpage]&&0!==e.h5DocumentActionJson[a.currpage].length))){var s=!0,A=!1,l=void 0;try{for(var c,d=e.h5DocumentActionJson[a.currpage][Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;this._postMessage(e,u)}}catch(e){A=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(A)throw l}}e.h5DocumentActionJson[a.currpage].length=0,delete e.h5DocumentActionJson[a.currpage]}e.isReceivePagenum=!0}},{key:"_handleIframeMessage_onFileMessage",value:function(e,t,o){o.sourceInstanceId=e,this._sendSignallingToServer(t,{name:"default"===e?"H5DocumentAction":"ExtendH5DocumentAction",id:"default"===e?"H5DocumentAction":"H5DocumentAction_"+e,toID:"__allExceptSender",data:o}),t.handler&&t.handler.receiveActionCommandCallback&&t.handler.receiveActionCommandCallback("closeAllSelectBox",{id:t.id})}},{key:"_sendSignallingToServer",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.name,i=o.id,a=o.toID,r=void 0===a?"__all":a,s=o.data,A=o.do_not_save,l=o.expiresabs,c=o.associatedMsgID,d=o.associatedUserID;e.handler&&e.handler.sendSignallingToServer&&(c=c||e.associatedMsgID,d=d||e.associatedUserID,e.handler.sendSignallingToServer(n,i,r,s,A,l,c,d))}},{key:"_getWhiteboardFiledata",value:function(e){var t=void 0;return e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("getWhiteboardFiledata",{id:e.id,callback:function(e){t=e}}),t}},{key:"_saveFiledataAndLoadCurrpageWhiteboardData",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("saveFiledataAndLoadCurrpageWhiteboardData",{id:e.id,updateFileData:o})}},{key:"_updateWhiteboardFiledata",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("updateWhiteboardFiledata",{id:e.id,updateFileData:o})}},{key:"_iframeReloadMonitor",value:function(e,t){var o=this;clearTimeout(e.forceReloadNumberTimer),e.forceReloadNumberTimer=null,e.iframeSrc&&!e.isLoadFinished&&(e.forceReloadNumber<e.maxForceReloadNumber?e.forceReloadNumberTimer=setTimeout(function(){e.iframeSrc&&!e.isLoadFinished&&e.forceReloadNumber<e.maxForceReloadNumber&&(e.forceReloadNumber++,o._isShowReloadFileShowReloadNumber(e),e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("reloadH5DocumentIframeSrc",{id:e.id,iframeSrc:e.iframeSrc,source:t,fileid:e.fileid,forceReloadNumber:e.forceReloadNumber}))},e.forceReloadInterval):e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("h5DocumentReloadFail",{id:e.id,reloadNumber:e.forceReloadNumber,success:!1}))}},{key:"_sendSignalling_ShowPage",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};e.handler&&e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("sendSignalling_ShowPage",{id:e.id,updatePubmsgData:o})}},{key:"_isShowReloadFileShowReloadNumber",value:function(e){e.h5DocumentReloadNumberElement.style.display=e.isShowReloadFileTip&&e.forceReloadNumber?"inline-table":"none";var t="å½“å‰ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨å°è¯•é‡æ–°æ‰“å¼€è¯¾ä»¶â€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡";if(e.isMeeting)switch(e.languageType){case"tw":t="å½“å‰ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨å°è¯•é‡æ–°æ‰“å¼€ç´ æâ€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡";break;case"en":t="The network is unstable , Trying to reopen the courseware ..."+e.forceReloadNumber;break;default:t="å½“å‰ç½‘ç»œä¸ç¨³å®šï¼Œæ­£åœ¨å°è¯•é‡æ–°æ‰“å¼€ç´ æâ€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡"}else switch(e.languageType){case"tw":t="ç•¶å‰ç¶²çµ¡ä¸ç©©å®šï¼Œæ­£åœ¨å˜—è©¦é‡æ–°æ‰“é–‹èª²ä»¶â€¦â€¦ç¬¬"+e.forceReloadNumber+"æ¬¡";break;case"en":t="The network is unstable , Trying to reopen the courseware ..."+e.forceReloadNumber;break;case"ja":t="ãƒãƒƒãƒˆãŒä¸å®‰å®šã§ã™ã€æ•™æã‚’é–‹ããªãŠã—ã¦ã„ã¾ã™"+e.forceReloadNumber+"æ¬¡"}e.h5DocumentReloadNumberElement.innerHTML=t||""}}]),r);o.default=s},{"../utils/DomUtils":340,"../utils/Global":341}],337:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=a(e("pdfobject")),m=a(e("../utils/Global"));function a(e){return e&&e.__esModule?e:{default:e}}if(window.PDFObject=d.default,window.L&&window.L.Logger&&window.L.Logger.debug&&window.L.Logger.trace&&window.L.Logger.info&&window.L.Logger.warning&&window.L.Logger.error||(window.L=window.L||{},window.L.Logger=window.L.Logger||{},window.L.Logger.debug=window.L.Logger.debug||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug.apply(console,e)},window.L.Logger.trace=window.L.Logger.trace||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.trace.apply(console,e)},window.L.Logger.info=window.L.Logger.info||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,e)},window.L.Logger.warning=window.L.Logger.warning||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,e)},window.L.Logger.error=window.L.Logger.error||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,e)}),!(Object&&Object.shallowAssign&&Object&&Object.customAssign)){var r=function(t){try{return Object.assign.apply(Object.assign,arguments)}catch(e){var o=void 0;try{o=Array.isArray(t)?t.slice(0):JSON.parse(JSON.stringify(t))}catch(e){o=t}for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i&&"object"===(void 0===i?"undefined":f(i)))for(var a in i)o[a]=i[a]}if("object"===(void 0===o?"undefined":f(o)))for(var r in o)t[r]=o[r];return t}};Object&&Object.shallowAssign||(Object.shallowAssign=r),Object&&Object.customAssign||(Object.customAssign=r)}Object&&Object.deepAssign||(Object.deepAssign=function(t){var o=void 0;if("object"!==(void 0===t?"undefined":f(t))||Array.isArray(t))o="object"===(void 0===t?"undefined":f(t))&&Array.isArray(t)?t.slice(0):t;else try{o=JSON.parse(JSON.stringify(t))}catch(e){o=t}for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n&&"object"===(void 0===n?"undefined":f(n)))for(var i in n)void 0===o[i]?"object"===f(n[i])?Array.isArray(n[i])?o[i]=n[i].slice(0):o[i]=JSON.parse(JSON.stringify(n[i])):o[i]=n[i]:"object"===f(n[i])?o[i]=Object.deepAssign(Array.isArray(n[i])?[]:{},"object"===f(o[i])?o[i]:Array.isArray(n[i])?[]:{},n[i]):o[i]=n[i]}if("object"===(void 0===o?"undefined":f(o)))for(var a in o)t[a]=o[a];return t}),String.prototype.colorHex=function(){if(/^(rgb|RGB)/.test(this)){for(var e=this.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),t="#",o=0;o<e.length;o++){var n=Number(e[o]).toString(16);"0"===n&&(n+=n),t+=n}return 7!==t.length&&(t=this),t}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(this))return this;var i=this.replace(/#/,"").split("");if(6===i.length)return this;if(3===i.length){for(var a="#",r=0;r<i.length;r+=1)a+=i[r]+i[r];return a}},String.prototype.colorRgb=function(){var e=this.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var t="#",o=1;o<4;o+=1)t+=e.slice(o,o+1).concat(e.slice(o,o+1));e=t}for(var n=[],i=1;i<7;i+=2)n.push(parseInt("0x"+e.slice(i,i+2)));return"RGB("+n.join(",")+")"}return e};var s=function(e,t,o,n){n=null!=n&&null!=n&&n,e.addEventListener?e.addEventListener(t,o,n):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},A=function(e,t,o,n){e.addEventListener?e.removeEventListener(t,o,n):e.attachEvent?e.detachEvent("on"+t,o):e["on"+t]=null};function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.whiteboardToolsInfo={primaryColor:"#000000",secondaryColor:"#ffffff",backgroundColor:"#ffffff",pencilWidth:5,shapeWidth:5,eraserWidth:15,fontSize:18,fontFamily:"å¾®è½¯é›…é»‘",fontStyle:"normal",fontWeight:"normal"},this.defaultProductionOptions={whiteboardClear:!0,defaultWhiteboardScale:16/9,whiteboardMagnification:1,containerWidthAndHeight:{width:0,height:0},minHeight:void 0,rotateDeg:0,baseWhiteboardWidth:960,proprietaryTools:!1,deawPermission:!0,tempDeawPermission:!0,saveRedoStack:!0,saveUndoStack:!0,remindContentTime:3e3,showShapeAuthor:!1,showMyselfRemindContent:!1,isOnlyUndoRedoClearMyselfShape:!1,synchronizationWhiteboard:!0,clickCapture:!1},this.whiteboardInstanceIDPrefix="whiteboard_",this.whiteboardInstanceDefaultID="whiteboard_default",this.whiteboardInstanceStore={},this.whiteboardThumbnailStore={},this.uniqueWhiteboard=!1,this.minMagnification=1,this.maxMagnification=3,this.historyPenTool=void 0,this.historyShapeTool=void 0,this.useWhiteboardTool={tool_pencil:!1,tool_highlighter:!1,tool_line:!1,tool_arrow:!1,tool_dashed:!1,tool_eraser:!1,tool_text:!1,tool_rectangle:!1,tool_rectangle_empty:!1,tool_ellipse:!1,tool_ellipse_empty:!1,tool_polygon:!1,tool_eyedropper:!1,tool_selectShape:!1,tool_mouse:!1,tool_laser:!1,action_undo:!1,action_redo:!1,action_clear:!1,zoom_big:!1,zoom_small:!1,zoom_default:!1},this.specialWhiteboardInstanceIDPrefix="specialWhiteboardInstanceIDPrefix_",this.awaitSaveToWhiteboardInstanceSignallingArray=[],this.commonActiveTool="tool_pencil",this.basicTemplateWhiteboardSignallingList={},this.pdfCache={}}var c=new(n(l,[{key:"getSpecialWhiteboardInstanceIDPrefix",value:function(){return this.specialWhiteboardInstanceIDPrefix}},{key:"setUniqueWhiteboard",value:function(e){this.uniqueWhiteboard=e}},{key:"activeCommonWhiteboardTool",value:function(e){/^tool_/.test(e)&&(this.commonActiveTool=e);var t=!0,o=!1,n=void 0;try{for(var i,a=Object.values(this.whiteboardInstanceStore)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;if(!r.proprietaryTools){var s=r.id;this.activeWhiteboardTool(e,s)}}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}},{key:"updateCommonWhiteboardToolsInfo",value:function(e){e&&"object"===(void 0===e?"undefined":f(e))&&Object.deepAssign(this.whiteboardToolsInfo,e)}},{key:"getWhiteboardDefaultFiledata",value:function(e){var t={fileid:0,currpage:1,pagenum:1,filetype:"whiteboard",filename:"whiteboard",swfpath:"",pptslide:1,pptstep:0,steptotal:0};return e&&"object"===(void 0===e?"undefined":f(e))&&Object.deepAssign(t,e),t}},{key:"handlerPubmsg_SharpsChange",value:function(e){if(e){e.data&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),this._saveBasicTemplateWhiteboardSignallingData(e,"pubmsg");var t=e.data.whiteboardID,o=this._getWhiteboardInstanceById(t);if(!o)return e.source="pubmsg",void this.awaitSaveToWhiteboardInstanceSignallingArray.push(e);if(e&&null!=e.data&&("shapeSaveEvent"===e.data.eventType||"clearEvent"===e.data.eventType||"redoEvent"===e.data.eventType||"laserMarkEvent"===e.data.eventType))if(e.source="pubmsg","laserMarkEvent"===e.data.eventType)this._receiveSnapshot(e,o);else{var n=e.id.substring(e.id.lastIndexOf("###_")+4);if(n){var i=n.split("_");n=i[0]+"_"+i[1]+"_"+i[2];var a=i[1],r=i[2],s=this.getWhiteboardFiledata(t);s.fileid==a&&s.currpage==r&&(this._receiveSnapshot(e,o),e.remindContent=e.data&&e.data.nickname||e.remindContent,o.showShapeAuthor&&e.remindContent&&e.fromID!=o.myselfId&&this._handlerShowRemoteRemindContentFromPubmsgData(o,e)),null!==o.waitingProcessShapeData[n]&&void 0!==o.waitingProcessShapeData[n]||(o.waitingProcessShapeData[n]=[]),o.waitingProcessShapeData[n].push(e)}}}}},{key:"handlerDelmsg_SharpsChange",value:function(e){if(e){e.data&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),this._saveBasicTemplateWhiteboardSignallingData(e,"delmsg");var t=e.data.whiteboardID,o=this._getWhiteboardInstanceById(t);if(!o){e.source="delmsg";for(var n=this.awaitSaveToWhiteboardInstanceSignallingArray.length-1;0<=n;n--)if(this.awaitSaveToWhiteboardInstanceSignallingArray[n].id===e.id){this.awaitSaveToWhiteboardInstanceSignallingArray.splice(n,1);break}return}var i=e.id.substring(e.id.lastIndexOf("###_")+4);if(i){var a=i.split("_");i=a[0]+"_"+a[1]+"_"+a[2];var r=a[1],s=a[2],A=this.getWhiteboardFiledata(t);if(e.source="delmsg",A.fileid==r&&A.currpage==s&&this._receiveSnapshot(e,o),o.waitingProcessShapeData[i]&&Array.isArray(o.waitingProcessShapeData[i])&&0<o.waitingProcessShapeData[i].length)for(var l=o.waitingProcessShapeData[i].length-1;0<=l;l--)if(o.waitingProcessShapeData[i][l].id===e.id){o.waitingProcessShapeData[i].splice(l,1);break}}}}},{key:"handlerMsglist_SharpsChange",value:function(e){for(var t={},o=0;o<e.length;o++){var n=e[o];n.data&&"string"==typeof n.data&&(n.data=JSON.parse(n.data)),this._saveBasicTemplateWhiteboardSignallingData(n,"msglist");var i=n.data.whiteboardID,a=this._getWhiteboardInstanceById(i);if(a){if(null!=n.data&&("shapeSaveEvent"===n.data.eventType||"clearEvent"===n.data.eventType||"redoEvent"===n.data.eventType)){n.source="msglist";var r=n.id.substring(n.id.lastIndexOf("###_")+4);if(r){var s=r.split("_");r=s[0]+"_"+s[1]+"_"+s[2];var A=s[1],l=s[2],c=this.getWhiteboardFiledata(i);c.fileid==A&&c.currpage==l&&(t[a.id]=!0),null!==a.waitingProcessShapeData[r]&&void 0!==a.waitingProcessShapeData[r]||(a.waitingProcessShapeData[r]=[]),a.waitingProcessShapeData[r].push(n)}}}else n.source="msglist",this.awaitSaveToWhiteboardInstanceSignallingArray.push(n)}if(t&&Object.keys(t).length){var d=!0,u=!1,h=void 0;try{for(var f,p=Object.keys(t)[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var g=f.value;this.saveWhiteboardStackToStorage(g),this.updateWhiteboardFiledata(g,{}),this.loadCurrpageWhiteboard(g)}}catch(e){u=!0,h=e}finally{try{!d&&p.return&&p.return()}finally{if(u)throw h}}}}},{key:"preloadWhiteboardPdf",value:function(e,t){if(e)return this._getWhiteboardInstanceById(t).lc.setPdf(e,function(e){var t=document.getElementById(e);this.pdfCache[e]||(this.pdfCache[e]=[]),this.pdfCache[e].push(t)}),this.pdfCache;L.Logger.warning(m.default.logType,"preload pdf url is not esixt!")}},{key:"preloadWhiteboardImg",value:function(t,e){if(t){var o=new Image;o.onload=function(){e&&"function"==typeof e&&e()},o.onerror=function(e){L.Logger.error(m.default.logType,"preload img  fail , img url is "+t)},o.src=t}else L.Logger.warning(m.default.logType,"preload img url is not esixt!")}},{key:"productionWhiteboard",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},o=t.whiteboardElementId,n=t.thumbnailId,i=t.productionOptions,a=void 0===i?{}:i,r=t.handler,s=void 0===r?{}:r,A=t.id,l=this;if(o){var c=l._getWhiteboardInstanceID(A),d=l._getWhiteboardInstanceByID(c);if(d)return L.Logger.error(m.default.logType,"The production whiteboard(whiteboardInstanceID:"+c+") fails, the whiteboard already exists!"),d;d={};var u=document.getElementById(o);if(!u)return L.Logger.error(m.default.logType,"Whiteboard elements do not exist , element id is:"+o+"!"),d;var h=document.createElement("div"),f=o+"_whiteboardInstance";return h.className="whiteboard-instance-element",h.id=f,u.appendChild(h),a=Object.deepAssign({},l.defaultProductionOptions,a),(l.whiteboardInstanceStore[c]=d).filedata=a.filedata||this.getWhiteboardDefaultFiledata({fileid:"whiteboard_default"===c?0:A}),d.baseWhiteboardWidth=a.baseWhiteboardWidth,d.whiteboardInstanceID=c,d.parcelAncestorElementId=a.parcelAncestorElementId,d.isBaseboard=a.isBaseboard,d.needLooadBaseboard=a.needLooadBaseboard,d.dependenceBaseboardWhiteboardID=a.dependenceBaseboardWhiteboardID,d.defaultWhiteboardScale=a.defaultWhiteboardScale,d.watermarkImageScale=a.defaultWhiteboardScale,d.whiteboardMagnification=a.whiteboardMagnification,d.remindContentTime=a.remindContentTime,d.showShapeAuthor=a.showShapeAuthor,d.showMyselfRemindContent=a.showMyselfRemindContent,d.associatedMsgID=a.associatedMsgID,d.associatedUserID=a.associatedUserID,d.proprietaryTools=a.proprietaryTools,d.minHeight=a.minHeight,d.rotateDeg=a.rotateDeg,d.deawPermission=a.deawPermission,d.tempDeawPermission=a.tempDeawPermission,d.nickname=a.nickname,d.userid=a.userid,d.insertPictureRule=a.insertPictureRule||"default",d.synchronizationWhiteboard=a.synchronizationWhiteboard,d.clickCapture=!!a.clickCapture,d.whiteboardToolsInfo=Object.deepAssign({},l.whiteboardToolsInfo),a.primaryColor&&(d.whiteboardToolsInfo.primaryColor=a.primaryColor),a.secondaryColor&&(d.whiteboardToolsInfo.secondaryColor=a.secondaryColor),a.backgroundColor&&(d.whiteboardToolsInfo.backgroundColor=a.backgroundColor),a.pencilWidth&&(d.whiteboardToolsInfo.pencilWidth=a.pencilWidth),a.shapeWidth&&(d.whiteboardToolsInfo.shapeWidth=a.shapeWidth),a.eraserWidth&&(d.whiteboardToolsInfo.eraserWidth=a.eraserWidth),a.fontSize&&(d.whiteboardToolsInfo.fontSize=a.fontSize),a.fontFamily&&(d.whiteboardToolsInfo.fontFamily=a.fontFamily),a.fontStyle&&(d.whiteboardToolsInfo.fontStyle=a.fontStyle),a.fontWeight&&(d.whiteboardToolsInfo.fontWeight=a.fontWeight),d.saveRedoStack=a.saveRedoStack,d.saveUndoStack=a.saveUndoStack,d.imageThumbnailId=a.imageThumbnailId,d.imageThumbnailTipContent=a.imageThumbnailTipContent,d.registerWhiteboardToolsList={},d.stackStorage={},d.handler={},d.handler.sendSignallingToServer=s.sendSignallingToServer,d.handler.delSignallingToServer=s.delSignallingToServer,d.handler.resizeWhiteboardSizeCallback=s.resizeWhiteboardSizeCallback,d.handler.noticeUpdateToolDescCallback=s.noticeUpdateToolDescCallback,d.handler.noticeUpdateWhiteboardFiledataCallback=s.noticeUpdateWhiteboardFiledataCallback,d.handler.whiteboardWatermarkImageOnloadCallback=s.whiteboardWatermarkImageOnloadCallback,d.handler.whiteboardWatermarkImageOnFailureCallback=s.whiteboardWatermarkImageOnFailureCallback,d.handler.receiveActionCommandCallback=s.receiveActionCommandCallback,d.active=!0,d.containerWidthAndHeight=a.containerWidthAndHeight,d.useImgOriginalSizeToContainerWidthAndHeight=a.useImgOriginalSizeToContainerWidthAndHeight,d.myselfId=a.myselfId,d.isOnlyUndoRedoClearMyselfShape=a.isOnlyUndoRedoClearMyselfShape,d.historyPenTool=this.historyPenTool,d.historyShapeTool=this.historyShapeTool,d.useToolKey=a.useToolKey,d.waitingProcessShapeData={},d.whiteboardElementId=o,d.whiteboardElement=u,d.whiteboardInstanceElementId=f,d.whiteboardInstanceElement=h,d.id=A,d.thumbnailId=n,d.lc=window.LC.init(d.whiteboardInstanceElement),d.lc.backingScale=1,d.lc.setColor("primary",d.whiteboardToolsInfo.primaryColor),d.lc.setColor("secondary",d.whiteboardToolsInfo.secondaryColor),d.lc.setColor("background",d.whiteboardToolsInfo.backgroundColor),d.lc.setWatermarkImageToLcBackground(!1),d.lc.setZoom(1),d.lc.setPan(0,0),d.lc.on("shapeSave",l._handlerShapeSaveEvent.bind(l,d)),d.lc.on("sendUndo",l._handlerUndoEvent.bind(l,d)),d.lc.on("sendRedo",l._handlerRedoEvent.bind(l,d)),d.lc.on("sendClear",l._handlerClearEvent.bind(l,d)),d.lc.on("drawingChange",this._handlerDrawingChangeEvent.bind(l,d)),d.activeTool=void 0,d.lc.myselfId=d.myselfId,d.lc.isOnlyUndoRedoClearMyselfShape=d.isOnlyUndoRedoClearMyselfShape,a.whiteboardClear&&l.clearWhiteboardAllDataById(A),l._changeWhiteboardDeawPermission(d.deawPermission,d),l._changeWhiteboardTemporaryDeawPermission(d.tempDeawPermission,d),l._saveAwaitSaveToWhiteboardInstanceSignallingToWhiteboardInstance(d),l.activeWhiteboardTool(d.proprietaryTools?d.useToolKey?d.useToolKey:"tool_pencil":l.commonActiveTool,A),l._zoomIsDisable(d),l._actionIsDisable(d),l._noticeUpdateToolDesc(d),l._resizeWhiteboardHandler(d),l._noticeNpdateWhiteboardToolsInfo(d),d}L.Logger.error(m.default.logType,"whiteboardElementId is required!")}},{key:"changeWhiteboardExclusiveAttribute",value:function(e,t){if(t&&"object"===(void 0===t?"undefined":f(t))){var o=this._getWhiteboardInstanceById(e);if(!o)return void L.Logger.error(m.default.logType,"[changeWhiteboardExclusiveAttribute]There are no white board Numbers that belong to id "+e);for(var n in t)o.hasOwnProperty(n)&&(o[n]=t[n],"myselfId"===n||"isOnlyUndoRedoClearMyselfShape"===n?o.lc&&(o.lc[n]=o[n]):"defaultWhiteboardScale"===n?o.currentWatermarkImageUrl||(o.watermarkImageScale=o.defaultWhiteboardScale,o.lc.watermarkImage=null,this._resizeWhiteboardHandler(o)):"insertPictureRule"===n&&this._resizeWhiteboardHandler(o))}}},{key:"updateImageThumbnailId",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?(o.imageThumbnailId=t,this._saveImageBase64ToImageThumbnail(o)):L.Logger.error(m.default.logType,"[updateImageThumbnailId]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardSaveRedoStackAndSaveUndoStack",value:function(e,t){var o=t.saveRedoStack,n=t.saveUndoStack,i=this._getWhiteboardInstanceById(e);i?(i.saveRedoStack=void 0!==o?o:i.saveRedoStack,i.saveUndoStack=void 0!==n?n:i.saveUndoStack):L.Logger.error(m.default.logType,"[updateSaveRedoStackAndSaveUndoStack]There are no white board Numbers that belong to id "+e)}},{key:"updateIsBaseboard",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?o.isBaseboard=t:L.Logger.error(m.default.logType,"[updateIsBaseboard]There are no white board Numbers that belong to id "+e)}},{key:"updateDependenceBaseboardWhiteboardID",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?o.dependenceBaseboardWhiteboardID=t:L.Logger.error(m.default.logType,"[updateDependenceBaseboardWhiteboardID]There are no white board Numbers that belong to id "+e)}},{key:"updateShowRemindContent",value:function(e,t,o){var n=this._getWhiteboardInstanceById(e);n?(n.showShapeAuthor=t||n.showShapeAuthor,n.showMyselfRemindContent=o||n.showMyselfRemindContent):L.Logger.error(m.default.logType,"[updateShowRemindContent]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardAssociatedMsgID",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?o.associatedMsgID=t:L.Logger.error(m.default.logType,"[updateWhiteboardAssociatedMsgID]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardAssociatedUserID",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?o.associatedUserID=t:L.Logger.error(m.default.logType,"[updateWhiteboardAssociatedUserID]There are no white board Numbers that belong to id "+e)}},{key:"hasWhiteboardById",value:function(e){var t=this._getWhiteboardInstanceById(e);return null!=t}},{key:"clearWhiteboardAllDataById",value:function(e){var t=this._getWhiteboardInstanceById(e);t?this._clearWhiteboardAllDataByInstance(t):L.Logger.error(m.default.logType,"[clear]There are no white board Numbers that belong to id "+e)}},{key:"productionSpecialId",value:function(e){return this.specialWhiteboardInstanceIDPrefix+e}},{key:"destroyWhiteboardInstance",value:function(e){var t=this._getWhiteboardInstanceById(e);t?this._destroyWhiteboardInstance(t):L.Logger.error(m.default.logType,"[destroy]There are no white board Numbers that belong to id "+e)}},{key:"clearRedoAndUndoStack",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?this._clearRedoAndUndoStack(o,t):L.Logger.error(m.default.logType,"[clearRedoAndUndoStack]There are no white board Numbers that belong to id "+e)}},{key:"resetDedaultWhiteboardMagnification",value:function(e){var t=this._getWhiteboardInstanceById(e);t?(t.whiteboardMagnification=this.defaultProductionOptions.whiteboardMagnification,this._zoomIsDisable(t),this._resizeWhiteboardHandler(t)):L.Logger.error(m.default.logType,"[resetDedaultWhiteboardMagnification]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardMagnification",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?o.whiteboardMagnification=t:L.Logger.error(m.default.logType,"[updateWhiteboardMagnification]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardWatermarkImageScale",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:this.defaultProductionOptions.watermarkImageScale,n=this._getWhiteboardInstanceById(e);n?this._updateWhiteboardWatermarkImageScale(n,o):L.Logger.error(m.default.logType,"[updateWhiteboardWatermarkImageScale]There are no white board Numbers that belong to id "+e)}},{key:"getFileExt",value:function(e){if(""!=e)return"."+e.replace(/.+\./,"")}},{key:"setWhiteboardWatermarkImage",value:function(e,o,t){var n=2<arguments.length&&void 0!==t?t:{},i=n.resetDedaultWhiteboardMagnification,a=void 0===i||i,r=n.fullWhite,s=n.loadSucceedCallback,A=n.loadFailureCallback,l=this;this.fullWhite=r,L.Logger.debug(m.default.logType,"[setWhiteboardWatermarkImage]setWhiteboardWatermarkImage watermarkImageUrl:"+o);var c=l._getWhiteboardInstanceById(e);if(c)if(c.currentWatermarkImageUrl=o,a&&l.resetDedaultWhiteboardMagnification(e),o){if(l.showWhiteboardCanvasBackground(e),l._showWhiteboardLoading(c),c.lc.clearPdf(e),".pdf"==l.getFileExt(o)&&d.default.supportsPDFs&&window.PDFObject)return c.lc.watermarkScale=1,c.lc.customCanvasBackgroundElement.style.backgroundImage="",c.lc.watermarkImage=null,l._resizeWhiteboardHandler(c),c.lc.setPdf(o,function(){l._hideWhiteboardLoading(c)}),!1;clearTimeout(c.setWhiteboardWatermarkImageTimer),c.setWhiteboardWatermarkImageTimer=setTimeout(function(){var t=new Image;t.onload=function(){if(c.currentWatermarkImageUrl){var e=t.width/t.height;c.useImgOriginalSizeToContainerWidthAndHeight&&(c.containerWidthAndHeight={width:t.width,height:t.height}),c.lc.setWatermarkImage(t),l._resizeWhiteboardByScale(c,{watermarkImage:t,watermarkImageScale:e}),c.handler.whiteboardWatermarkImageOnloadCallback&&"function"==typeof c.handler.whiteboardWatermarkImageOnloadCallback&&c.handler.whiteboardWatermarkImageOnloadCallback({width:t.width,height:t.height})}else c.lc.watermarkImage=null,l._resizeWhiteboardHandler(c);l._hideWhiteboardLoading(c),s&&"function"==typeof s&&s(o)},t.onerror=function(e){L.Logger.error(m.default.logType,"img load fail , img url is "+o),A&&"function"==typeof A&&A(o),c&&c.handler&&c.handler.whiteboardWatermarkImageOnFailureCallback&&c.currentWatermarkImageUrl&&c.currentWatermarkImageUrl===o&&c.handler.whiteboardWatermarkImageOnFailureCallback(o)},t.src=o},150)}else l.hideWhiteboardCanvasBackground(e),c.lc.watermarkScale=1,l._resizeWhiteboardByScale(c,{isChangeWatermarkScale:!1}),l._hideWhiteboardLoading(c),c.lc.watermarkImage=null,c.lc.customCanvasBackgroundElement.style.backgroundImage="";else L.Logger.error(m.default.logType,"[setWhiteboardWatermarkImage]There are no white board Numbers that belong to id "+e)}},{key:"resizeWhiteboardHandler",value:function(e){if(void 0===e){var t=!0,o=!1,n=void 0;try{for(var i,a=Object.values(this.whiteboardInstanceStore)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;this._resizeWhiteboardHandler(r)}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}else{var s=this._getWhiteboardInstanceById(e);if(!s)return void L.Logger.error(m.default.logType,"[resizeWhiteboardHandler]There are no white board Numbers that belong to id "+e);this._resizeWhiteboardHandler(s)}}},{key:"updateContainerWidthAndHeight",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.width,i=o.height,a=this._getWhiteboardInstanceById(e);a?void 0!==n&&void 0!==i?(a.containerWidthAndHeight={width:n,height:i},this._resizeWhiteboardHandler(a)):L.Logger.error(m.default.logType,"[updateContainerWidthAndHeight]width or height is not exist , [width:"+n+" , height:"+i+"]!"):L.Logger.error(m.default.logType,"[updateContainerWidthAndHeight]There are no white board Numbers that belong to id "+e)}},{key:"hideWhiteboardCanvasBackground",value:function(e){var t=this._getWhiteboardInstanceById(e);t?t.lc&&t.lc.backgroundCanvas&&(t.lc.backgroundCanvas.style.display="none",t.lc.customCanvasBackgroundElement.style.display="none"):L.Logger.error(m.default.logType,"[hideWhiteboardCanvasBackground]There are no white board Numbers that belong to id "+e)}},{key:"showWhiteboardCanvasBackground",value:function(e){var t=this._getWhiteboardInstanceById(e);t?t.lc&&t.lc.backgroundCanvas&&(t.lc.backgroundCanvas.style.display="",t.lc.customCanvasBackgroundElement.style.display=""):L.Logger.error(m.default.logType,"[showWhiteboardCanvasBackground]There are no white board Numbers that belong to id "+e)}},{key:"hideWhiteboard",value:function(e){var t=this._getWhiteboardInstanceById(e);t&&t.whiteboardElement&&(t.whiteboardElement.style.display="none")}},{key:"showWhiteboard",value:function(e){var t=this._getWhiteboardInstanceById(e);t&&t.whiteboardElement&&(t.whiteboardElement.style.display="block")}},{key:"updateTextFont",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.fontSize,i=o.fontFamily,a=o.fontStyle,r=o.fontWeight,s=this._getWhiteboardInstanceById(e);s?(s.whiteboardToolsInfo.fontSize=void 0!==n?n:s.whiteboardToolsInfo.fontSize,s.whiteboardToolsInfo.fontFamily=void 0!==i?i:s.whiteboardToolsInfo.fontFamily,s.whiteboardToolsInfo.fontStyle=void 0!==a?a:s.whiteboardToolsInfo.fontStyle,s.whiteboardToolsInfo.fontWeight=void 0!==r?r:s.whiteboardToolsInfo.fontWeight,this._noticeNpdateWhiteboardToolsInfo(s),this._updateTextFont(s)):L.Logger.error(m.default.logType,"[updateTextFont]There are no white board Numbers that belong to id "+e)}},{key:"updateEraserWidth",value:function(e,t){var o=(1<arguments.length&&void 0!==t?t:{}).eraserWidth,n=this._getWhiteboardInstanceById(e);n?(n.whiteboardToolsInfo.eraserWidth=void 0!==o?o:n.whiteboardToolsInfo.eraserWidth,this._noticeNpdateWhiteboardToolsInfo(n),this._updateEraserWidth(n)):L.Logger.error(m.default.logType,"[updateEraserWidth]There are no white board Numbers that belong to id "+e)}},{key:"updatePencilWidth",value:function(e,t){var o=(1<arguments.length&&void 0!==t?t:{}).pencilWidth,n=this._getWhiteboardInstanceById(e);n?(n.whiteboardToolsInfo.pencilWidth=void 0!==o?o:n.whiteboardToolsInfo.pencilWidth,this._noticeNpdateWhiteboardToolsInfo(n),this._updatePencilWidth(n)):L.Logger.error(m.default.logType,"[updatePencilWidth]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardToolsInfo",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?t&&"object"===(void 0===t?"undefined":f(t))&&(Object.deepAssign(o.whiteboardToolsInfo,t),this._noticeNpdateWhiteboardToolsInfo(o)):L.Logger.error(m.default.logType,"[updateWhiteboardToolsInfo]There are no white board Numbers that belong to id "+e)}},{key:"updateShapeWidth",value:function(e,t){var o=(1<arguments.length&&void 0!==t?t:{}).shapeWidth,n=this._getWhiteboardInstanceById(e);n?(n.whiteboardToolsInfo.shapeWidth=void 0!==o?o:n.whiteboardToolsInfo.shapeWidth,this._noticeNpdateWhiteboardToolsInfo(n),this._updateShapeWidth(n)):L.Logger.error(m.default.logType,"[uploadShapeWidth]There are no white board Numbers that belong to id "+e)}},{key:"updateColor",value:function(e,t){if(t&&"object"===(void 0===t?"undefined":f(t))){var o=this._getWhiteboardInstanceById(e);if(!o)return void L.Logger.error(m.default.logType,"[updateColor]There are no white board Numbers that belong to id "+e);var n={},i=!0,a=!1,r=void 0;try{for(var s,A=Object.entries(t)[Symbol.iterator]();!(i=(s=A.next()).done);i=!0){var l=s.value,c=y(l,2),d=c[0],u=c[1],h=d.replace(/Color/g,"");n[h]=u,o.whiteboardToolsInfo[h+"Color"]=u,this._noticeNpdateWhiteboardToolsInfo(o)}}catch(e){a=!0,r=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw r}}this._updateColor(o,n)}}},{key:"getActiveTool",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t)return t.activeTool;L.Logger.error(m.default.logType,"[getActiveTool]There are no white board Numbers that belong to id "+e)}},{key:"activeWhiteboardTool",value:function(e,t){var o=this;if(void 0!==o.useWhiteboardTool[e])if(null!=t){var n=o._getWhiteboardInstanceById(t);if(n)if(/^tool_/.test(e)){if("tool_pencil"===e||"tool_highlighter"===e||"tool_line"===e||"tool_arrow"===e||"tool_dashed"===e?n.historyPenTool=e:"tool_rectangle"!==e&&"tool_rectangle_empty"!==e&&"tool_ellipse"!==e&&"tool_ellipse_empty"!==e&&"tool_polygon"!==e||(n.historyShapeTool=e),n.activeTool=e,o._setWhiteboardTools(e,n),o._handlerActiveToolLaser(e,n),"tool_text"===e?o._updateTextFont(n):"tool_eraser"===e?o._updateEraserWidth(n):"tool_pencil"===e||"tool_highlighter"===e||"tool_line"===e||"tool_arrow"==e||"tool_dashed"===e?o._updatePencilWidth(n):"tool_rectangle"!==e&&"tool_rectangle_empty"!==e&&"tool_ellipse"!==e&&"tool_ellipse_empty"!==e&&"tool_polygon"!==e||o._updateShapeWidth(n),"tool_ellipse_empty"===e||"tool_rectangle_empty"===e?n.lc.setColor("secondary","transparent"):"tool_rectangle"===e||"tool_ellipse"===e||"tool_polygon"===e?n.lc.setColor("secondary",n.whiteboardToolsInfo.primaryColor):n.lc.setColor("secondary",n.whiteboardToolsInfo.secondaryColor),"tool_highlighter"===e){var i=n.whiteboardToolsInfo.primaryColor.colorRgb().toLowerCase().replace("rgb","rgba").replace(")",",0.5)");n.lc.setColor("primary",i)}else n.lc.setColor("primary",n.whiteboardToolsInfo.primaryColor);n.handler.receiveActionCommandCallback&&n.handler.receiveActionCommandCallback("changeWhiteboardActiveTool",{id:n.id,activeTool:n.activeTool}),this._toolIsUse(n)}else if(/^action_/.test(e)){if("action_undo"===e){var a=n.isOnlyUndoRedoClearMyselfShape&&n.myselfId?n.myselfId:void 0;n.synchronizationWhiteboard?n.lc.sendUndo(a):n.lc.undo()}else if("action_redo"===e){var r=n.isOnlyUndoRedoClearMyselfShape&&n.myselfId?n.myselfId:void 0;n.synchronizationWhiteboard?n.lc.sendRedo(r):n.lc.redo()}else if("action_clear"===e){var s=n.isOnlyUndoRedoClearMyselfShape&&n.myselfId?n.myselfId:void 0;n.synchronizationWhiteboard?n.lc.sendClear(s):n.lc.clear()}o._actionIsDisable(n)}else/^zoom_/.test(e)&&("zoom_big"===e?n.whiteboardMagnification<o.maxMagnification&&(n.whiteboardMagnification+=.5):"zoom_small"===e?n.whiteboardMagnification>o.minMagnification&&(n.whiteboardMagnification-=.5):"zoom_default"===e&&(n.whiteboardMagnification=o.defaultProductionOptions.whiteboardMagnification),n.whiteboardMagnification>o.maxMagnification?n.whiteboardMagnification=o.maxMagnification:n.whiteboardMagnification<o.minMagnification&&(n.whiteboardMagnification=o.minMagnification),o._zoomIsDisable(n),o._resizeWhiteboardHandler(n));else L.Logger.error(m.default.logType,"[activeWhiteboardTool]There are no white board Numbers that belong to id "+t)}else L.Logger.error(m.default.logType,"[activeWhiteboardTool]id is undefined or null ");else L.Logger.error(m.default.logType,"The whiteboard does not have the "+e+" tool!")}},{key:"useHistoryPenTool",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t){var o=t.historyPenTool||"tool_pencil";this.activeWhiteboardTool(o,e)}else L.Logger.error(m.default.logType,"[useHistoryPenTool]There are no white board Numbers that belong to id "+e)}},{key:"useHistoryShapeTool",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t){var o=t.historyShapeTool||"tool_rectangle";this.activeWhiteboardTool(o,e)}else L.Logger.error(m.default.logType,"[useHistoryShapeTool]There are no white board Numbers that belong to id "+e)}},{key:"changeWhiteboardTemporaryDeawPermission",value:function(e,t){var o=void 0;void 0!==t&&(o=this._getWhiteboardInstanceById(t)),o?this._changeWhiteboardTemporaryDeawPermission(e,o):L.Logger.error(m.default.logType,"[changeWhiteboardTemporaryDeawPermission]There are no white board Numbers that belong to id "+t)}},{key:"updateWhiteboardProperty",value:function(e,t){var o=this;if(t&&"object"===(void 0===t?"undefined":f(t))){var n=this._getWhiteboardInstanceById(e);if(!n)return void L.Logger.error(m.default.logType,"[updateWhiteboardProperty]There are no white board Numbers that belong to id "+e);if(void 0!==t.deawPermission&&o.changeWhiteboardDeawPermission(t.deawPermission,e),void 0!==t.showShapeAuthor&&o.changeWhiteboardExclusiveAttribute(e,{showShapeAuthor:t.showShapeAuthor}),void 0!==t.myselfId&&o.changeWhiteboardExclusiveAttribute(e,{myselfId:t.myselfId}),void 0!==t.isOnlyUndoRedoClearMyselfShape&&o.changeWhiteboardExclusiveAttribute(e,{isOnlyUndoRedoClearMyselfShape:t.isOnlyUndoRedoClearMyselfShape}),void 0!==t.nickname&&o.changeWhiteboardExclusiveAttribute(e,{nickname:t.nickname}),void 0!==t.primary||void 0!==t.secondary||void 0!==t.background||void 0!==t.primaryColor||void 0!==t.secondaryColor||void 0!==t.backgroundColor){var i={};for(var a in t)"primary"!==a&&"secondary"!==a&&"background"!==a&&"primaryColor"!==a&&"secondaryColor"!==a&&"backgroundColor"!==a||(i[a]=t[a]);o.updateColor(e,i)}if(void 0!==t.synchronizationWhiteboard&&o.changeWhiteboardExclusiveAttribute(e,{synchronizationWhiteboard:t.synchronizationWhiteboard}),void 0!==t.defaultWhiteboardScale&&o.changeWhiteboardExclusiveAttribute(e,{defaultWhiteboardScale:t.defaultWhiteboardScale}),void 0!==t.associatedMsgID&&o.updateWhiteboardAssociatedMsgID(e,t.associatedMsgID),void 0!==t.associatedUserID&&o.updateWhiteboardAssociatedUserID(e,t.associatedUserID),void 0!==t.pencilWidth||void 0!==t.shapeWidth||void 0!==t.eraserWidth||void 0!==t.fontSize||void 0!==t.fontFamily){var r={};void 0!==t.pencilWidth&&(r.pencilWidth=Number(t.pencilWidth)),void 0!==t.shapeWidth&&(r.shapeWidth=Number(t.shapeWidth)),void 0!==t.eraserWidth&&(r.eraserWidth=Number(t.eraserWidth)),void 0!==t.fontSize&&(r.fontSize=Number(t.fontSize)),void 0!==t.fontFamily&&(r.fontFamily=t.fontFamily),this.updateWhiteboardToolsInfo(e,r),void 0===t.fontSize&&void 0===t.fontFamily||this.updateTextFont(e),void 0!==t.pencilWidth&&("tool_pencil"!==n.activeTool&&"tool_highlighter"!==n.activeTool&&"tool_line"!==n.activeTool&&"tool_arrow"!==n.activeTool&&"tool_dashed"!==n.activeTool||this.updatePencilWidth(e)),void 0!==t.shapeWidth&&("tool_rectangle"!==n.activeTool&&"tool_rectangle_empty"!==n.activeTool&&"tool_ellipse"!==n.activeTool&&"tool_ellipse_empty"!==n.activeTool&&"tool_polygon"!==n.activeTool||this.updateShapeWidth(e)),void 0!==t.eraserWidth&&"tool_eraser"===n.activeTool&&this.updateEraserWidth(e)}void 0!==t.insertPictureRule&&o.changeWhiteboardExclusiveAttribute(e,{insertPictureRule:t.insertPictureRule})}}},{key:"changeWhiteboardDeawPermission",value:function(e,t){var o=void 0;void 0!==t&&(o=this._getWhiteboardInstanceById(t)),o?this._changeWhiteboardDeawPermission(e,o):L.Logger.error(m.default.logType,"[changeWhiteboardDeawPermission]There are no white board Numbers that belong to id "+t)}},{key:"registerWhiteboardTools",value:function(e,t){if(t&&"object"===(void 0===t?"undefined":f(t))){var o=this._getWhiteboardInstanceById(e);if(o){var n={},i=!0,a=!1,r=void 0;try{for(var s,A=Object.entries(t)[Symbol.iterator]();!(i=(s=A.next()).done);i=!0){var l=s.value,c=y(l,2),d=c[0],u=c[1];void 0!==this.useWhiteboardTool[d]?(n[d]=this._productionToolDesc(d,u),this.useWhiteboardTool[d]=!0):L.Logger.warning(m.default.logType,"The whiteboard does not have the "+d+" tool!")}}catch(e){a=!0,r=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw r}}o.registerWhiteboardToolsList=n,o.isRegisterWhiteboardTool=!0,this._zoomIsDisable(o),this._zoomIsDisable(o),this._noticeUpdateToolDesc(o)}else L.Logger.error(m.default.logType,"[registerWhiteboardTools]There are no white board Numbers that belong to id "+e)}else L.Logger.error(m.default.logType,"[initWhiteboardTools] tools desc cannot be empty and type json!")}},{key:"hasWhiteboardFiledata",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t)return!!(t.filedata&&"object"===f(t.filedata)&&0<Object.keys(t.filedata).length);L.Logger.error(m.default.logType,"[hasWhiteboardFiledata]There are no white board Numbers that belong to id "+e)}},{key:"updateWhiteboardFiledata",value:function(e,t){var o=this._getWhiteboardInstanceById(e);o?this._updateWhiteboardFiledata(o,t):L.Logger.error(m.default.logType,"[updateWhiteboardFiledata]There are no white board Numbers that belong to id "+e)}},{key:"getRegisterWhiteboardToolsList",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t)return Object.deepAssign({},t.registerWhiteboardToolsList);L.Logger.error(m.default.logType,"[getRegisterWhiteboardToolsList]There are no white board Numbers that belong to id "+e)}},{key:"getWhiteboardFiledata",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t)return"number"!=typeof t.filedata.currpage&&(t.filedata.currpage=Number(t.filedata.currpage)),"number"!=typeof t.filedata.pagenum&&(t.filedata.pagenum=Number(t.filedata.pagenum)),"number"!=typeof t.filedata.pptslide&&(t.filedata.pptslide=Number(t.filedata.pptslide)),"number"!=typeof t.filedata.pptstep&&(t.filedata.pptstep=Number(t.filedata.pptstep)),"number"!=typeof t.filedata.steptotal&&(t.filedata.steptotal=Number(t.filedata.steptotal)),t.filedata.baseurl=t.filedata.baseurl,Object.deepAssign({},t.filedata);L.Logger.error(m.default.logType,"[getWhiteboardFiledata]There are no white board Numbers that belong to id "+e)}},{key:"clearWhiteboardDataByFileidAndCurrpage",value:function(e,t,o){var n=this._getWhiteboardInstanceById(e);n?null!=t&&null!==o&&(n.waitingProcessShapeData["SharpsChange_"+t+"_"+o]=void 0,n.stackStorage["redoStack_"+t+"_"+o]=void 0,n.stackStorage["undoStack_"+t+"_"+o]=void 0,delete n.waitingProcessShapeData["SharpsChange_"+t+"_"+o],delete n.stackStorage["redoStack_"+t+"_"+o],delete n.stackStorage["undoStack_"+t+"_"+o]):L.Logger.error(m.default.logType,"[clearWhiteboardDataByFileidAndCurrpage]There are no white board Numbers that belong to id "+e)}},{key:"loadCurrpageWhiteboard",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.loadRedoStack,i=void 0===n||n,a=o.callback,r=this._getWhiteboardInstanceById(e);if(r){this._clearRedoAndUndoStack(r),this._basicTemplateWhiteboardSignallingListToWhiteboardInstance(r);var s=r.filedata,A=s.fileid,l=s.currpage;if(void 0===r.waitingProcessShapeData||null===r.waitingProcessShapeData)r.waitingProcessShapeData={};else{var c=r.waitingProcessShapeData["SharpsChange_"+A+"_"+l];null!=c&&0<c.length&&this._batchReceiveSnapshot(c,r)}if(i){var d=r.stackStorage["redoStack_"+A+"_"+l];d&&0<d.length&&(r.lc.redoStack=d)}this._actionIsDisable(r),a&&"function"==typeof a&&a()}else L.Logger.error(m.default.logType,"[loadCurrpageWhiteboard]There are no white board Numbers that belong to id "+e)}},{key:"saveWhiteboardStackToStorage",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.saveRedoStack,i=o.saveUndoStack,a=this._getWhiteboardInstanceById(e);if(a){n=void 0!==n?n:a.saveRedoStack,i=void 0!==i?i:a.saveUndoStack;var r=this.getWhiteboardFiledata(e),s=r.fileid,A=r.currpage;n&&(a.stackStorage["redoStack_"+s+"_"+A]=a.lc.redoStack.slice(0))}else L.Logger.error(m.default.logType,"[saveWhiteboardStackToStorage]There are no white board Numbers that belong to id "+e)}},{key:"showWhiteboardLoading",value:function(e){var t=this._getWhiteboardInstanceById(e);t?this._showWhiteboardLoading(t):L.Logger.error(m.default.logType,"[showWhiteboardLoading]There are no white board Numbers that belong to id "+e)}},{key:"hideWhiteboardLoading",value:function(e){var t=this._getWhiteboardInstanceById(e);t?this._hideWhiteboardLoading(t):L.Logger.error(m.default.logType,"[showWhiteboardLoading]There are no white board Numbers that belong to id "+e)}},{key:"isWhiteboardTextEditing",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t)return"Text"==t.lc.tool.name.toString()&&"editing"==t.lc.tool.currentShapeState;L.Logger.error(m.default.logType,"[isWhiteboardTextEditing]There are no white board Numbers that belong to id "+e)}},{key:"checkWhiteboardCanvasSize",value:function(e,t){var o=(1<arguments.length&&void 0!==t?t:{}).isResize,n=void 0!==o&&o,i=this._getWhiteboardInstanceById(e);if(i)return i.lc&&i.lc.canvas?(0===i.lc.canvas.width||0===i.lc.canvas.height)&&(n&&this._resizeWhiteboardHandler(i),!0):void 0;L.Logger.error(m.default.logType,"[checkWhiteboardCanvasSize]There are no white board Numbers that belong to id "+e)}},{key:"downCanvasImageToLocalFile",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"png",n=this._getWhiteboardInstanceById(e);if(n){var i=this._convertCanvasToImageBase64(n,o);!function(e,t){var o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=e,o.download=t;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(n)}(i=i.replace("image/"+o.toLocaleLowerCase().replace(/jpg/i,"jpeg").match(/png|jpeg|bmp|gif/)[0],"image/octet-stream"),(n.nickname?n.nickname+"_":"")+n.id+"_"+(new Date).getTime()+"."+o)}else L.Logger.error(m.default.logType,"[downCanvasImageToLocalFile]There are no white board Numbers that belong to id "+e)}},{key:"getWhiteboardToolsInfo",value:function(e){var t=this._getWhiteboardInstanceById(e);if(t)return Object.deepAssign({},t.whiteboardToolsInfo);L.Logger.error(m.default.logType,"[getWhiteboardToolsInfo]There are no white board Numbers that belong to id "+e)}},{key:"_clearRedoAndUndoStack",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.clear,i=void 0===n||n,a=o.redo,r=void 0===a||a,s=o.undo,A=void 0===s||s,l=this;i&&l._clearLc(e,{triggerEvent:!1}),r&&l._clearLcRedoStack(e),A&&l._clearLcUndoStack(e),l._actionIsDisable(e),setTimeout(function(){l._resizeWhiteboardHandler(e)},0)}},{key:"_updateWhiteboardFiledata",value:function(e,t){t&&"object"===(void 0===t?"undefined":f(t))&&(void 0!==t.currpage&&(t.currpage=Number(t.currpage)),void 0!==t.pagenum&&(t.pagenum=Number(t.pagenum)),void 0!==t.pptslide&&(t.pptslide=Number(t.pptslide)),void 0!==t.pptstep&&(t.pptstep=Number(t.pptstep)),void 0!==t.steptotal&&(t.steptotal=Number(t.steptotal)),Object.deepAssign(e.filedata,t),e.filedata.baseurl=t.baseurl,e&&e.handler&&e.handler.noticeUpdateWhiteboardFiledataCallback&&e.handler&&e.handler.noticeUpdateWhiteboardFiledataCallback&&e.handler.noticeUpdateWhiteboardFiledataCallback(e.filedata))}},{key:"_batchReceiveSnapshot",value:function(n,i){var a=this;Array.isArray(n)?(n.forEach(function(e,t){var o=!0;t===n.length-1&&(o=!1),a._handlerRemoteDataToWhiteboard(e,o,i)}),a._actionIsDisable(i)):L.Logger.error(m.default.logType,"shapesArray must be an array!")}},{key:"_receiveSnapshot",value:function(e,t){this._handlerRemoteDataToWhiteboard(e,!1,t),this._actionIsDisable(t)}},{key:"_handlerRemoteDataToWhiteboard",value:function(e,t,o){var n=1<arguments.length&&void 0!==t&&t,i=o;if(e.data&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),null!=e.data&&null!=e.data.eventType)if("delmsg"===e.source)switch(e.data.eventType){case"shapeSaveEvent":case"clearEvent":case"undoEvent":e.data.actionName&&"AddShapeAction"===e.data.actionName?(i.lc.undo(!1,e.data.shapeId),this._removeRemindContentByElementId(i,"whiteboard_remind_"+e.data.shapeId)):e.data.actionName&&"ClearAction"===e.data.actionName&&i.lc.undo(!1,e.data.clearActionId)}else switch(e.data.eventType){case"shapeSaveEvent":if(i&&i.lc&&i.lc.undoStack&&0<i.lc.undoStack.length)for(var a=!1,r=i.lc.undoStack.length-1;0<=r;r--){var s=i.lc.undoStack[r];switch(s.actionName){case"AddShapeAction":s.shapeId===e.data.shapeId&&(s.undo&&s.undo(),i.lc.undoStack.splice(r,1),a=!0)}if(a)break}e.data&&e.data.data&&e.data.data.data&&(e.data.data=window.LC.JSONToShape(e.data.data)),i.lc.saveShape(e.data.data,!1,null,n,e.fromID,e.seq);break;case"undoEvent":e.data.actionName&&"AddShapeAction"===e.data.actionName?(i.lc.undo(!1,e.data.shapeId),this._removeRemindContentByElementId(i,"whiteboard_remind_"+e.data.shapeId)):e.data.actionName&&"ClearAction"===e.data.actionName&&i.lc.undo(!1,e.data.clearActionId);break;case"redoEvent":if(e.data.actionName&&"AddShapeAction"===e.data.actionName){for(var A=!0,l=i.lc.undoStack.length-1;0<=l;l--)if(e.data.shapeId===i.lc.undoStack[l].shapeId){A=!1;break}if(A){for(var c=!1,d=i.lc.redoStack.length-1;0<=d;d--)if(e.data.shapeId===i.lc.redoStack[d].shapeId){c=!0;break}if(c)i.lc.redo(!1,e.data.shapeId);else{e.data&&e.data.data&&e.data.data.data&&(e.data.data=window.LC.JSONToShape(e.data.data));var u=e.data.otherInfo,h=void 0===u?{authorUserId:e.fromID,seq:e.seq}:u;i.lc.saveShape(e.data.data,!1,null,n,h.authorUserId,h.seq)}}}else if(e.data.actionName&&"ClearAction"===e.data.actionName){for(var f=!0,p=i.lc.undoStack.length-1;0<=p;p--)if(e.data.clearActionId===i.lc.undoStack[p].id){f=!1;break}if(f){for(var g=!1,m=i.lc.redoStack.length-1;0<=m;m--)if(e.data.clearActionId===i.lc.redoStack[m].id){g=!0;break}if(g)i.lc.redo(!1,e.data.clearActionId),this._removeAllRemindContent(i);else{var y=e.data.otherInfo,v=void 0===y?{authorUserId:e.fromID,toAuthorUserId:void 0,seq:e.seq}:y;i.lc.clear(!1,e.data.clearActionId,v.authorUserId,v.toAuthorUserId,v.seq),this._removeAllRemindContent(i)}}}break;case"clearEvent":i.lc.clear(!1,e.data.clearActionId,e.fromID,e.data.toAuthorUserId,e.seq),this._removeAllRemindContent(i);break;case"laserMarkEvent":var w=i.lc.containerEl.parentNode.getElementsByClassName("laser-mark")[0];switch(e.data.actionName){case"show":w.style.display="block";break;case"hide":w.style.display="none";break;case"move":if(e.data&&e.data.laser){var b=e.data.laser.left,B=e.data.laser.top;w.style.left=b+"%",w.style.top=B+"%"}}}}},{key:"_productionToolDesc",value:function(e){return{toolKey:e,disabled:!1}}},{key:"_noticeUpdateToolDesc",value:function(e){e&&e.isRegisterWhiteboardTool&&e.handler&&e.handler.noticeUpdateToolDescCallback&&e.handler.noticeUpdateToolDescCallback(e.registerWhiteboardToolsList)}},{key:"_updateToolDesc",value:function(e,t,o){if(e.registerWhiteboardToolsList[t]){var n=!0,i=!1,a=void 0;try{for(var r,s=Object.entries(o)[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var A=r.value,l=y(A,2),c=l[0],d=l[1];void 0!==e.registerWhiteboardToolsList[t][c]&&(e.registerWhiteboardToolsList[t][c]=d)}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}var u=!0,h=!1,f=void 0;try{for(var p,g=Object.keys(e.registerWhiteboardToolsList)[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var m=p.value;/tool_/g.test(m)?e.registerWhiteboardToolsList[m].isUse=m===e.activeTool:/zoom_/g.test(m)&&(e.registerWhiteboardToolsList[m].zoom=e.whiteboardMagnification)}}catch(e){h=!0,f=e}finally{try{!u&&g.return&&g.return()}finally{if(h)throw f}}}},{key:"_batchUpdateToolDesc",value:function(e,t){if(Array.isArray(t)){var o=!0,n=!1,i=void 0;try{for(var a,r=t[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;Array.isArray(s)&&this._updateToolDesc(e,s[0],s[1])}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}else L.Logger.error(m.default.logType,"updateDescArray must be an array , whiteboard id is "+e.id+"!")}},{key:"_setWhiteboardTools",value:function(o,e){var n=this;n._automaticTraverseWhiteboardInstance(e,function(e){var t=n._productionToolByCore(o,e);e.lc.setTool(t)})}},{key:"_productionToolByCore",value:function(e,t){var o=void 0;if(void 0===this.useWhiteboardTool[e])return L.Logger.error(m.default.logType,"The whiteboard does not have the "+e+" tool!"),o;switch(e){case"tool_pencil":case"tool_highlighter":o=new window.LC.tools.Pencil(t.lc);break;case"tool_line":o=new window.LC.tools.Line(t.lc);break;case"tool_arrow":(o=new window.LC.tools.Line(t.lc)).hasEndArrow=!0;break;case"tool_dashed":(o=new window.LC.tools.Line(t.lc)).isDashed=!0;break;case"tool_eraser":o=new window.LC.tools.Eraser(t.lc);break;case"tool_text":o=new window.LC.tools.Text(t.lc);break;case"tool_rectangle":case"tool_rectangle_empty":o=new window.LC.tools.Rectangle(t.lc);break;case"tool_ellipse":case"tool_ellipse_empty":o=new window.LC.tools.Ellipse(t.lc);break;case"tool_polygon":o=new window.LC.tools.Polygon(t.lc);break;case"tool_eyedropper":o=new window.LC.tools.Eyedropper(t.lc);break;case"tool_selectShape":o=new window.LC.tools.SelectShape(t.lc);break;case"tool_mouse":case"tool_laser":o=t.lc.tool;break;default:L.Logger.warning(m.default.logType,"Tool "+e+" is not created in the whiteboard core layer!"),o=t.lc.tool}return o}},{key:"_getWhiteboardInstanceID",value:function(e){var t=this.uniqueWhiteboard||null==e?this.whiteboardInstanceDefaultID:this.whiteboardInstanceIDPrefix+e;return e&&"string"==typeof e&&new RegExp(this.specialWhiteboardInstanceIDPrefix,"g").test(e)&&(t=e),t}},{key:"_getWhiteboardInstanceById",value:function(e){var t=this._getWhiteboardInstanceID(e);return this.whiteboardInstanceStore[t]}},{key:"_getWhiteboardInstanceByID",value:function(e){return this.whiteboardInstanceStore[e]}},{key:"_resizeWhiteboardByScale",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.watermarkImage,i=o.isChangeCanvas,a=void 0===i||i,r=o.isChangeWatermarkScale,s=void 0===r||r,A=o.watermarkImageScale;A=void 0!==A?A:e.watermarkImageScale;var l=e.lc;if(l){var c=e.whiteboardElement,d=e.whiteboardInstanceElement,u=e.containerWidthAndHeight.width,h=e.containerWidthAndHeight.height;if(e.parcelAncestorElementId){var f=document.getElementById(e.parcelAncestorElementId);f&&(u=f.clientWidth,h=f.clientHeight)}var p={},g={},m=0,y=0,v=0,w=0,b=this.fullWhite;if(h*A<u?(y=b?(m=Math.round(u*e.whiteboardMagnification),Math.round(u/A*e.whiteboardMagnification)):(m=Math.round(h*A*e.whiteboardMagnification),Math.round(h*e.whiteboardMagnification)),"relativeOriginalSize"===e.insertPictureRule&&n&&n.width<u&&n.height<h&&(m=n.width,y=n.height),c.style.width=m+"px",c.style.height=y+"px",d.style.width=m+"px",d.style.height=y+"px",void 0!==e.minHeight&&null!==e.minHeight&&(v=e.minHeight*A,w=e.minHeight,c.style.minWidth=v+"px",c.style.minHeight=w+"px",d.style.minWidth=v+"px",d.style.minHeight=w+"px",g.minWidth=v+"px",g.minHegiht=w+"px"),g.top="0%",g.left="50%",g.marginTop="0px",g.marginLeft=-m/2+"px"):(m=Math.round(u*e.whiteboardMagnification),y=Math.round(u/A*e.whiteboardMagnification),"relativeOriginalSize"===e.insertPictureRule&&n&&n.width<u&&n.height<h&&(m=n.width,y=n.height),c.style.width=m+"px",c.style.height=y+"px",d.style.width=m+"px",d.style.height=y+"px",void 0!==e.minHeight&&null!==e.minHeight&&(v=e.minHeight*A,w=e.minHeight,c.style.minWidth=v+"px",c.style.minHeight=w+"px",d.style.minWidth=v+"px",d.style.minHeight=w+"px",g.minWidth=v+"px",g.minHegiht=w+"px"),g.top="50%",g.left="0%",g.marginTop=-y/2+"px",g.marginLeft="0px"),g.width=m+"px",g.height=y+"px",a){l.respondToSizeChange();var B=d.clientWidth,_=d.clientHeight,C=(B+_)/(e.baseWhiteboardWidth+e.baseWhiteboardWidth*A);if(l.setZoom(C),l.setPan(0,0),s&&n){var E=(B/n.width+_/n.height)/2;"relativeOriginalSize"===e.insertPictureRule&&n&&n.width<u&&n.height<h&&(E=1),l.watermarkScale=E,l.setWatermarkImage(n)}}p.style=g,p.addClassName=1<e.whiteboardMagnification?"custom-scroll-bar":"",p.loadScrollBar=b||1<e.whiteboardMagnification,e.handler&&e.handler.resizeWhiteboardSizeCallback&&"function"==typeof e.handler.resizeWhiteboardSizeCallback?e.handler.resizeWhiteboardSizeCallback(p):p=null}}},{key:"_clearWhiteboardAllDataByInstance",value:function(e){var t=this;e?(e.lc.clear(!1),e.lc.redoStack.length=0,e.lc.undoStack.length=0,e.stackStorage={},e.waitingProcessShapeData={},this._removeAllRemindContent(e),setTimeout(function(){t._resizeWhiteboardHandler(e)},0)):L.Logger.error(m.default.logType,"[_clear]The whiteboard instance does not exist!")}},{key:"_resizeWhiteboardHandler",value:function(e){if(e&&e.lc){var t=e.lc.watermarkImage;if(t&&t.src){var o=t.width/t.height;this._resizeWhiteboardByScale(e,{watermarkImage:t,watermarkImageScale:o})}else this._resizeWhiteboardByScale(e,{isChangeWatermarkScale:!1});this._updateAllRemindContent(e)}}},{key:"_updateWhiteboardWatermarkImageScale",value:function(e,t){e.watermarkImageScale=t,this._resizeWhiteboardHandler(e)}},{key:"_productionWhiteboardRemindContent",value:function(e,t,o,n,i){var a=this;if(e&&n)try{if(e&&e.lc&&e.lc.containerEl.parentNode&&"function"==typeof e.lc.drawingCoordsToClientCoords){var r=e.lc.drawingCoordsToClientCoords(t,o);if(r){var s=document.createElement("span");s.className="remind-content",s.style.position="absolute",s.style.left=r.x+"px",s.style.top=r.y+"px",s.innerHTML=n;var A=i?"whiteboard_remind_"+i:"whiteboard_remind_"+(new Date).getTime();s.setAttribute("data-position-x",t),s.setAttribute("data-position-y",o),s.setAttribute("id",A),e.lc.containerEl.parentNode.appendChild(s),setTimeout(function(){a._removeRemindContentByElementId(e,A),s=null},e.remindContentTime)}}}catch(e){L.Logger.error(m.default.logType,"productionWhiteboardRemindContent error:",e)}}},{key:"_updateAllRemindContent",value:function(e){try{if(e.lc&&e.lc.containerEl.parentNode){var t=e.lc.containerEl.parentNode.getElementsByClassName("remind-content");if(t&&0<t.length)for(var o=0;o<t.length;o++){var n=t[o],i=Number(n.getAttribute("data-position-x")),a=Number(n.getAttribute("data-position-y")),r=e.lc.drawingCoordsToClientCoords(i,a);n.style.left=r.x+"px",n.style.top=r.y+"px"}}}catch(e){L.Logger.error(m.default.logType,"updateAllRemindContent error:",e)}}},{key:"_removeRemindContentByElementId",value:function(e,t){if(e&&e.lc&&e.lc.containerEl.parentNode){var o=document.getElementById(t);o&&(o.innerHTML="",e.lc.containerEl.parentNode.removeChild(o),o=null)}}},{key:"_removeAllRemindContent",value:function(e){if(e&&e.lc&&e.lc.containerEl.parentNode)try{if(e.lc&&e.lc.containerEl.parentNode){var t=e.lc.containerEl.parentNode.getElementsByClassName("remind-content");if(t&&0<t.length)for(var o=t.length-1;0<=o;o--){var n=t[o];n.innerHTML="",e.lc.containerEl.parentNode.removeChild(n),n=null}}}catch(e){L.Logger.error(m.default.logType,"removeAllRemindContent error:",e)}}},{key:"_handlerShapeSaveEvent",value:function(e,t){e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("currentWhiteboardId",{id:e.id}),this._sendWhiteboardMessageToSignallingServer(e,"shapeSaveEvent",t),this._actionIsDisable(e)}},{key:"_handlerUndoEvent",value:function(e,t){this._sendWhiteboardMessageToSignallingServer(e,"undoEvent",t),this._actionIsDisable(e)}},{key:"_handlerRedoEvent",value:function(e,t){this._sendWhiteboardMessageToSignallingServer(e,"redoEvent",t),this._actionIsDisable(e)}},{key:"_handlerClearEvent",value:function(e,t){this._sendWhiteboardMessageToSignallingServer(e,"clearEvent",t),this._actionIsDisable(e)}},{key:"_handlerDrawingChangeEvent",value:function(e){this._saveImageBase64ToImageThumbnail(e)}},{key:"_saveImageBase64ToImageThumbnail",value:function(e){if(e.imageThumbnailId){var t=document.getElementById(e.imageThumbnailId);if(t&&"img"===t.nodeName.toLowerCase()){var o=this._convertCanvasToImageBase64(e,"jpg");t.src=o,e.imageThumbnailTipContent&&document.getElementById(e.imageThumbnailId+"_imageDescribe")?document.getElementById(e.imageThumbnailId+"_imageDescribe").innerHTML=e.imageThumbnailTipContent:e.nickname&&document.getElementById(e.imageThumbnailId+"_imageDescribe")&&(document.getElementById(e.imageThumbnailId+"_imageDescribe").innerHTML=e.nickname)}}}},{key:"_destroyWhiteboardInstance",value:function(e){clearTimeout(e.noticeUpdateToolDescTimer),clearTimeout(e.laserTimer),clearTimeout(e.setWhiteboardWatermarkImageTimer),this.basicTemplateWhiteboardSignallingList[e.id]&&(this.basicTemplateWhiteboardSignallingList[e.id]=null,delete this.basicTemplateWhiteboardSignallingList[e.id]),this._clearWhiteboardAllDataByInstance(e);var t=e.whiteboardInstanceID,o=e.whiteboardElement;e.lc&&"function"==typeof e.lc.teardown&&e.lc.teardown(),o?o.innerHTML="":L.Logger.warning(m.default.logType,"[destroy] whiteboard elements do not exist , element id is:"+e.whiteboardElementId+"!");var n=e.thumbnailId?document.getElementById(e.thumbnailId):void 0;n&&(n.innerHTML="");var i=!0,a=!1,r=void 0;try{for(var s,A=Object.keys(e)[Symbol.iterator]();!(i=(s=A.next()).done);i=!0){var l=s.value;e[l]=null,delete e[l]}}catch(e){a=!0,r=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw r}}this.whiteboardInstanceStore[t]=null,delete this.whiteboardInstanceStore[t]}},{key:"_clearLc",value:function(e,t){(1<arguments.length&&void 0!==t?t:{}).triggerEvent,e&&e.lc?(e.lc.clear(!1),this._removeAllRemindContent(e)):L.Logger.warning(m.default.logType,"clear whiteboard is not exist!")}},{key:"_clearLcRedoStack",value:function(e){e&&e.lc?e.lc.redoStack.length=0:L.Logger.warning(m.default.logType,"clearRedoStack whiteboard is not exist!")}},{key:"_clearLcUndoStack",value:function(e){e&&e.lc?e.lc.undoStack.length=0:L.Logger.warning(m.default.logType,"clearUndoStack whiteboard is not exist!")}},{key:"_showWhiteboardLoading",value:function(e){e.lc.loadingElement&&(e.lc.loadingElement.style.display="block")}},{key:"_hideWhiteboardLoading",value:function(e){e.lc.loadingElement&&(e.lc.loadingElement.style.display="none")}},{key:"_changeWhiteboardTemporaryDeawPermission",value:function(n,e){this._automaticTraverseWhiteboardInstance(e,function(e){var t=e.lc;if(t.isTmpDrawAble!==n){t.isTmpDrawAble=n;var o=t.containerEl.parentNode.getElementsByClassName("temporary-draw-permission")[0];t.isTmpDrawAble?(o.className=o.className.replace(/( yes| no)/g,""),o.className+=" yes"):(o.className=o.className.replace(/( yes| no)/g,""),o.className+=" no")}})}},{key:"_changeWhiteboardDeawPermission",value:function(n,e){this._automaticTraverseWhiteboardInstance(e,function(e){e.deawPermission=n;var t=e.lc;if(t.isDrawAble!==n){t.isDrawAble=n;var o=t.containerEl.parentNode.getElementsByClassName("draw-permission")[0];t.isDrawAble?(o.className=o.className.replace(/( yes| no)/g,""),o.className+=" yes"):(o.className=o.className.replace(/( yes| no)/g,""),o.className+=" no")}})}},{key:"_handlerActiveToolLaser",value:function(t,e){var f=this;f._automaticTraverseWhiteboardInstance(e,function(c){var e=c.lc.containerEl.parentNode,d=e.getElementsByClassName("temporary-draw-permission")[0],u=e.getElementsByClassName("laser-mark")[0];if("tool_laser"===t){A(d,"mousemove",c._laserEventHandler_mousemove),A(e,"mouseenter",c._laserEventHandler_mouseenter),A(e,"mouseleave",c._laserEventHandler_mouseleave);var h=void 0;c._laserEventHandler_mousemove=function(e){var t=e.offsetX,o=e.offsetY,n=void 0,i=void 0,a=d.clientWidth,r=d.clientHeight;switch(c.rotateDeg){case 0:n=t,i=o;break;case 90:n=o,i=r-t;break;case 180:n=a-t,i=r-o;break;case 270:n=a-o,i=t;break;default:n=t,i=o}var s=n/a*100,A=i/r*100;u.style.left=s+"%",u.style.top=A+"%";var l=(new Date).getTime();return 500<=l-h&&(h=l,function(){if(c.laserPosition&&(.3<Math.abs(s-c.laserPosition.left)||.3<Math.abs(A-c.laserPosition.top))){var e={laser:{left:s,top:A},action:{actionName:"move"}};c.laserPosition=e.laser,f._sendWhiteboardMessageToSignallingServer(c,"laserMarkEvent",e)}}()),!1},c._laserEventHandler_mouseenter=function(e){return h=(new Date).getTime(),f._sendWhiteboardMessageToSignallingServer(c,"laserMarkEvent",{action:{actionName:"show"}}),!(u.style.display="block")},c._laserEventHandler_mouseleave=function(e){return f._sendWhiteboardMessageToSignallingServer(c,"laserMarkEvent",{action:{actionName:"hide"}}),!(u.style.display="none")},f._changeWhiteboardTemporaryDeawPermission(!1,c),c.selectLaserTool=!0,A(d,"mousemove",c._laserEventHandler_mousemove),A(e,"mouseenter",c._laserEventHandler_mouseenter),A(e,"mouseleave",c._laserEventHandler_mouseleave),d.className=d.className.replace(/ cursor-none/g,""),d.className+=" cursor-none",c.laserPosition=c.laserPosition||{left:0,top:0},s(d,"mousemove",c._laserEventHandler_mousemove),s(e,"mouseenter",c._laserEventHandler_mouseenter),s(e,"mouseleave",c._laserEventHandler_mouseleave)}else f._changeWhiteboardTemporaryDeawPermission("tool_mouse"!==t,c),A(d,"mousemove",c._laserEventHandler_mousemove),A(e,"mouseenter",c._laserEventHandler_mouseenter),A(e,"mouseleave",c._laserEventHandler_mouseleave),d.className=d.className.replace(/ cursor-none/g,""),u.style.display="none",c.selectLaserTool&&(f._sendWhiteboardMessageToSignallingServer(c,"laserMarkEvent",{action:{actionName:"hide"}}),c.selectLaserTool=!1)})}},{key:"_sendSignallingToServer",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.idPrefix,i=o.data,a=o.name,r=o.assignId,s=o.do_not_save,A=o.expiresabs,l=o.associatedMsgID,c=o.associatedUserID;if(e){if(e.handler&&e.handler.sendSignallingToServer&&"function"==typeof e.handler.sendSignallingToServer){var d=e.filedata,u=d.currpage,h=d.fileid;if(void 0===u||void 0===h)return void L.Logger.error(m.default.logType,"[_sendSignallingToServer]whiteboardInstance.filedata do not contain  currpage or fileid , [ currpage , fileid ]is ["+u+","+h+"]!");i&&"string"==typeof i&&(i=JSON.parse(i)),i.whiteboardID=e.id,i.isBaseboard=e.isBaseboard,i.nickname=e.nickname,void 0!==e.dependenceBaseboardWhiteboardID&&(i.dependenceBaseboardWhiteboardID=e.dependenceBaseboardWhiteboardID),l=l||e.associatedMsgID,c=c||e.associatedUserID;var f=r||n+"###_"+a+"_"+h+"_"+u,p="__allExceptSender";"shapeSaveEvent"!==i.eventType&&"undoEvent"!==i.eventType&&"redoEvent"!==i.eventType&&"clearEvent"!==i.eventType||(p="__all");var g=Object.deepAssign({},i);"__all"!==p&&this._saveBasicTemplateWhiteboardSignallingData({name:a,id:f,toID:p,data:g,do_not_save:s,expiresabs:A,associatedMsgID:l,associatedUserID:c},"pubmsg"),e.handler.sendSignallingToServer(a,f,p,i,s,A,l,c)}}else L.Logger.error(m.default.logType,"[_sendSignallingToServer]whiteboardInstance is not exist!")}},{key:"_delSignallingToServer",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{},n=o.idPrefix,i=o.data,a=o.name,r=o.assignId;if(e){if(e.handler&&e.handler.delSignallingToServer&&"function"==typeof e.handler.delSignallingToServer){var s=e.filedata,A=s.currpage,l=s.fileid;if(void 0===A||void 0===l)return void L.Logger.error(m.default.logType,"[_delSignallingToServer]whiteboardInstance.filedata do not contain  currpage or fileid , [ currpage , fileid ]is ["+A+","+l+"]!");i.whiteboardID=e.id,i.isBaseboard=e.isBaseboard,void 0!==e.dependenceBaseboardWhiteboardID&&(i.dependenceBaseboardWhiteboardID=e.dependenceBaseboardWhiteboardID);var c=r||n+"###_"+a+"_"+l+"_"+A,d="__allExceptSender";"shapeSaveEvent"!==i.eventType&&"undoEvent"!==i.eventType&&"redoEvent"!==i.eventType&&"clearEvent"!==i.eventType||(d="__all");var u=Object.deepAssign({},i);"__all"!==d&&this._saveBasicTemplateWhiteboardSignallingData({name:a,id:c,toID:d,data:u},"delmsg"),e.handler.delSignallingToServer(a,c,d,i)}}else L.Logger.error(m.default.logType,"[_delSignallingToServer]whiteboardInstance is not exist!")}},{key:"_sendWhiteboardMessageToSignallingServer",value:function(e,t,o){var n=void 0,i=void 0,a=void 0,r=void 0,s=void 0,A=void 0,l=void 0;switch(t){case"shapeSaveEvent":null==(A=window.LC.shapeToJSON(o.shape))||null==A.className||"LinePath"!=A.className&&"ErasedLinePath"!=A.className||(A.data.smoothedPointCoordinatePairs=null,delete A.data.smoothedPointCoordinatePairs,A.data.pointCoordinatePairs.forEach(function(e){e[0]=Math.round(e[0]),e[1]=Math.round(e[1])})),l={eventType:t,actionName:o.action.actionName,shapeId:o.shapeId,data:A},n=o.shapeId,i=l,a="SharpsChange",s=r=void 0,this._sendSignallingToServer(e,{idPrefix:n,data:i,name:a,assignId:r,do_not_save:s});break;case"undoEvent":if("AddShapeAction"===o.action.actionName){var c=o.action.shapeId;n=c,i=l={eventType:t,actionName:o.action.actionName,shapeId:c},a="SharpsChange",r=void 0,this._delSignallingToServer(e,{idPrefix:n,data:i,name:a,assignId:r})}else if("ClearAction"===o.action.actionName){var d=o.action.id;n=d,i=l={eventType:t,actionName:o.action.actionName,clearActionId:d},a="SharpsChange",r=void 0,this._delSignallingToServer(e,{idPrefix:n,data:i,name:a,assignId:r})}break;case"redoEvent":if("AddShapeAction"===o.action.actionName){null==(A=window.LC.shapeToJSON(o.action.shape))||null==A.className||"LinePath"!=A.className&&"ErasedLinePath"!=A.className||(A.data.smoothedPointCoordinatePairs=null,delete A.data.smoothedPointCoordinatePairs,A.data.pointCoordinatePairs.forEach(function(e){e[0]=Math.round(e[0]),e[1]=Math.round(e[1])}));var u=o.action.shapeId,h={authorUserId:o.action.authorUserId,seq:o.action.seq},f=u,p=l={eventType:t,actionName:o.action.actionName,shapeId:u,data:A,otherInfo:h};this._sendSignallingToServer(e,{idPrefix:f,data:p,name:"SharpsChange",assignId:void 0,do_not_save:void 0})}else if("ClearAction"===o.action.actionName){var g=o.action.id,m={authorUserId:o.action.authorUserId,seq:o.action.seq,toAuthorUserId:o.action.toAuthorUserId};n=g,i=l={eventType:t,actionName:o.action.actionName,clearActionId:g,otherInfo:m},a="SharpsChange",s=r=void 0,this._sendSignallingToServer(e,{idPrefix:n,data:i,name:a,assignId:r,do_not_save:s})}break;case"clearEvent":var y=o.clearActionId;n=y,i=l={eventType:t,actionName:o.action.actionName,clearActionId:y},a="SharpsChange",s=r=void 0,e&&e.isOnlyUndoRedoClearMyselfShape&&e.myselfId&&(l.toAuthorUserId=e.myselfId),this._sendSignallingToServer(e,{idPrefix:n,data:i,name:a,assignId:r,do_not_save:s});break;case"laserMarkEvent":l={eventType:t,actionName:o.action.actionName},o&&o.laser&&(l.laser=o.laser),n="laserMarkEvent",i=l,a="SharpsChange",s=!(r=void 0),this._sendSignallingToServer(e,{idPrefix:n,data:i,name:a,assignId:r,do_not_save:s})}}},{key:"_updateTextFont",value:function(e){this._automaticTraverseWhiteboardInstance(e,function(e){var t=e.whiteboardToolsInfo.fontSize,o=e.whiteboardToolsInfo.fontFamily,n=e.whiteboardToolsInfo.fontStyle,i=e.whiteboardToolsInfo.fontWeight,a=e.lc.tool;"Text"===a.name&&(a.font=n+" "+i+" "+t+"px "+o)})}},{key:"_updateEraserWidth",value:function(e){this._automaticTraverseWhiteboardInstance(e,function(e){var t=e.whiteboardToolsInfo.eraserWidth;e.lc.trigger("setStrokeWidth",t)})}},{key:"_updatePencilWidth",value:function(e){this._automaticTraverseWhiteboardInstance(e,function(e){var t=e.whiteboardToolsInfo.pencilWidth;e.lc.trigger("setStrokeWidth",t)})}},{key:"_updateShapeWidth",value:function(e){this._automaticTraverseWhiteboardInstance(e,function(e){var t=e.whiteboardToolsInfo.shapeWidth;e.lc.trigger("setStrokeWidth",t)})}},{key:"_updateColor",value:function(e,A){A&&"object"===(void 0===A?"undefined":f(A))&&this._automaticTraverseWhiteboardInstance(e,function(e){var t=!0,o=!1,n=void 0;try{for(var i,a=Object.keys(A)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value.replace(/Color/g,"");if(e.lc.setColor(r,e.whiteboardToolsInfo[r+"Color"]),"primary"!==r&&"secondary"!==r||"tool_rectangle"!==e.activeTool&&"tool_rectangle_empty"!==e.activeTool&&"tool_ellipse"!==e.activeTool&&"tool_ellipse_empty"!==e.activeTool&&"tool_polygon"!==e.activeTool||("tool_ellipse_empty"===e.activeTool||"tool_rectangle_empty"===e.activeTool?e.lc.setColor("secondary","transparent"):e.lc.setColor("secondary",e.whiteboardToolsInfo.primaryColor)),"primary"===r&&"tool_highlighter"===e.activeTool){var s=e.whiteboardToolsInfo[r+"Color"].colorRgb().toLowerCase().replace("rgb","rgba").replace(")",",0.5)");e.lc.setColor(r,s)}}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}})}},{key:"_actionIsDisable",value:function(e){var n=this;n._automaticTraverseWhiteboardInstance(e,function(e){if(e.active){if(0===e.lc.shapes.length)n._batchUpdateToolDesc(e,[["action_clear",{disabled:!0}],["tool_eraser",{disabled:!0}],["tool_eyedropper",{disabled:!0}]]),n._noticeUpdateToolDesc(e);else{var t=[["action_clear",{disabled:!1}],["tool_eraser",{disabled:!1}],["tool_eyedropper",{disabled:!1}]];if(e.isOnlyUndoRedoClearMyselfShape&&e.myselfId){t=[["action_clear",{disabled:!0}],["tool_eraser",{disabled:!0}],["tool_eyedropper",{disabled:!0}]];for(var o=0;o<e.lc.shapes.length;o++)if(e.lc.shapes[o].authorUserId==e.myselfId){t=[["action_clear",{disabled:!1}],["tool_eraser",{disabled:!1}],["tool_eyedropper",{disabled:!1}]];break}}n._batchUpdateToolDesc(e,t),n._noticeUpdateToolDesc(e)}e.lc.canRedo()?n._updateToolDesc(e,"action_redo",{disabled:!1}):n._updateToolDesc(e,"action_redo",{disabled:!0}),n._noticeUpdateToolDesc(e),e.lc.canUndo()?n._updateToolDesc(e,"action_undo",{disabled:!1}):n._updateToolDesc(e,"action_undo",{disabled:!0}),n._noticeUpdateToolDesc(e)}})}},{key:"_zoomIsDisable",value:function(e){var o=this;o._automaticTraverseWhiteboardInstance(e,function(e){if(e.active){var t=[];t=e.whiteboardMagnification<=o.minMagnification?[["zoom_small",{disabled:!0}],["zoom_default",{disabled:!0}],["zoom_big",{disabled:!1}]]:e.whiteboardMagnification>o.minMagnification&&e.whiteboardMagnification<o.maxMagnification?[["zoom_small",{disabled:!1}],["zoom_default",{disabled:!1}],["zoom_big",{disabled:!1}]]:[["zoom_small",{disabled:!1}],["zoom_default",{disabled:!1}],["zoom_big",{disabled:!0}]],o._batchUpdateToolDesc(e,t),o._noticeUpdateToolDesc(e)}})}},{key:"_toolIsUse",value:function(e){var t=!0,o=!1,n=void 0;try{for(var i,a=Object.keys(e.registerWhiteboardToolsList)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;/tool_/g.test(r)?e.registerWhiteboardToolsList[r].isUse=r===e.activeTool:/zoom_/g.test(r)&&(e.registerWhiteboardToolsList[r].zoom=e.whiteboardMagnification)}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}this._noticeUpdateToolDesc(e)}},{key:"_automaticTraverseWhiteboardInstance",value:function(e,t){if(e)t&&"function"==typeof t&&t(e);else{var o=!0,n=!1,i=void 0;try{for(var a,r=Object.values(this.whiteboardInstanceStore)[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;t&&"function"==typeof t&&t(s)}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}}},{key:"_saveAwaitSaveToWhiteboardInstanceSignallingToWhiteboardInstance",value:function(e){for(var t=!1,o=0;o<this.awaitSaveToWhiteboardInstanceSignallingArray.length;o++){var n=this.awaitSaveToWhiteboardInstanceSignallingArray[o];if(n.data&&"string"==typeof n.data&&(n.data=JSON.parse(n.data)),n.data.whiteboardID===e.id){var i=n.id.substring(n.id.lastIndexOf("###_")+4);if(i){var a=i.split("_");i=a[0]+"_"+a[1]+"_"+a[2],e.waitingProcessShapeData[i]||(e.waitingProcessShapeData[i]=[]),e.waitingProcessShapeData[i].push(n),t=!0,this.awaitSaveToWhiteboardInstanceSignallingArray.splice(o,1,null)}}}if(t)for(var r=this.awaitSaveToWhiteboardInstanceSignallingArray.length-1;0<=r;r--)null===this.awaitSaveToWhiteboardInstanceSignallingArray[r]&&this.awaitSaveToWhiteboardInstanceSignallingArray.splice(r,1)}},{key:"_basicTemplateWhiteboardSignallingListToWhiteboardInstance",value:function(e){e.needLooadBaseboard&&!e.isBaseboard&&void 0!==e.dependenceBaseboardWhiteboardID&&!e.isHandleBasicTemplateWhiteboardSignallingList&&e.id!==e.dependenceBaseboardWhiteboardID&&this.basicTemplateWhiteboardSignallingList[e.dependenceBaseboardWhiteboardID]&&Array.isArray(this.basicTemplateWhiteboardSignallingList[e.dependenceBaseboardWhiteboardID])&&(this._batchReceiveSnapshot(this.basicTemplateWhiteboardSignallingList[e.dependenceBaseboardWhiteboardID],e),e.isHandleBasicTemplateWhiteboardSignallingList=!0)}},{key:"_convertCanvasToImage",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:"png";if(e&&e.lc&&e.lc.canvas){var n=e.lc.canvas,i=new Image;return i.src=n.toDataURL("image/"+o),i}}},{key:"_convertCanvasToImageBase64",value:function(e,t){if(e&&e.lc&&e.lc.canvas)return e.lc.canvas.toDataURL("image/"+t)}},{key:"_saveBasicTemplateWhiteboardSignallingData",value:function(e,t){e&&e.data&&e.data.isBaseboard&&void 0!==e.data.whiteboardID&&(e.source=t,this.basicTemplateWhiteboardSignallingList[e.data.whiteboardID]=this.basicTemplateWhiteboardSignallingList[e.data.whiteboardID]||[],this.basicTemplateWhiteboardSignallingList[e.data.whiteboardID].push(e))}},{key:"_handlerShowRemoteRemindContentFromPubmsgData",value:function(e,t){var o=void 0,n=void 0,i=void 0;if("pubmsg"===t.source&&t.data&&"shapeSaveEvent"===t.data.eventType)if("LinePath"==t.data.data.className){var a=t.data.data.points.length;0<a&&(o=t.data.data.points[a-1].x,n=t.data.data.points[a-1].y,i=t.remindContent),this._productionWhiteboardRemindContent(e,o,n,i,t.data.shapeId)}else"Rectangle"==t.data.data.className||"Ellipse"==t.data.data.className?(0<t.data.data.width&&0<t.data.data.height?(o=t.data.data.x+t.data.data.width,n=t.data.data.y):0<t.data.data.width&&t.data.data.height<0?(o=t.data.data.x+t.data.data.width,n=t.data.data.y+t.data.data.height):t.data.data.width<0&&t.data.data.height<0?(o=t.data.data.x,n=t.data.data.y+t.data.data.height):t.data.data.width<0&&0<t.data.data.height&&(o=t.data.data.x,n=t.data.data.y),i=t.remindContent,this._productionWhiteboardRemindContent(e,o,n,i,t.data.shapeId)):"Text"==t.data.data.className?(o=t.data.data.x+t.data.data.renderer.metrics.width,n=t.data.data.y+20*t.data.data.renderer.metricses.length,i=t.remindContent,this._productionWhiteboardRemindContent(e,o,n,i,t.data.shapeId)):"Line"==t.data.data.className&&(o=t.data.data.x2,n=t.data.data.y2,i=t.remindContent,this._productionWhiteboardRemindContent(e,o,n,i,t.data.shapeId))}},{key:"_noticeNpdateWhiteboardToolsInfo",value:function(e){e.handler&&"function"==typeof e.handler.receiveActionCommandCallback&&e.handler.receiveActionCommandCallback("updateWhiteboardToolsInfo",{id:e.id,whiteboardToolsInfo:Object.deepAssign({},e.whiteboardToolsInfo)})}}]),l);o.default=c},{"../utils/Global":341,pdfobject:333}],338:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n={};n.commonWhiteboard={webAddress:/http:/.test(window.location.protocol)?"http://global.talk-cloud.net:80":"https://global.talk-cloud.net:443",docAddress:/http:/.test(window.location.protocol)?"http://global.talk-cloud.net:80":"https://global.talk-cloud.net:443",backupDocAddressList:[],myUserId:void 0,myRole:void 0,myName:void 0,isConnectedRoom:!1,isPlayback:!1,deviceType:void 0,clientType:void 0},n.defaultWhiteboard={sendH5DocumentRoomInfo:{},isBackEvent:!1,hasExtendDocument:!1,showpageNotice:!1,loadDynamicPptView:!0,loadH5DocumentView:!0,isMobile:!1,mediaShareToID:void 0,associatedMsgID:void 0,associatedUserID:void 0,clientMediaShare:!1,mediaSharePauseWhenOver:!1,isLoadAudioPlayer:!0,isLoadVideoPlayer:!0,isLoadDocumentRemark:!0,isH5MediaOutput:!1,isH5MediaOutputDominant:!1,canRemark:!1,secondaryColor:"#ffffff",initWhiteboardProductionOptions:{},documentToolBarConfig:{parentNode:void 0,isDrag:!0,isLoadFullScreen:!0,isLoadRemark:!1,isLoadVolume:!1,initDragPosition:{left:50,top:98},fullScreenElementId:void 0},documentRemarkConfig:{parentNode:void 0,isDrag:!0,initDragPosition:{left:50,top:98}},whiteboardToolBarConfig:{parentNode:void 0,isDrag:!0,pencilWidthScale:1,eraserWidthScale:2,initDragPosition:{left:2,top:2},loadWhiteboardTools:{mouse:!0,laser:!0,pen:!0,text:!0,shape:!0,eraser:!0,clear:!0,undo:!0,redo:!0,setting:!0}},isShowReloadFileTip:!0,pptVolumeSynchronization:!1,insertPictureRule:"default",languageType:"ch",rootBackgroundColor:"transparent",primaryColor:"#000000",backgroundColor:"#ffffff",pencilWidth:5,shapeWidth:5,eraserWidth:15,fontSize:18,fontFamily:"å¾®è½¯é›…é»‘",showShapeAuthor:!1,synchronization:!0,isOnlyUndoRedoClearMyselfShape:!1,canDraw:!0,canPage:!0,addPage:!0,actionClick:!0,defaultWhiteboardScale:16/9,isUseKeyboardPage:!0,isLoadDocumentToolBar:!0,isLoadWhiteboardToolBar:!0,isDisconnectedClearWhiteboardData:!1,isNativePlayAudio:!1,audioPlayerConfig:{parentNode:void 0,controlCallback:{play:void 0,pause:void 0},isLoadControl:!0,controlPermissions:{hasPlayOrPause:!0,hasChangeProgress:!0,hasClose:!0}},videoPlayerConfig:{parentNode:void 0,controlCallback:{play:void 0,pause:void 0},isLoadControl:!0,controlPermissions:{hasPlayOrPause:!0,hasChangeProgress:!0,hasClose:!0}},clickCapture:!1,isMeeting:!1},o.default=n},{}],339:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),window.WhiteboardGlobalShare=window.WhiteboardGlobalShare||{};var n={WHITEBOARD_SDK_VERSION:"v2.1.0",WHITEBOARD_SDK_TIME:"2018102313",dynamicPptVersions:2017091401,remoteDynamicPptUpdateTime:2018042223,dynamicPptDebugLog:!1};console.info("[whiteboard-sdk]whiteboard sdk version is "+n.WHITEBOARD_SDK_VERSION+" , update time is "+n.WHITEBOARD_SDK_TIME),o.default=n},{}],340:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var C=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,r=e("./Global"),s=(a=r)&&a.__esModule?a:{default:a};var A=(n(l,[{key:"createElement",value:function(e,t,o,n,i){var a=document.createElement(e);if(void 0!==t&&a.setAttribute("id",t),void 0!==o&&(a.className=o),n&&"object"===(void 0===n?"undefined":E(n))){var r=!0,s=!1,A=void 0;try{for(var l,c=Object.entries(n)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value,u=C(d,2),h=u[0],f=u[1];a.style[h]=f}}catch(e){s=!0,A=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw A}}}if(i&&"object"===(void 0===i?"undefined":E(i))){var p=!0,g=!1,m=void 0;try{for(var y,v=Object.entries(i)[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var w=y.value,b=C(w,2),B=b[0],_=b[1];a.setAttribute(B,_)}}catch(e){g=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(g)throw m}}}return a}},{key:"appendChild",value:function(e,t){try{e&&t&&e.appendChild&&e.appendChild(t)}catch(e){L.Logger.error(s.default.logType,"[sdk-whiteboard]DoomUtils.appendChild error ",e)}}},{key:"removeChild",value:function(e,t){try{e&&(t&&t.removeChild?t.removeChild(e):e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e))}catch(e){L.Logger.error(s.default.logType,"[sdk-whiteboard]DoomUtils.removeChild error ",e)}}},{key:"removeAllChild",value:function(e){e&&(e.innerHTML="")}},{key:"hasClass",value:function(e,t){return!(!e||"string"!=typeof t)&&(new RegExp(" "+t+" ").test(e.className)||new RegExp(" "+t).test(e.className)||new RegExp(t+" ").test(e.className))}},{key:"resetClass",value:function(e,t){e&&"string"==typeof t&&(e.className=" "+t)}},{key:"addClass",value:function(e,t){if(e)if("string"==typeof t)e.className?e.className=e.className.replace(new RegExp(" "+t,"g"),"").replace(new RegExp(t+" ","g"),"")+" "+t:e.className=" "+t;else if(Array.isArray(t)){var o=!0,n=!1,i=void 0;try{for(var a,r=t[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;e.className?e.className=e.className.replace(new RegExp(" "+s,"g"),"").replace(new RegExp(s+" ","g"),"")+" "+s:e.className=" "}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}}},{key:"removeClass",value:function(e,t){if(e)if("string"==typeof t)e.className?e.className=e.className.replace(new RegExp(" "+t,"g"),"").replace(new RegExp(t+" ","g"),""):e.className=" ";else if(Array.isArray(t)){var o=!0,n=!1,i=void 0;try{for(var a,r=t[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value;e.className?e.className=e.className.replace(new RegExp(" "+s,"g"),"").replace(new RegExp(s+" ","g"),""):e.className=" "}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}}},{key:"updateStyle",value:function(e,t){if(e&&t&&"object"===(void 0===t?"undefined":E(t))){var o=!0,n=!1,i=void 0;try{for(var a,r=Object.entries(t)[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value,A=C(s,2),l=A[0],c=A[1];e.style[l]=c}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}}}},{key:"show",value:function(e){if(Array.isArray(e)){var t=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;this.updateStyle(r,{display:""})}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}else this.updateStyle(e,{display:""})}},{key:"hide",value:function(e){if(Array.isArray(e)){var t=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;this.updateStyle(r,{display:"none"})}}catch(e){o=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw n}}}else this.updateStyle(e,{display:"none"})}},{key:"getNodePosition",value:function(e){if(!e||"body"===e.tagName.toLowerCase())return[0,0];var t=e,o=this.getOffset(t),n=C(o,2),i=n[0],a=void 0===i?0:i,r=n[1],s=void 0===r?0:r;return a||s?(t=null,[a,s]):this.getNodePosition(t.offsetParent)}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect();return[t.top+window.pageYOffset-document.documentElement.clientTop,t.left+window.pageXOffset-document.documentElement.clientLeft]}}]),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}o.default=new A},{"./Global":341}],341:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./Utils"),a=(n=i)&&n.__esModule?n:{default:n};var r={newpptVersions:2017091401,remoteNewpptUpdateTime:2018032113,isSkipPageing:!1,isPlayVideoing:!1};r.allDocumentRemarkInfoMap=new Map,r.docAddress=/http:/.test(window.location.protocol)?"http://global.talk-cloud.net:80":"https://global.talk-cloud.net:443",r.laterAddressList=[],r.backupDocAddressList=[],r.docAddressList=[],r.hasGetDocAddressIndexByLocalStorage=!1,r.docAddressKey="",r.localStorageDocAddressKey="",r.nowUseDocAddress=a.default.getItem(r.docAddressList,r.docAddressKey),r.showPageFromId=void 0,r.preloadFile=null,r.extendShowPageFromId=void 0,r.protocol="",r.port="",r.logType={fileName:"whiteBoardSDK"},window.WBGlobal=r,o.default=r},{"./Utils":345}],342:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n=new Map;n.set("ch",{documentToolbar:{prevPage:"ä¸Šä¸€é¡µ",nextPage:"ä¸‹ä¸€é¡µ",prevStep:"ä¸Šä¸€é¡µ",nextStep:"ä¸‹ä¸€é¡µ",addPage:"åŠ é¡µ",enlargeWhiteboard:"æ”¾å¤§",narrowWhiteboard:"ç¼©å°",screenShot:"è¯¾ä»¶åŒºæˆªå±",pptVolume:"éŸ³é‡",onRemark:"æ‰“å¼€å¤‡æ³¨",offRemark:"å…³é—­å¤‡æ³¨",onGeneralDocumentFullScreen:"ç»˜åˆ¶åŒºåŸŸå…¨å±",offGeneralDocumentFullScreen:"ç»˜åˆ¶åŒºåŸŸå–æ¶ˆå…¨å±",onDynamicPPTFullScreen:"PPTå…¨å±",offDynamicPPTFullScreen:"PPTå–æ¶ˆå…¨å±",onH5DocumentFullScreen:"H5è¯¾ä»¶å…¨å±",offH5DocumentFullScreen:"H5è¯¾ä»¶å–æ¶ˆå…¨å±"},whiteboardToolbar:{fontFamily:{title:"æ–‡å­—æ ·å¼",options:{Msyh:"å¾®è½¯é›…é»‘",Ming:"å®‹ä½“",Arial:"Arial"}},fontSizeText:"å·",pencilWidthTitle:"çº¿æ¡å®½åº¦",eraserWidthTitle:"æ©¡çš®æ“¦å¤§å°",toolTextList:{tool_mouse:"é¼ æ ‡",tool_laser:"æ¿€å…‰ç¬”",penList:"ç¬”",tool_pencil:"é“…ç¬”",tool_highlighter:"è§å…‰ç¬”",tool_line:"çº¿æ¡",tool_arrow:"ç®­å¤´",tool_text:"æ–‡å­—",shapeList:"å½¢çŠ¶",tool_rectangle_empty:"ç©ºå¿ƒçŸ©å½¢",tool_rectangle:"çŸ©å½¢",tool_ellipse_empty:"ç©ºå¿ƒæ¤­åœ†",tool_ellipse:"æ¤­åœ†",tool_eraser:"æ©¡çš®æª«",action_undo:"æ’¤é”€",action_redo:"æ¢å¤",action_clear:"æ¸…å±",settingList:"æ›´å¤šè®¾ç½®"}},documentRemark:{name:"å¤‡æ³¨",closeTitle:"å…³é—­å¤‡æ³¨"}}),n.set("tw",{documentToolbar:{prevPage:"ä¸Šå£¹é ",nextPage:"ä¸‹å£¹é ",prevStep:"ä¸Šå£¹é ",nextStep:"ä¸‹å£¹é ",addPage:"åŠ é ",enlargeWhiteboard:"æ”¾å¤§",narrowWhiteboard:"ç¸®å°",screenShot:"èª²ä»¶å€æˆªåœ–",pptVolume:"éŸ³é‡",onRemark:"æ‰“é–‹å‚™è¨»",offRemark:"é—œé–‰å‚™è¨»",onGeneralDocumentFullScreen:"ç¹ªåˆ¶å€åŸŸå…¨å±",offGeneralDocumentFullScreen:"ç¹ªåˆ¶å€åŸŸå–æ¶ˆå…¨å±",onDynamicPPTFullScreen:"PPTå…¨å±",offDynamicPPTFullScreen:"PPTå–æ¶ˆå…¨å±",onH5DocumentFullScreen:"H5èª²ä»¶å…¨å±",offH5DocumentFullScreen:"H5èª²ä»¶å–æ¶ˆå…¨å±"},whiteboardToolbar:{fontFamily:{title:"æ–‡å­—æ¨£å¼",options:{Msyh:"å¾®è»Ÿé›…é»‘",Ming:"å®‹é«”",Arial:"Arial"}},fontSizeText:"è™Ÿ",pencilWidthTitle:"ç·šæ¢å¯¬åº¦",eraserWidthTitle:"æ©¡çš®æ“¦å¤§å°",toolTextList:{tool_mouse:"é¼ æ¨™",tool_laser:"æ¿€å…‰ç­†",penList:"ç­†",tool_pencil:"é‰›ç­†",tool_highlighter:"ç†’å…‰ç­†",tool_line:"ç·šæ¢",tool_arrow:"ç®­é ­",tool_text:"æ–‡å­—",shapeList:"å½¢ç‹€",tool_rectangle_empty:"ç©ºå¿ƒçŸ©å½¢",tool_rectangle:"çŸ©å½¢",tool_ellipse_empty:"ç©ºå¿ƒæ©¢åœ“",tool_ellipse:"æ©¢åœ“",tool_eraser:"æ©¡çš®æª«",action_undo:"æ’¤éŠ·",action_redo:"æ¢å¾©",action_clear:"æ¸…å±",settingList:"æ›´å¤šè¨­ç½®"}},documentRemark:{name:"å‚™è¨»",closeTitle:"é—œé–‰å‚™è¨»"}}),n.set("en",{documentToolbar:{prevPage:"Previous Page",nextPage:"Next Page",prevStep:"Previous Page",nextStep:"Next Page",addPage:"Add Page",enlargeWhiteboard:"Zoom In",narrowWhiteboard:"Zoom Out",screenShot:"screenshot",pptVolume:"Volume",onRemark:"Open Courseware Remarks",offRemark:"Close Courseware Remarks",onGeneralDocumentFullScreen:"Full Screen of Drawing Area",offGeneralDocumentFullScreen:"Cancel Full Screen of Drawing Area",onDynamicPPTFullScreen:"Full Screen  of PPT",offDynamicPPTFullScreen:"Cancel Full Screen  of PPT",onH5DocumentFullScreen:"Full Screen  of Courseware",offH5DocumentFullScreen:"Cancel Full Screen  of Courseware"},whiteboardToolbar:{fontFamily:{title:"Font Format",options:{Msyh:"Microsoft YaHei",Ming:"SimSun",Arial:"Arial"}},fontSizeText:"Font",pencilWidthTitle:"Line Width",eraserWidthTitle:"Eraser Size",toolTextList:{tool_mouse:"Mouse",tool_laser:"Laser Pen",penList:"Pen",tool_pencil:"Pencil",tool_highlighter:"Highlighter",tool_line:"Line",tool_arrow:"Arrow",tool_text:"Text Input",shapeList:"Shape",tool_rectangle_empty:"Square",tool_rectangle:"Solid Square",tool_ellipse_empty:"Circle",tool_ellipse:"Solid Circle",tool_eraser:"Eraser",action_undo:"Undo",action_redo:"Recover",action_clear:"Clear Screen",settingList:"More"}},documentRemark:{name:"Courseware Remarks",closeTitle:"Close Courseware Remarks"}}),n.set("ja",{documentToolbar:{prevPage:"å‰ã®ãƒšãƒ¼ã‚¸",nextPage:"æ¬¡ã®ãƒšãƒ¼ã‚¸",prevStep:"å‰ã®ãƒšãƒ¼ã‚¸",nextStep:"æ¬¡ã®ãƒšãƒ¼ã‚¸",addPage:"ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹",enlargeWhiteboard:"æ‹¡å¤§",narrowWhiteboard:"ç¸®å°",screenShot:"è¯¾ä»¶åŒºæˆªå±",pptVolume:"ãƒœãƒªãƒ¥ãƒ¼ãƒ ",onRemark:"å‚™è€ƒã‚’é–‹ã",offRemark:"å‚™è€ƒã‚’é–‰ã˜ã‚‹",onGeneralDocumentFullScreen:"æç”»é ˜åŸŸå…¨ç”»é¢",offGeneralDocumentFullScreen:"æ‰‹æ›¸ãéƒ¨åˆ†å…¨ç”»é¢è¡¨ç¤ºã®çµ‚äº†",onDynamicPPTFullScreen:"PPTå…¨ç”»é¢",offDynamicPPTFullScreen:"PPTå…¨ç”»é¢è¡¨ç¤ºã®çµ‚äº†",onH5DocumentFullScreen:"h5æ•™æå…¨ç”»é¢",offH5DocumentFullScreen:"H5æ•™æå…¨ç”»é¢ã®çµ‚äº†"},whiteboardToolbar:{fontFamily:{title:"ãƒ•ã‚©ãƒ³ãƒˆæ§˜å¼",options:{Msyh:"Microsoftã€€Yahei",Ming:"å®‹ä½“",Arial:"Arial"}},fontSizeText:"ç•ªå·",pencilWidthTitle:"ç·šã®å¤ªã•",eraserWidthTitle:"æ¶ˆã—ã‚´ãƒ ã®å¤§ãã•",toolTextList:{tool_mouse:"ãƒžã‚¦ã‚¹",tool_laser:"ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒšãƒ³",penList:"é‰›ç­†",tool_pencil:"é‰›ç­†",tool_highlighter:"è›å…‰ãƒšãƒ³",tool_line:"ç·š",tool_arrow:"çŸ¢å°",tool_text:"æ–‡å­—",shapeList:"å½¢çŠ¶",tool_rectangle_empty:"é•·æ–¹å½¢ï¼ˆå¡—ã‚Šã¤ã¶ã—ãªã—ï¼‰",tool_rectangle:"é•·æ–¹å½¢",tool_ellipse_empty:"æ¥•å††ï¼ˆå¡—ã‚Šã¤ã¶ã—ãªã—ï¼‰",tool_ellipse:"æ¥•å††",tool_eraser:"æ¶ˆã—ã‚´ãƒ ",action_undo:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",action_redo:"å…ƒã«æˆ»ã™",action_clear:"ã‚¯ãƒªã‚¢",settingList:"è©³ç´°è¨­å®š"}},documentRemark:{name:"å‚™è€ƒ",closeTitle:"å…³é—­å¤‡æ³¨"}}),o.default=n},{}],343:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("./Utils"),r=(n=a)&&n.__esModule?n:{default:n};var s=window.Log||{error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.error.apply(console,e)},log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.log.apply(console,e)},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.info.apply(console,e)},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.warn.apply(console,e)},warning:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.warn.apply(console,e)},trace:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.trace.apply(console,e)},debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==L.Logger.panel){for(var o="",n=0;n<e.length;n++)o+="object"===i(e[n])?r.default.toJsonStringify(e[n]):e[n];L.Logger.panel.value=L.Logger.panel.value+"\n"+o}console.debug.apply(console,e)}};window.Log=s,o.default=s},{"./Utils":345}],344:[function(e,t,o){var n,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=void 0,i=function(){function i(e){return e||null}function a(e,t,o,n){var i=["then","catch","always"].reduce(function(t,o){return t[o]=function(e){return t[o]=e,t},t},{}),a=new XMLHttpRequest,r=function(e,t,o){if("get"!==o.toLowerCase()||!t)return e;var n=A(t),i=-1<e.indexOf("?")?"&":"?";return e+i+n}(t,o,e);return a.open(e,r,!0),a.withCredentials=n.hasOwnProperty("withCredentials"),function(t,o){!function(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})}(o=o||{})&&(o["Content-Type"]="application/x-www-form-urlencoded");Object.keys(o).forEach(function(e){o[e]&&t.setRequestHeader(e,o[e])})}(a,n.headers),a.addEventListener("readystatechange",function(t,o){return function e(){o.readyState===o.DONE&&(o.removeEventListener("readystatechange",e,!1),t.always.apply(t,s(o)),200<=o.status&&o.status<300?t.then.apply(t,s(o)):t.catch.apply(t,s(o)))}}(i,a),!1),a.send(A(o)),i.abort=function(){return a.abort()},i}function s(t){var o;try{o=JSON.parse(t.responseText)}catch(e){o=t.responseText}return[o,t]}function A(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?function(o){return Object.keys(o).reduce(function(e,t){return(e?e+"&":"")+n(t)+"="+n(o[t])},"")}(e):e}function n(e){return encodeURIComponent(e)}return function(n){return(n=n||{}).baseUrl=n.baseUrl||"",n.method&&n.url?a(n.method,n.baseUrl+n.url,i(n.data),n):["get","post","put","delete"].reduce(function(e,o){return e[o]=function(e,t){return a(o,n.baseUrl+e,i(t),n)},e},{})}},"function"==typeof define&&define.amd?define("ajax",i):"object"===(void 0===o?"undefined":a(o))?o=t.exports=i():n.ajax=i()},{}],345:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){return"object"===(void 0===e?"undefined":f(e))&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()&&!e.length}if(!(Object&&Object.shallowAssign&&Object&&Object.customAssign)){var r=function(t){try{return Object.assign.apply(Object.assign,arguments)}catch(e){for(var o=t,n=1;n<arguments.length;n++){var i=arguments[n];if(i&&"object"===(void 0===i?"undefined":f(i)))for(var a in i)o[a]=i[a]}return t}};Object&&Object.shallowAssign||(Object.shallowAssign=r),Object&&Object.customAssign||(Object.customAssign=r)}Object&&Object.deepAssign||(Object.deepAssign=function(e){for(var t=e,o=1;o<arguments.length;o++){var n=arguments[o];if(n&&"object"===(void 0===n?"undefined":f(n)))for(var i in n)void 0===t[i]?"object"===f(n[i])&&(Array.isArray(n[i])||a(n[i]))?t[i]=Object.deepAssign(Array.isArray(n[i])?[]:{},n[i]):t[i]=n[i]:"object"===f(n[i])&&(Array.isArray(n[i])||a(n[i]))?t[i]=Object.deepAssign(Array.isArray(n[i])?[]:{},"object"===f(t[i])?t[i]:Array.isArray(n[i])?[]:{},n[i]):t[i]=n[i]}return e});var p=!1;try{var s=Object.defineProperty({},"passive",{get:function(){p={passive:!0}}});window.addEventListener("test",null,s)}catch(e){console.error("[whiteboarrd-sdk]passiveEvents err:",e)}var A=(n(l,[{key:"addEvent",value:function(t,o,e,n){var i=3<arguments.length&&void 0!==n&&n;try{t.addEventListener?t.addEventListener(o,e,i):t.attachEvent?t.attachEvent("on"+o,e):t["on"+o]=e}catch(e){L.Logger.error(Global.logType,"add dom event fail , event type is "+o+" , element:",t)}}},{key:"removeEvent",value:function(t,o,e,n){try{t.addEventListener?t.removeEventListener(o,e,n):t.attachEvent?t.detachEvent("on"+o,e):t["on"+o]=null}catch(e){L.Logger.error(Global.logType,"remove dom event fail , event type is "+o+" , element:",t)}}},{key:"isEmptyJson",value:function(e){return 0===Object.keys(e).length}},{key:"isFullScreenStatus",value:function(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitFullScreen||document.msFullScreen||!1}},{key:"launchFullscreen",value:function(e){e&&(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}},{key:"exitFullscreen",value:function(){document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():element.msExitFullscreen&&element.msExitFullscreen()}},{key:"getFullscreenElement",value:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement}},{key:"addFullscreenchange",value:function(e){this.addEvent(document,"fullscreenchange",e,!1),this.addEvent(document,"webkitfullscreenchange",e,!1),this.addEvent(document,"mozfullscreenchange",e,!1),this.addEvent(document,"MSFullscreenChange",e,!1),this.addEvent(document,"msfullscreenchange",e,!1),this.addEvent(document,"fullscreeneventchange",e,!1)}},{key:"removeFullscreenchange",value:function(e){this.removeEvent(document,"fullscreenchange",e,!1),this.removeEvent(document,"webkitfullscreenchange",e,!1),this.removeEvent(document,"mozfullscreenchange",e,!1),this.removeEvent(document,"MSFullscreenChange",e,!1),this.removeEvent(document,"msfullscreenchange",e,!1),this.removeEvent(document,"fullscreeneventchange",e,!1)}},{key:"shallowCompareJson",value:function(e,t){return e===t}},{key:"deepCompareJson",value:function(e,t){if("object"!==(void 0===e?"undefined":f(e))||Array.isArray(e)||"object"!==(void 0===e?"undefined":f(e))||Array.isArray(e))return L.Logger.warning(Global.logType,"deepCompareJson arguments must is json!"),e===t;var o=Object.deepAssign({},t),n=!0,i=!0,a=!1,r=void 0;try{for(var s,A=Object.entries(e)[Symbol.iterator]();!(i=(s=A.next()).done);i=!0){var l=s.value,c=h(l,2),d=c[0],u=c[1];if(!o.hasOwnProperty(d)){n=!1;break}if(u!==o[d]){n=!1,delete o[d];break}delete o[d]}}catch(e){a=!0,r=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw r}}return n&&!Object.keys(o).length}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isJson",value:function(e){return"object"===(void 0===e?"undefined":f(e))&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()&&!e.length}},{key:"setLocalStorageItem",value:function(e,t){try{window.localStorage?window.localStorage.setItem?window.localStorage.setItem(e,t):L.Logger.warning(Global.logType,"[whiteboard-sdk]Browser does not support localStorage.setItem , key is "+e+" , value is "+t+"!"):this.isPrintNotSupportLocalStorage||(this.isPrintNotSupportLocalStorage=!0,L.Logger.warning(Global.logType,"[whiteboard-sdk]Browser does not support localStorage!"))}catch(e){this.isPrintNotSupportLocalStorage||(this.isPrintNotSupportLocalStorage=!0,L.Logger.warning(Global.logType,"[whiteboard-sdk]Browser does not support localStorage , error info:",e))}}},{key:"getLocalStorageItem",value:function(e){try{return window.localStorage?window.localStorage.getItem?window.localStorage.getItem(e):(L.Logger.warning(Global.logType,"[whiteboard-sdk]Browser does not support localStorage.getItem , key is "+e+" !"),""):(this.isPrintNotSupportLocalStorage||(this.isPrintNotSupportLocalStorage=!0,L.Logger.warning(Global.logType,"[whiteboard-sdk]Browser does not support localStorage!")),"")}catch(e){return this.isPrintNotSupportLocalStorage||(this.isPrintNotSupportLocalStorage=!0,L.Logger.warning(Global.logType,"[whiteboard-sdk]Browser does not support localStorage , error info:",e)),""}}},{key:"toJsonStringify",value:function(e){if(!e)return e;try{if(!a(e))return e;var t=JSON.stringify(e);t&&(e=t)}catch(e){}return e}},{key:"toJsonParse",value:function(e){if(!e)return e;try{if("string"!=typeof e)return e;var t=JSON.parse(e);t&&(e=t)}catch(e){}return e}},{key:"getPcSDKVersion",value:function(){return TK&&TK.getSdkVersion&&TK.getSdkVersion()?Number(TK.getSdkVersion().replace(/./g,"").replace(/v/g,"")):0}},{key:"getItem",value:function(o,n,e){var t,i,a,r=void 0,s=void 0;if(Array.isArray(o))return r=o.find(function(e,t){return s=t+1===o.length?-1:t,e.hostname===n}),e?s&&!isNaN(s)&&o[s+1]?o[s+1].hostname:"":r&&r.protocol&&r.hostname&&r.port?(t=r.protocol,i=r.hostname,a=r.port,t+"://"+i+":"+a):""}},{key:"getBase64Image",value:function(i){return new Promise(function(e,t){var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0,i.width,i.height);var n=i.src.substring(i.src.lastIndexOf(".")+1).toLowerCase();e(o.toDataURL("images/"+n))})}},{key:"onElementResize",value:function(e,t){try{if(!(e instanceof HTMLElement))throw new TypeError("Parameter 1 is not instance of 'HTMLElement'.");if(/^(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr|script|style|textarea|title)$/i.test(e.tagName))throw new TypeError("Unsupported tag type. Change the tag or wrap it in a supported tag(e.g. div).");if("function"!=typeof t)throw new TypeError("Parameter 2 is not of type 'function'.");var o=e.offsetWidth||1,n=e.offsetHeight||1,i=1e4*o,a=1e4*n,r=document.createElement("div");r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;z-index=-10000;overflow:hidden;visibility:hidden;";var s=r.cloneNode(!1),A=document.createElement("div");A.style.cssText="transition:0s;animation:none;";var l=A.cloneNode(!1);A.style.width=i+"px",A.style.height=a+"px",l.style.width="250%",l.style.height="250%",r.appendChild(A),s.appendChild(l),e.appendChild(r),e.appendChild(s),r.offsetParent!==e&&(e.style.position="relative"),r.scrollTop=s.scrollTop=a,r.scrollLeft=s.scrollLeft=i;var c=0,d=0,u=function(){c===o&&d===n||(o=c,n=d,t())},h=function(){c=e.offsetWidth||1,d=e.offsetHeight||1,c===o&&d===n||requestAnimationFrame(u),r.scrollTop=s.scrollTop=a,r.scrollLeft=s.scrollLeft=i};r.addEventListener("scroll",h,p),s.addEventListener("scroll",h,p)}catch(e){L.Logger.error(Global.logType,"[whiteboarrd-sdk]onElementResize err:",e)}}}]),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}o.default=new A},{}],346:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=A(e("../components/TalkcloudReact")),f=A(e("../../utils/DomUtils")),s=A(e("../../utils/Utils"));function A(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.default),n(c,[{key:"shouldComponentUpdateProps",value:function(e){if(e.streamInfo!==this.props.streamInfo&&e.streamInfo&&this.props.streamInfo&&e.streamInfo.attributes&&this.props.streamInfo.attributes){var t=!1,o=!0,n=!1,i=void 0;try{for(var a,r=Object.entries(this.props.streamInfo.attributes)[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value,A=d(s,2),l=A[0],c=A[1];if("position"!==l&&c!==e.streamInfo.attributes[l]){t=!0;break}}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}if(e.streamInfo.attributes.position!==this.props.streamInfo.attributes.position&&!t)return!0}return!1}},{key:"componentDidUpdateProps",value:function(e){var t=this;if(e.streamInfo!==this.props.streamInfo){var o=void 0===e.streamInfo&&this.props.streamInfo,n=!this.props.streamInfo,i=e.streamInfo&&this.props.streamInfo&&e.streamInfo.attributes&&this.props.streamInfo.attributes&&e.streamInfo.attributes.position!==this.props.streamInfo.attributes.position;if(o||n||i){var a=(new Date).getTime();!this.updateTime||500<a-this.updateTime?(this.updateTime=a,clearTimeout(this._updateProgressTimer),this._updateProgress()):(clearTimeout(this._updateProgressTimer),this._updateProgressTimer=setTimeout(function(){a=(new Date).getTime(),t.updateTime=a,t._updateProgress()},750))}}e.volume!==this.props.volume&&this.volumeSlider&&"function"==typeof this.volumeSlider.setProgress&&r(this.volumeSlider.setProgress(this.props.volume)),e.muteVolume!==this.props.muteVolume&&this.volumeSlider&&"function"==typeof this.volumeSlider.setProgress&&r(this.volumeSlider.setProgress(this.props.muteVolume?0:this.props.volume)),e.isPlayback!==this.props.isPlayback&&(this.props.isPlayback?f.default.addClass(this.elements.mediaTotalControlElement,"tk-playback"):f.default.removeClass(this.elements.mediaTotalControlElement,"tk-playback")),(e.myUserId!==this.props.myUserId||e.streamInfo!==this.props.streamInfo&&!e.streamInfo&&this.props.streamInfo)&&this._updateControlByPermissions(),s.default.deepCompareJson(e.controlPermissions,this.props.controlPermissions)&&this._updateControlByPermissions()}},{key:"destroyView",value:function(){for(var e in f.default.removeChild(this.elements.mediaTotalControlElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"playOrPauseClick",value:function(){"function"==typeof this.props.onPlayOrPauseClick&&this.props.onPlayOrPauseClick()}},{key:"closeClick",value:function(){"function"==typeof this.props.onCloseClick&&this.props.onCloseClick()}},{key:"fullScreenClick",value:function(){"function"==typeof this.props.onFullScreenClick&&this.props.onFullScreenClick()}},{key:"volumeMuteClick",value:function(){"function"==typeof this.props.onVolumeMuteClick&&this.props.onVolumeMuteClick()}},{key:"_formatTime",value:function(e){var t=parseInt(e/60),o=Math.round(e%60);return 60===o&&(t+=1,o=0),0===parseInt(t/10)&&(t="0"+t),0===parseInt(o/10)&&(o="0"+o),t+":"+o}},{key:"_createElements",value:function(){this.elements.mediaTotalControlElement=f.default.createElement("article",this.instanceId+(this.props.isVideoPlayer?"VideoPlayer":"MediaPlayer")+"TalkMediaPlayerTotalControl","talkcloud-sdk-whiteboard tk-media-player  tk-media-player-total-control "+(this.props.isVideoPlayer?"video-player-control-container ":"audio-player-control-container ")+(this.props.isPlayback?"tk-playback ":" "))}},{key:"_connectElements",value:function(){var t=this;f.default.appendChild(this.parentNode,this.elements.mediaTotalControlElement);var e=(this.props.streamInfo||{}).attributes,o=void 0===e?{}:e,n=o.filename,i=void 0===n?"":n,a=o.position,r=void 0===a?0:a,s=o.duration,A=void 0===s?0:s,l=o.pause;this.elements.mediaTotalControlElement&&(this.elements.mediaTotalControlElement.innerHTML=' \n                <article class="media-player-box clear-float " >\n                    <span class="media-player-icon add-fl '+(l?"play":"pause")+'" ></span>\n                    <div class="media-player-control-container add-fl clear-float"> \n                        <button  class="play-pause-btn add-cursor-pointer add-fl '+(l?"play":"pause")+'"  ></button>\n                        <div class="media-player-info-container add-fl"> \n                            <div class="media-player-name-time-container clear-float"> \n                                <span class="media-player-name add-fl add-nowrap" >'+i+'</span>\n                                <span class="media-player-time-container add-fr" > \n                                    <em class="curr-time" >'+this._formatTime(r/1e3)+'</em> / <em class="total-time" >'+this._formatTime(A/1e3)+'</em>\n                                </span>\n                            </div>\n                            <div class="media-player-progress-container" id="'+this.instanceId+(this.props.isVideoPlayer?"VideoPlayer":"MediaPlayer")+'MediaPlayerProgressBar" >                              \n                            </div>\n                        </div>\n                        <div class="volume-info-container add-fl clear-float" > \n                            <button  class="volume-icon add-cursor-pointer add-fl" ></button>\n                            <div class="volume-bar-container add-fl"  id="'+this.instanceId+(this.props.isVideoPlayer?"VideoPlayer":"MediaPlayer")+'MediaPlayerVolumeBar" ></div>\n                        </div>\n                        <button  class="close-btn add-cursor-pointer add-fl" ></button>\n                        <button  class="full-screen-btn add-cursor-pointer add-fl" ></button>\n                    </div>\n                </article> \n            ',this.elements.playPauseBtnElement=this.elements.mediaTotalControlElement.getElementsByClassName("play-pause-btn")[0],this.elements.playPauseIconElement=this.elements.mediaTotalControlElement.getElementsByClassName("media-player-icon")[0],this.elements.volumeMuteBtnElement=this.elements.mediaTotalControlElement.getElementsByClassName("volume-icon")[0],this.elements.closeBtnElement=this.elements.mediaTotalControlElement.getElementsByClassName("close-btn")[0],this.elements.fullScreenBtnElement=this.elements.mediaTotalControlElement.getElementsByClassName("full-screen-btn")[0],this.elements.filenameElement=this.elements.mediaTotalControlElement.getElementsByClassName("media-player-name")[0],this.elements.currTimeElement=this.elements.mediaTotalControlElement.getElementsByClassName("curr-time")[0],this.elements.totalTimeElement=this.elements.mediaTotalControlElement.getElementsByClassName("total-time")[0],this.elements.mediaPlayerProgressElement=this.elements.mediaTotalControlElement.getElementsByClassName("media-player-progress-container")[0],this.elements.playPauseBtnElement.onclick=this.playOrPauseClick.bind(this),this.elements.volumeMuteBtnElement.onclick=this.volumeMuteClick.bind(this),this.elements.closeBtnElement.onclick=this.closeClick.bind(this),this.elements.fullScreenBtnElement.onclick=this.fullScreenClick.bind(this),window.TalkSlider&&(this.progressSlider=new window.TalkSlider({sliderContainer:{id:t.instanceId+(t.props.isVideoPlayer?"VideoPlayer":"MediaPlayer")+"MediaPlayerProgressBar",direction:"horizontal"},onBeforeChange:function(){t.mediaPlayerProgressSlidering=!0},onAfterChange:function(e){t.mediaPlayerProgressSlidering=!1,"function"==typeof t.props.onChangeProgress&&t.props.onChangeProgress(e),t._updateProgress(),t.tempStopUpdatePosition=!0,setTimeout(function(){t.tempStopUpdatePosition=!1},500)}}),this.volumeSlider=new window.TalkSlider({sliderContainer:{id:t.instanceId+(t.props.isVideoPlayer?"VideoPlayer":"MediaPlayer")+"MediaPlayerVolumeBar",direction:"horizontal"},onAfterChange:function(e){"function"==typeof t.props.onChangeVolume&&t.props.onChangeVolume(e)}})),this._updateControlByPermissions())}},{key:"_updateControlByPermissions",value:function(){var e=!1,t=this.props.streamInfo||{};"file"===t.streamType&&t.userid!=this.props.myUserId&&(e=!0),f.default.updateStyle(this.elements.playPauseBtnElement,{display:!this.props.controlPermissions.hasPlayOrPause||e?"none":""}),this.elements.playPauseBtnElement.disabled=!this.props.controlPermissions.hasPlayOrPause||e,f.default.updateStyle(this.elements.closeBtnElement,{display:this.props.controlPermissions.hasClose?"":"none"}),this.elements.closeBtnElement.disabled=!this.props.controlPermissions.hasClose,this.progressSlider&&s.default.isFunction(this.progressSlider.updateDisabled)&&this.progressSlider.updateDisabled(!this.props.controlPermissions.hasChangeProgress||e),!this.props.controlPermissions.hasChangeProgress||e?f.default.addClass(this.elements.mediaPlayerProgressElement,"disabled"):f.default.removeClass(this.elements.mediaPlayerProgressElement,"disabled")}},{key:"_updateProgress",value:function(){if(this.props.streamInfo&&!this.mediaPlayerProgressSlidering&&!this.tempStopUpdatePosition&&this.progressSlider&&"function"==typeof this.progressSlider.setProgress){var e=0,t=this.props.streamInfo&&this.props.streamInfo.attributes?this.props.streamInfo.attributes:{},o=t.position,n=void 0===o?0:o,i=t.duration,a=void 0===i?0:i;0!==a&&(e=n/a*100,isNaN(e)&&(e=0)),e<0?e=0:100<e&&(e=100),this.elements.currTimeElement.innerHTML=this._formatTime(n/1e3),this.progressSlider.setProgress(e)}}},{key:"render",value:function(){var e=this.props,t=e.streamInfo,o=void 0===t?{}:t,n=e.muteVolume,i=e.isFullScreen,a=o.attributes,r=void 0===a?{}:a,s=r.filename,A=void 0===s?"":s,l=r.position,c=void 0===l?0:l,d=r.duration,u=void 0===d?0:d,h=r.pause;this.elements.filenameElement.innerHTML=A,this.elements.currTimeElement.innerHTML=this._formatTime(c/1e3),this.elements.totalTimeElement.innerHTML=this._formatTime(u/1e3),h?(f.default.removeClass(this.elements.playPauseBtnElement,"pause"),f.default.addClass(this.elements.playPauseBtnElement,"play"),f.default.removeClass(this.elements.playPauseIconElement,"pause"),f.default.addClass(this.elements.playPauseIconElement,"play")):(f.default.removeClass(this.elements.playPauseBtnElement,"play"),f.default.addClass(this.elements.playPauseBtnElement,"pause"),f.default.removeClass(this.elements.playPauseIconElement,"play"),f.default.addClass(this.elements.playPauseIconElement,"pause")),n?f.default.addClass(this.elements.volumeMuteBtnElement,"mute"):f.default.removeClass(this.elements.volumeMuteBtnElement,"mute"),i?f.default.addClass(this.elements.fullScreenBtnElement,"yes"):f.default.removeClass(this.elements.fullScreenBtnElement,"yes")}}]),c);function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n));return i.parentNode=e,i.instanceId=t,i.whiteBoardManagerInstance=o,i.elements={},i.videoDumb=void 0,i._createElements(),i._connectElements(),i.render(),i}o.default=l},{"../../utils/DomUtils":340,"../../utils/Utils":345,"../components/TalkcloudReact":348}],347:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(e("./TalkcloudReact")),l=r(e("../../utils/DomUtils"));function r(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(A,a.default),n(A,[{key:"componentDidUpdateState",value:function(e){e.extendShow!==this.state.extendShow&&this._noticeSelectExtendListShowOrHide(this.state.extendShow)}},{key:"componentDidUpdateProps",value:function(e){if(e.selectOptions!==this.state.selectOptions){var t=this.props,o=t.optionClassName,n=t.selectOptions,i=void 0===n?[]:n,a=t.disabled,r=t.currentValue;l.default.removeAllChild(this.elements.selectListViewElement);for(var s=0;s<i.length;s++){var A=l.default.createElement("li",void 0,"select-option "+(o||" ")+(r===i[s].value?" selected":" "));A.innerHTML=i[s].value,A.onclick=a?void 0:this.optionOnClick.bind(this,i[s].value,s),l.default.appendChild(this.elements.selectListViewElement,A)}}}},{key:"destroyView",value:function(){for(var e in l.default.removeChild(this.elements.selectViewRootElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"forceHideSelectExtendList",value:function(){this.setState({extendShow:!1})}},{key:"currentTextOnClick",value:function(e){return this.props.disabled||(this.setState({extendShow:!this.state.extendShow}),e&&(e.preventDefault(),e.stopPropagation())),!1}},{key:"optionOnClick",value:function(e,t,o){return this.props.disabled||(e!==this.props.currentValue&&this.props.onChange&&"function"==typeof this.props.onChange&&this.props.onChange(e,t),this.setState({extendShow:!1}),o&&(o.preventDefault(),o.stopPropagation())),!1}},{key:"selectContainerOnMouseLeave",value:function(e){return this.setState({extendShow:!1}),e&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_noticeSelectExtendListShowOrHide",value:function(e){this.props.noticeSelectExtendListShowOrHide&&"function"==typeof this.props.noticeSelectExtendListShowOrHide&&this.props.noticeSelectExtendListShowOrHide(e)}},{key:"_getRect",value:function(e){var t=e.getBoundingClientRect(),o=document.documentElement.clientTop,n=document.documentElement.clientLeft;return{top:t.top-o,bottom:t.bottom-o,left:t.left-n,right:t.right-n,width:t.width,height:t.height}}},{key:"_createConnectElements",value:function(){this.elements.selectViewRootElement=l.default.createElement("article",this.props.id,void 0,{}),this.elements.currentSelectTextElement=l.default.createElement("button",void 0,void 0,{}),this.elements.arrowElement=l.default.createElement("span"),this.elements.arrowElement.innerHTML='<em class="arrow "></em>',this.elements.selectListViewElement=l.default.createElement("ol"),l.default.appendChild(this.elements.selectViewRootElement,this.elements.currentSelectTextElement),l.default.appendChild(this.elements.selectViewRootElement,this.elements.arrowElement),l.default.appendChild(this.elements.selectViewRootElement,this.elements.selectListViewElement),l.default.appendChild(this.parentNode,this.elements.selectViewRootElement),this.elements.currentSelectTextElement.onclick=this.currentTextOnClick.bind(this),this.elements.selectViewRootElement.onmouseleave=this.selectContainerOnMouseLeave.bind(this)}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.disabled,n=e.currentValue,i=void 0===n?"":n;if(l.default.updateStyle(this.elements.selectListViewElement,{display:o?"none":this.state.extendShow?"block":"none"}),this.listDirection=this.props.listDirection||this.listDirection,l.default.resetClass(this.elements.selectViewRootElement,"talkcloud-sdk-whiteboard  select-root tk-select-container clear-float "+(o?" disabled ":"  ")+(t||"")+(o?" hideExtendList":this.state.extendShow?" showExtendList":" hideExtendList")),l.default.resetClass(this.elements.currentSelectTextElement,"talkcloud-sdk-whiteboard  select-btn current-select-text-btn current-select-text "+(o?"disabled ":" ")),l.default.resetClass(this.elements.arrowElement,"arrow-container "+(o?"disabled ":" ")),l.default.resetClass(this.elements.selectListViewElement,"select-extend-list-container "+(this.props.isMobile?" ":"custom-scroll-bar")+(o?" disabled ":"  ")+(o?" hide":this.state.extendShow?" show":" hide")),o?this.elements.currentSelectTextElement.setAttribute("disabled","true"):this.elements.currentSelectTextElement.removeAttribute("disabled"),this.elements.currentSelectTextElement.value=i,this.elements.currentSelectTextElement.innerText=i,this.props.parentNode&&this.state.extendShow&&!this.props.disabled&&!this.props.listDirection){var a=this._getRect(this.props.parentNode),r=this._getRect(this.elements.selectListViewElement);r.top-a.top>a.height-r.height+5?this.listDirection="up":this.listDirection="down",l.default.removeClass(this.elements.selectViewRootElement,["down","up"]),l.default.removeClass(this.elements.selectListViewElement,["down","up"]),l.default.addClass(this.elements.selectViewRootElement,this.listDirection),l.default.addClass(this.elements.selectListViewElement,this.listDirection)}else l.default.removeClass(this.elements.selectViewRootElement,["down","up"]),l.default.removeClass(this.elements.selectListViewElement,["down","up"]),l.default.addClass(this.elements.selectViewRootElement,this.listDirection),l.default.addClass(this.elements.selectListViewElement,this.listDirection)}}]),A);function A(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,t));return o.parentNode=e,o.elements={},o.state={extendShow:!1},o.listDirection="down",o._createConnectElements(),o.render(),o}o.default=s},{"../../utils/DomUtils":340,"./TalkcloudReact":348}],348:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=(function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}(r,[{key:"setState",value:function(e){var t=Object.deepAssign({},this.state);Object.shallowAssign(this.state,e);var o=!1;this.shouldComponentUpdateState&&"function"==typeof this.shouldComponentUpdateState&&(o=this.shouldComponentUpdateState(t)),!o&&this.render&&"function"==typeof this.render&&this.render(),this.componentDidUpdateState&&"function"==typeof this.componentDidUpdateState&&this.componentDidUpdateState(t)}},{key:"setProps",value:function(e){var t=Object.deepAssign({},this.props);Object.shallowAssign(this.props,e);var o=!1;this.shouldComponentUpdateProps&&"function"==typeof this.shouldComponentUpdateProps&&(o=this.shouldComponentUpdateProps(t)),!o&&this.render&&"function"==typeof this.render&&this.render(),this.componentDidUpdateProps&&"function"==typeof this.componentDidUpdateProps&&this.componentDidUpdateProps(t)}}]),r);function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),"object"!==(void 0===e?"undefined":n(e))||Array.isArray(e)?this.props={}:this.props=Object.shallowAssign({},e),this.state="object"!==n(this.state)||Array.isArray(this.state)?{}:this.state}o.default=a},{}],349:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=s(e("./TalkcloudReact")),r=s(e("../../utils/DomUtils"));function s(e){return e&&e.__esModule?e:{default:e}}var A=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,a.default),n(l,[{key:"componentDidUpdateProps",value:function(e){this.props.volume===e.volume&&this.props.muteVolume===e.muteVolume||this._changeVolume(this.props.muteVolume?0:this.props.volume)}},{key:"destroyView",value:function(){for(var e in this._unplayAV(),r.default.removeChild(this.elements.rootElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"getElementId",value:function(){return this.elements.rootElement.id}},{key:"_changeVolume",value:function(e){if(void 0!==e&&"number"==typeof e&&this.props.streamInfo&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate()){var t=this.props.streamInfo||{},o=t.userid,n=t.streamType;this.whiteBoardManagerInstance.getRoomDelegate().setVolume&&this.whiteBoardManagerInstance.getRoomDelegate().setVolume(o,n,e)}}},{key:"_createElements",value:function(){var e=(this.props.streamInfo||{}).userid;this.elements.rootElement=r.default.createElement("div",this.props.videoDumbElementIdPrefix+e,"tk-audio-or-video-player  tk-audio-player-video-dumb")}},{key:"_connectElements",value:function(){r.default.appendChild(this.parentNode,this.elements.rootElement)}},{key:"_playAV",value:function(){if(this.props.streamInfo&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate()&&this.elements.rootElement&&this.elements.rootElement.id){var e=this.props.streamInfo||{},t=e.userid;switch(e.streamType){case"media":if(this.whiteBoardManagerInstance.getRoomDelegate().playRemoteMedia){var o=this.elements.rootElement.id;this.whiteBoardManagerInstance.getRoomDelegate().playRemoteMedia(t,o)}break;case"file":if(this.whiteBoardManagerInstance.getRoomDelegate().playRemoteMediaFile){var n=this.elements.rootElement.id;this.whiteBoardManagerInstance.getRoomDelegate().playRemoteMediaFile(t,n)}}}this._changeVolume(this.props.muteVolume?0:this.props.volume)}},{key:"_unplayAV",value:function(){if(this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate())switch(this.streamType){case"media":this.whiteBoardManagerInstance.getRoomDelegate().unplayRemoteMedia&&this.whiteBoardManagerInstance.getRoomDelegate().unplayRemoteMedia(this.userid);break;case"file":this.whiteBoardManagerInstance.getRoomDelegate().unplayRemoteMediaFile&&this.whiteBoardManagerInstance.getRoomDelegate().unplayRemoteMediaFile(this.userid)}}},{key:"render",value:function(){}}]),l);function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,n));return i.parentNode=e,i.instanceId=t,i.whiteBoardManagerInstance=o,i.elements={},i.userid=i.props.streamInfo?i.props.streamInfo.userid:void 0,i.streamType=i.props.streamInfo?i.props.streamInfo.streamType:void 0,i._createElements(),i._connectElements(),i._playAV(),i}o.default=A},{"../../utils/DomUtils":340,"./TalkcloudReact":348}],350:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TalkAudioPlayer=void 0;var n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,r=e("./MediaPlayer");var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(A,((a=r)&&a.__esModule?a:{default:a}).default),n(A,[{key:"reveiveEventRoomUsermediaorfilestateChanged",value:function(e){var t=e.message,o=t.type,n=t.userId,i=t.attributes,a=void 0===i?{}:i,r=t.published;if(("media"===o||"file"===o)&&a.audio&&!a.video)if(r){this.setState({streamInfo:void 0}),this.setState({streamInfo:{userid:n,streamType:o,audio:a.audio,video:a.video,attributes:a}}),n===this.props.myUserId&&"file"===o&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate()&&this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface()&&(this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface().pauseShareMediaFile(!1),this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface().seekMediaFile(0));var s=a.pause;this.sendMediaPlayerNoticeActionCommand("start",e),this.sendMediaPlayerNoticeActionCommand(s?"pause":"play",e)}else this.setState({streamInfo:void 0}),this.sendMediaPlayerNoticeActionCommand("end",e)}},{key:"reveiveEventRoomUsermediaorfileattributesUpdate",value:function(e){var t=e.message,o=t.type,n=t.attributes,i=void 0===n?{}:n,a=t.updateAttributes,r=void 0===a?{}:a;"media"!==o&&"file"!==o||!i.audio||i.video||this.state.streamInfo&&(this.setState({streamInfo:Object.deepAssign({},this.state.streamInfo,{attributes:r})}),void 0!==r.pause&&this.sendMediaPlayerNoticeActionCommand(r.pause?"pause":"play",e))}},{key:"receiveEventRoomErrorNotice",value:function(e){switch(e.errorCode){case TK.ERROR_NOTICE.SHARE_MEDIA_FAILURE:case TK.ERROR_NOTICE.SHARE_FILE_FAILURE:this.setState({streamInfo:void 0}),this.sendMediaPlayerNoticeActionCommand("startShareMediaFail",e);break;case TK.ERROR_NOTICE.STOP_MEDIA_FAILURE:case TK.ERROR_NOTICE.STOP_FILE_FAILURE:this.sendMediaPlayerNoticeActionCommand("stopShareMediaFail",e);break;case TK.ERROR_NOTICE.SUBSCRIBE_MEDIA_FAILURE:case TK.ERROR_NOTICE.SUBSCRIBE_FILE_FAILURE:this.setState({streamInfo:void 0}),this.sendMediaPlayerNoticeActionCommand("subscribeShareMediaFail",e);break;case TK.ERROR_NOTICE.UNSUBSCRIBE_MEDIA_FAILURE:case TK.ERROR_NOTICE.UNSUBSCRIBE_FILE_FAILURE:this.sendMediaPlayerNoticeActionCommand("unsubscribeShareMediaFail",e)}}},{key:"sendMediaPlayerNoticeActionCommand",value:function(e,t){var o=t.message,n=o.type,i=o.userId,a=o.attributes,r=void 0===a?{}:a;if(("media"===n||"file"===n)&&r.audio&&!r.video&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.whiteboardViewMap&&this.whiteBoardManagerInstance.whiteboardViewMap.has("default")){var s=this.whiteBoardManagerInstance.whiteboardViewMap.get("default");if(s&&s.sendActionCommand){var A,l={playerType:"audioPlayer",userid:i,streamType:n,audio:r.audio,video:r.video,attributes:r,isDynamicPptVideo:!1};A=Object.deepAssign({type:e,fileid:l.attributes.fileid},l),s.sendActionCommand("mediaPlayerNotice",A)}}}}]),A);function A(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A);return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,e,t,o,n,i,!1))}window.TalkAudioPlayer=s,o.TalkAudioPlayer=s,o.default=s},{"./MediaPlayer":353}],351:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TalkDocumentRemark=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e};function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=u(e("../components/TalkcloudReact")),l=u(e("../../utils/DomUtils")),c=u(e("../../utils/Utils")),d=u(e("../../utils/Global")),s=u(e("../../utils/Language")),A=u(e("../../utils/TalkAjax"));function u(e){return e&&e.__esModule?e:{default:e}}var h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,r.default),i(f,[{key:"componentDidUpdateState",value:function(e){this.state.autoOpenRemark&&e.viewState.fileid==this.state.viewState.fileid&&0!=this.state.viewState.fileid&&e.viewState.page.currentPage!==this.state.viewState.page.currentPage&&this.whiteBoardManagerInstance&&c.default.isFunction(this.whiteBoardManagerInstance.openDocumentRemark)&&this.whiteBoardManagerInstance.openDocumentRemark(this.instanceId),e.viewState.fileid!=this.state.viewState.fileid&&(this.state.autoOpenRemark&&0!=this.state.viewState.fileid&&this.whiteBoardManagerInstance&&c.default.isFunction(this.whiteBoardManagerInstance.openDocumentRemark)&&this.whiteBoardManagerInstance.openDocumentRemark(this.instanceId),this._ajaxDocumentRemark()),e.viewState.remark!==this.state.viewState.remark&&this._ajaxDocumentRemark()}},{key:"componentDidUpdateProps",value:function(e){if(e.languageType!==this.props.languageType&&this._updateLanguage(),e.isDrag!==this.props.isDrag&&(this.props.isDrag?this._addTalkDrag():this.documentRemarkTalkDrag&&"function"==typeof this.documentRemarkTalkDrag.destroy&&(this.documentRemarkTalkDrag.destroy(),this.documentRemarkTalkDrag=void 0)),!c.default.deepCompareJson(e.initDragPosition,this.props.initDragPosition)&&this.documentRemarkTalkDrag&&"function"==typeof this.documentRemarkTalkDrag.setPosition){var t=this.props.initDragPosition||{},o=t.left,n=void 0===o?50:o,i=t.top,a=void 0===i?100:i;this.documentRemarkTalkDrag.setPosition(n,a)}}},{key:"changeParentNode",value:function(e){e&&(l.default.removeChild(this.elements.remarkViewRootElement,this.parentNode),this.parentNode=e,l.default.appendChild(this.parentNode,this.elements.remarkViewRootElement))}},{key:"destroyView",value:function(){for(var e in l.default.removeChild(this.elements.remarkViewRootElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"resize",value:function(){this.documentRemarkTalkDrag&&c.default.isFunction(this.documentRemarkTalkDrag.resizeCallback)&&this.documentRemarkTalkDrag.resizeCallback()}},{key:"receiveActionCommand",value:function(e,t){switch("object"!==(void 0===t?"undefined":n(t))||Array.isArray(t)||(t=Object.deepAssign({},t)),L.Logger.debug(d.default.logType,"[DocumentRemark]receive whiteboard view action commandï¼ˆaction,cmdï¼‰:",e,t),e){case"viewStateUpdate":this.setState({viewState:t.viewState})}}},{key:"closeDocumentRemarkOnClick",value:function(){this.whiteBoardManagerInstance&&c.default.isFunction(this.whiteBoardManagerInstance.closeDocumentRemark)&&this.whiteBoardManagerInstance.closeDocumentRemark(this.instanceId)}},{key:"_createConnectElements",value:function(){this.elements.remarkViewRootElement=l.default.createElement("div",this.instanceId+"TalkcloudRemark","talkcloud-sdk-whiteboard "+this.instanceId+" talk-cloud-remark-container remark-container",{position:"absolute",left:0,top:0,display:"none",zIndex:3}),this.elements.remarkViewRootElement.innerHTML='\n            <div class="remark-head"> \n                <span class="name"></span>\n                <button class="close"></button>\n            </div>\n            <div class="content-container"> \n                <span class="content-text  custom-scroll-bar" >  </span>\n            </div>\n        ',l.default.appendChild(this.parentNode,this.elements.remarkViewRootElement),this.elements.remarkNameElement=this.elements.remarkViewRootElement.getElementsByClassName("name")[0],this.elements.remarkCloseElement=this.elements.remarkViewRootElement.getElementsByClassName("close")[0],this.elements.remarkContentElement=this.elements.remarkViewRootElement.getElementsByClassName("content-text")[0],this.elements.remarkCloseElement.onclick=this.closeDocumentRemarkOnClick.bind(this),this._addTalkDrag()}},{key:"_updateLanguage",value:function(){var e=this.props.languageType,t=void 0===e?"ch":e;"ch"!==t&&"tw"!==t&&"en"!==t&&"ja"!==t&&(t="ch");var o=s.default.get(t).documentRemark,n=o.name,i=o.closeTitle;this.elements.remarkNameElement.innerHTML=n,this.elements.remarkCloseElement.setAttribute("title",i)}},{key:"_addTalkDrag",value:function(){window.TalkDrag&&this.elements.remarkViewRootElement&&(this.documentRemarkTalkDrag&&"function"==typeof this.documentRemarkTalkDrag.destroy&&(this.documentRemarkTalkDrag.destroy(),this.documentRemarkTalkDrag=void 0),this.documentRemarkTalkDrag=new window.TalkDrag(this.elements.remarkViewRootElement,{containerData:{left:50,top:90}}))}},{key:"_ajaxDocumentRemark",value:function(){var i=this,e=this.state.viewState,t=e.remark,a=e.fileid,r=this,o=!1;this.ajaxRequestingList["documentRemark_"+a]&&(new Date).getTime()-this.ajaxRequestingList["documentRemark_"+a].requestTime<5e3&&(o=!0),this.props.isConnectedRoom&&!o&&this.props.canRemark&&t&&0!=a&&!d.default.allDocumentRemarkInfoMap.has("documentRemark_"+a)&&(this.ajaxRequestingList["documentRemark_"+a]&&this.ajaxRequestingList["documentRemark_"+a].ajaxXhr&&c.default.isFunction(this.ajaxRequestingList["documentRemark_"+a].ajaxXhr.abort)&&this.ajaxRequestingList["documentRemark_"+a].ajaxXhr.abort(),this.ajaxRequestingList["documentRemark_"+a]={requestTime:(new Date).getTime(),ajaxXhr:void 0},this.ajaxRequestingList["documentRemark_"+a].ajaxXhr=(0,A.default)().post(this.props.webAddress+"/ClientAPI/getfileremark?ts="+(new Date).getTime(),{fileid:a}).then(function(e){if(i.ajaxRequestingList["documentRemark_"+a]=void 0,delete i.ajaxRequestingList["documentRemark_"+a],e&&0===e.result)for(var t in e){var o=e[t];if("result"!==t&&o&&c.default.isJson(o)){d.default.allDocumentRemarkInfoMap.has("documentRemark_"+o.fileid)||d.default.allDocumentRemarkInfoMap.set("documentRemark_"+o.fileid,{});var n=d.default.allDocumentRemarkInfoMap.get("documentRemark_"+o.fileid);n&&(n[o.fileid+"_"+o.pageid]=o.remark),i.whiteBoardManagerInstance&&i.whiteBoardManagerInstance.whiteboardViewMap&&i.whiteBoardManagerInstance.whiteboardViewMap.get(r.instanceId)&&c.default.isFunction(i.whiteBoardManagerInstance.whiteboardViewMap.get(r.instanceId).forceViewStateUpdate)&&i.whiteBoardManagerInstance.whiteboardViewMap.get(r.instanceId).forceViewStateUpdate()}}i.setState({updateState:!i.state.updateState})}).catch(function(e,t){L.Logger.error(d.default.logType,"ajax request fail  error info( response, xhr ):",e,t),i.ajaxRequestingList["documentRemark_"+a]=void 0,delete i.ajaxRequestingList["documentRemark_"+a],i.setState({updateState:!i.state.updateState})}))}},{key:"render",value:function(){var e=this.state.viewState,t=e.remark,o=e.fileid,n=e.page,i=(void 0===n?{}:n).currentPage,a=void 0===i?1:i,r=d.default.allDocumentRemarkInfoMap.get("documentRemark_"+o),s=this.props.canRemark&&t&&0!=o&&r&&r[o+"_"+a],A=!this.isShow&&s;this.isShow=s,l.default.updateStyle(this.elements.remarkViewRootElement,{display:s?"block":"none"}),s&&r&&r[o+"_"+a]&&(this.elements.remarkContentElement.innerHTML=r[o+"_"+a]),A&&this.documentRemarkTalkDrag&&c.default.isFunction(this.documentRemarkTalkDrag.resizeCallback)&&this.documentRemarkTalkDrag.resizeCallback()}}]),f);function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,n));return a.parentNode=e,a.instanceId=t,a.whiteBoardManagerInstance=o,a.configration=i,a.elements={},a.documentRemarkTalkDrag=void 0,a.ajaxRequestingList={},a.state={autoOpenRemark:!0,updateState:!1,viewState:{tool:{},action:{},zoom:{},page:{},documentType:"generalDocument",fileid:0,dynamicPptVolume:100,fullScreen:!1,remark:!1,other:{primaryColor:a.configration.primaryColor,secondaryColor:a.configration.secondaryColor,backgroundColor:a.configration.backgroundColor,pencilWidth:a.configration.pencilWidth,shapeWidth:a.configration.shapeWidth,eraserWidth:a.configration.eraserWidth,fontSize:a.configration.fontSize,fontFamily:a.configration.fontFamily}}},a._createConnectElements(),a._updateLanguage(),a.render(),a}window.TalkDocumentRemark=h,o.TalkDocumentRemark=h,o.default=h},{"../../utils/DomUtils":340,"../../utils/Global":341,"../../utils/Language":342,"../../utils/TalkAjax":344,"../../utils/Utils":345,"../components/TalkcloudReact":348}],352:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TalkDocumentToolbar=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e};function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=u(e("../components/TalkcloudReact")),C=u(e("../../utils/DomUtils")),s=u(e("../../utils/Utils")),A=u(e("../components/Select")),l=u(e("../../utils/Language")),c=u(e("../../utils/Global")),d=u(e("html2canvas"));function u(e){return e&&e.__esModule?e:{default:e}}var h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,r.default),n(f,[{key:"componentDidUpdateState",value:function(e){if(e.viewState!==this.state.viewState){var t=e.viewState.page.currentPage===this.state.viewState.page.currentPage,o=e.viewState.page.totalPage===this.state.viewState.page.totalPage,n=e.viewState.page.skipPage&&this.state.viewState.page.skipPage?s.default.deepCompareJson(e.viewState.page.skipPage,this.state.viewState.page.skipPage):e.viewState.page.skipPage===this.state.viewState.page.skipPage;t&&o&&n||(this._isShowRemarkBtn(),this._updateSelectInfo()),e.viewState.fileid==this.state.viewState.fileid&&e.viewState.remarkText===this.state.viewState.remarkText||this._isShowRemarkBtn(),e.viewState.dynamicPptVolume!==this.state.viewState.dynamicPptVolume&&!this.pageVolumeSlidering&&this.pageVolumeSlider&&"function"==typeof this.pageVolumeSlider.setProgress&&this.pageVolumeSlider.setProgress(this.state.viewState.dynamicPptVolume)}e.tempDisabledDrag!==this.state.tempDisabledDrag&&this.documentToolbarTalkDrag&&i(this.documentToolbarTalkDrag.updateDisabled)&&this.documentToolbarTalkDrag.updateDisabled(this.state.tempDisabledDrag),e.viewState.documentType===this.state.viewState.documentType&&e.viewState.fullScreen===this.state.viewState.fullScreen&&e.viewState.remark===this.state.viewState.remark||this._updateLanguage(),e.updateState!==this.state.updateState&&this._isShowRemarkBtn()}},{key:"componentDidUpdateProps",value:function(e){if(e.languageType!==this.props.languageType&&this._updateLanguage(),e.isMobile!==this.props.isMobile&&(this.elements.skipPageCurrpageElement.setAttribute("contenteditable",!this.props.isMobile),this.props.isMobile?C.default.addClass(this.elements.documentToolbarViewRootElement,"app-mobile"):C.default.removeClass(this.elements.documentToolbarViewRootElement,"app-mobile"),this.elementsViewClass.selectPageView&&this.elementsViewClass.selectPageView.setProps({isMobile:this.props.isMobile})),e.isDrag!==this.props.isDrag&&(this.props.isDrag?this._addTalkDrag():this.documentToolbarTalkDrag&&"function"==typeof this.documentToolbarTalkDrag.destroy&&(this.documentToolbarTalkDrag.destroy(),this.documentToolbarTalkDrag=void 0)),!s.default.deepCompareJson(e.initDragPosition,this.props.initDragPosition)&&this.documentToolbarTalkDrag&&"function"==typeof this.documentToolbarTalkDrag.setPosition){var t=this.props.initDragPosition||{},o=t.left,n=void 0===o?50:o,i=t.top,a=void 0===i?100:i;this.documentToolbarTalkDrag.setPosition(n,a)}e.isLoadRemark===this.props.isLoadRemark&&e.canRemark===this.props.canRemark||!this.elements.remarkElement||this._isShowRemarkBtn(),e.isLoadFullScreen!==this.props.isLoadFullScreen&&this.elements.fullScreenElement&&C.default.updateStyle(this.elements.fullScreenElement,{display:this.props.isLoadFullScreen?"":"none"})}},{key:"resize",value:function(){this.documentToolbarTalkDrag&&s.default.isFunction(this.documentToolbarTalkDrag.resizeCallback)&&this.documentToolbarTalkDrag.resizeCallback()}},{key:"forceRender",value:function(){this.setState({updateState:!this.state.updateState})}},{key:"changeParentNode",value:function(e){e&&(C.default.removeChild(this.elements.documentToolbarViewRootElement,this.parentNode),this.parentNode=e,C.default.appendChild(this.parentNode,this.elements.documentToolbarViewRootElement))}},{key:"destroyView",value:function(){var e=!0,t=!1,o=void 0;try{for(var n,i=Object.values(this.elementsViewClass)[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;a&&a.destroyView&&a.destroyView()}}catch(e){t=!0,o=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw o}}for(var r in this.elementsViewClass={},C.default.removeChild(this.elements.documentToolbarViewRootElement,this.parentNode),this.elements)this.elements[r]=void 0,delete this.elements[r]}},{key:"receiveActionCommand",value:function(e,t){switch("object"!==(void 0===t?"undefined":i(t))||Array.isArray(t)||(t=Object.deepAssign({},t)),L.Logger.debug(c.default.logType,"[DocumentToolbar]receive whiteboard view action commandï¼ˆaction,cmdï¼‰:",e,t),e){case"closeAllSelectBox":C.default.removeClass(this.elements.volumeElement,"open");break;case"viewStateUpdate":this.setState({viewState:t.viewState})}}},{key:"changeSelectPageOnChange",value:function(e){this.skipPage(e)}},{key:"changeSelectPageNoticeSelectExtendListShowOrHide",value:function(e){this.setState({tempDisabledDrag:e})}},{key:"prevPage",value:function(){switch(this.state.viewState.documentType){case"dynamicPPT":this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.prevStep(this.instanceId);break;default:this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.prevPage(this.instanceId)}return!1}},{key:"nextPage",value:function(){switch(this.state.viewState.documentType){case"dynamicPPT":this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.nextStep(this.instanceId);break;default:this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.nextPage(this.instanceId)}return!1}},{key:"addPage",value:function(){return this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.addPage(this.instanceId),!1}},{key:"fullScreen",value:function(){return this.whiteBoardManagerInstance&&(this.state.viewState.fullScreen?this.whiteBoardManagerInstance.exitFullScreen(this.instanceId):this.whiteBoardManagerInstance.fullScreen(this.instanceId)),!1}},{key:"screenShot",value:function(){var e;if("string"==typeof(e=document.getElementById("customCanvasView").style.backgroundImage?document.getElementById("customCanvasView").style.backgroundImage.slice(5,-2).toString():0)){var t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=this.downloadImage.bind(this,t)}else this.screenShotHtml()}},{key:"downloadImage",value:function(e){var t=this;s.default.getBase64Image(e).then(function(e){document.getElementById("customCanvasView").style.backgroundImage="url("+e+")",t.screenShotHtml()})}},{key:"screenShotHtml",value:function(){var e=document.getElementById("defaultTalkcloudTotalDocument");new d.default(e).then(function(e){var t=new Date,o=t.getFullYear()+""+(t.getMonth()+1)+t.getDate()+(Math.random()+"").slice(3,10);!function(e,t){var o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=e,o.download=t;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(n)}(e.toDataURL(),o+".png")})}},{key:"openDynamicPptVolumeOnClick",value:function(){return C.default.hasClass(this.elements.volumeElement,"open")?C.default.removeClass(this.elements.volumeElement,"open"):C.default.addClass(this.elements.volumeElement,"open"),!1}},{key:"closeDynamicPptVolumeOnMouseLeave",value:function(){return C.default.removeClass(this.elements.volumeElement,"open"),!1}},{key:"openOrCloseRemarkOnClick",value:function(){var e=this.state.viewState.remark;this.whiteBoardManagerInstance&&(e?this.whiteBoardManagerInstance.closeDocumentRemark(this.instanceId):this.whiteBoardManagerInstance.openDocumentRemark(this.instanceId))}},{key:"changeDynamicPptVolume",value:function(e){this.whiteBoardManagerInstance&&"function"==typeof this.whiteBoardManagerInstance.changeDynamicPptVolume&&this.whiteBoardManagerInstance.changeDynamicPptVolume(e,this.instanceId)}},{key:"skipPage",value:function(e){return"number"==typeof(e=Number(e))&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.skipPage(e,this.instanceId),!1}},{key:"sendActionCommand",value:function(e,t){if(this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.whiteboardViewMap&&this.whiteBoardManagerInstance.whiteboardViewMap.has(this.instanceId)){var o=this.whiteBoardManagerInstance.whiteboardViewMap.get(this.instanceId);o&&o.sendActionCommand&&o.sendActionCommand(e,t)}}},{key:"changePageOnFocus",value:function(e){return c.default.isSkipPageing=!0,e&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"changePageOnClick",value:function(){return this.elements.skipPageCurrpageElement.setAttribute("contenteditable",!this.props.isMobile),this.elements.skipPageCurrpageElement.focus(),event&&(event.preventDefault(),event.stopPropagation()),!1}},{key:"changePageOnBlur",value:function(e){return c.default.isSkipPageing=!1,this._changePage(),e&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"changePageOnKeyDown",value:function(e){switch(e.keyCode){case 13:return this.elements.skipPageCurrpageElement&&"function"==typeof this.elements.skipPageCurrpageElement.blur?(this.elements.skipPageCurrpageElement.setAttribute("contenteditable",!1),this.elements.skipPageCurrpageElement.blur()):this._changePage(),e&&(e.preventDefault(),e.stopPropagation()),!1}}},{key:"enlargeWhiteboard",value:function(){return this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.enlargeWhiteboard(this.instanceId),!1}},{key:"narrowWhiteboard",value:function(){return this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.narrowWhiteboard(this.instanceId),!1}},{key:"receiveWindowMessageEvent",value:function(t){var e={};if(this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.whiteboardViewMap.has(this.instanceId)&&(e=this.whiteBoardManagerInstance.whiteboardViewMap.get(this.instanceId)),t.data){var o=void 0,n=void 0;try{o=(n=JSON.parse(t.data)).data}catch(e){return void L.Logger.warning(c.default.logType,"document tool bar receive iframe message data can't be converted to JSON , iframe data:",t.data)}if("tk_dynamicPPT"===n.source&&e.getDynamicPptInstanceByID&&"function"==typeof e.getDynamicPptInstanceByID&&e.getDynamicPptInstanceByID().dynamicPptIframeElement&&t.source===e.getDynamicPptInstanceByID().dynamicPptIframeElement.contentWindow)switch(L.Logger.debug(c.default.logType,"[document tool bar]receive remote iframe data form "+t.origin+":",t),o.action){case"allVideoAndAudio":this.setState({dynamicPptAVSize:void 0!==o.allVideoAndAudioLength?o.allVideoAndAudioLength:0})}}}},{key:"stopEvent",value:function(e){return e&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_changePage",value:function(){var e=Number(this.elements.skipPageCurrpageElement.innerHTML),t=this.state.viewState.page,o=void 0===t?{}:t,n=o.totalPage,i=void 0===n?1:n,a=o.currentPage,r=void 0===a?1:a;if("number"!=typeof e||isNaN(e)){var s={type:"pageTypeNotNumber",currentPage:r,totalPage:i,toPage:this.elements.skipPageCurrpageElement.innerHTML};this.sendActionCommand("skipPageFailureBouncedNotice",s),this.elements.skipPageCurrpageElement.innerHTML=r}else{if(e===r)return;if(e<1||i<e){var A={type:"overPageRange",currentPage:r,totalPage:i,toPage:e};this.sendActionCommand("skipPageFailureBouncedNotice",A),this.elements.skipPageCurrpageElement.innerHTML=r}else this.skipPage(e)}}},{key:"_createConnectElements",value:function(){var e=this,t=this;this.elements.documentToolbarViewRootElement=C.default.createElement("article",this.instanceId+"DocumentToolViewRoot","talkcloud-sdk-whiteboard "+this.instanceId+" document-toolbar-root "+(this.props.isMobile?"app-mobile ":" "),{zIndex:5}),this.elements.previousPageElement=C.default.createElement("button",this.instanceId+"TalkcloudPreviousPage","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn previous-page-btn",{}),this.elements.skipPageElement=C.default.createElement("div",this.instanceId+"TalkcloudSkipPage","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-select skip-page-select",{}),this.elements.nextPageElement=C.default.createElement("button",this.instanceId+"TalkcloudNextPage","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn next-page-btn",{}),this.elements.addPageElement=C.default.createElement("button",this.instanceId+"TalkcloudAddPage","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn add-page-btn",{display:"none"}),this.elements.fullScreenElement=C.default.createElement("button",this.instanceId+"TalkcloudFullScreen","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn full-screen-btn",{display:this.props.isLoadFullScreen?"":"none"}),this.elements.volumeElement=C.default.createElement("button",this.instanceId+"TalkcloudVolume","talkcloud-sdk-whiteboard "+this.instanceId+" document-toolbar-btn volume-btn",{display:this.props.isLoadVolume?"":"none"}),this.elements.remarkElement=C.default.createElement("button",this.instanceId+"TalkcloudRemark","talkcloud-sdk-whiteboard "+this.instanceId+" document-toolbar-btn remark-btn",{display:this.props.isLoadRemark&&this.props.canRemark?"":"none"}),this.elements.enlargeWhiteboardElement=C.default.createElement("button",this.instanceId+"TalkcloudZoomBig","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn zoom-big-btn",{}),this.elements.narrowWhiteboardElement=C.default.createElement("button",this.instanceId+"TalkcloudZoomSmall","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn zoom-small-btn",{}),this.elements.screenShotElement=C.default.createElement("button",this.instanceId+"TalkcloudScreenShot","talkcloud-sdk-whiteboard  "+this.instanceId+" document-toolbar-btn icon-btn_shot"),this.elements.volumeElement.innerHTML='\n            <span class="volume-slider-container" onclick="return false;" id="'+this.instanceId+'PageVolumeSlider" ></span>\n        ',this.elements.skipPageElement.innerHTML='\n            <div class="page-info-container" > \n                <span contenteditable="'+!this.props.isMobile+'" class="curr-page">1</span><em>/</em><span class="total-page">1</span>\n            </div>\n        ',this.elements.skipPageCurrpageElement=this.elements.skipPageElement.getElementsByClassName("curr-page")[0],this.elements.skipPageTotalpageElement=this.elements.skipPageElement.getElementsByClassName("total-page")[0],this.elements.skipPageCurrpageElement.oninput=function(e){var t=e.target.innerHTML;(!Number(t)||5<t.length)&&(e.target.innerHTML=t.substr(0,5))},this.elements.skipPageCurrpageElement.onclick=this.changePageOnClick.bind(this),this.elements.skipPageCurrpageElement.onfocus=this.changePageOnFocus.bind(this),this.elements.skipPageCurrpageElement.onblur=this.changePageOnBlur.bind(this),this.elements.skipPageCurrpageElement.onkeydown=this.changePageOnKeyDown.bind(this),this.elements.previousPageElement.onclick=this.prevPage.bind(this),this.elements.nextPageElement.onclick=this.nextPage.bind(this),this.elements.addPageElement.onclick=this.addPage.bind(this),this.elements.fullScreenElement.onclick=this.fullScreen.bind(this),this.elements.volumeElement.onclick=this.openDynamicPptVolumeOnClick.bind(this),this.elements.volumeElement.getElementsByClassName("volume-slider-container")[0].onclick=this.stopEvent.bind(this),this.elements.volumeElement.onmouseleave=this.closeDynamicPptVolumeOnMouseLeave.bind(this),this.elements.remarkElement.onclick=this.openOrCloseRemarkOnClick.bind(this),this.elements.enlargeWhiteboardElement.onclick=this.enlargeWhiteboard.bind(this),this.elements.narrowWhiteboardElement.onclick=this.narrowWhiteboard.bind(this),this.elements.screenShotElement.onclick=this.screenShot.bind(this),this.elementsViewClass.selectPageView=new A.default(this.elements.skipPageElement,{parentNode:this.parentNode,isMobile:this.props.isMobile,onChange:this.changeSelectPageOnChange.bind(this),noticeSelectExtendListShowOrHide:this.changeSelectPageNoticeSelectExtendListShowOrHide.bind(this)}),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.previousPageElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.skipPageElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.nextPageElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.addPageElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.enlargeWhiteboardElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.narrowWhiteboardElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.fullScreenElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.volumeElement),C.default.appendChild(this.elements.documentToolbarViewRootElement,this.elements.remarkElement);var o=setTimeout(function(){C.default.appendChild(e.elements.documentToolbarViewRootElement,e.elements.screenShotElement),clearTimeout(o)});C.default.appendChild(this.parentNode,this.elements.documentToolbarViewRootElement),window.TalkSlider&&(this.pageVolumeSlider=new window.TalkSlider({sliderContainer:{id:t.instanceId+"PageVolumeSlider",direction:"vertikal"},onBeforeChange:function(){t.pageVolumeSlidering=!0},onAfterChange:function(e){t.pageVolumeSlidering=!1,t.changeDynamicPptVolume(e)}})),this._addTalkDrag()}},{key:"_addTalkDrag",value:function(){if(this.props.isDrag&&window.TalkDrag&&this.elements.documentToolbarViewRootElement){this.documentToolbarTalkDrag&&"function"==typeof this.documentToolbarTalkDrag.destroy&&(this.documentToolbarTalkDrag.destroy(),this.documentToolbarTalkDrag=void 0);var e=this.props.initDragPosition||{},t=e.left,o=void 0===t?50:t,n=e.top,i=void 0===n?100:n;this.documentToolbarTalkDrag=new window.TalkDrag(this.elements.documentToolbarViewRootElement,{containerData:{left:o,top:i}})}}},{key:"_updateLanguage",value:function(){var e=this.props.languageType,t=void 0===e?"ch":e,o=this.state.viewState;o.remark,o.fullScreen,o.documentType;"ch"!==t&&"tw"!==t&&"en"!==t&&"ja"!==t&&(t="ch");var n=l.default.get(t).documentToolbar;n.prevPage,n.nextPage,n.prevStep,n.nextStep,n.addPage,n.screenShot,n.enlargeWhiteboard,n.narrowWhiteboard,n.pptVolume,n.onRemark,n.offRemark,n.onGeneralDocumentFullScreen,n.offGeneralDocumentFullScreen,n.onDynamicPPTFullScreen,n.offDynamicPPTFullScreen,n.onH5DocumentFullScreen,n.offH5DocumentFullScreen}},{key:"_updateSelectInfo",value:function(){if(this.elementsViewClass.selectPageView){var e=this.state.viewState.page,t=void 0===e?{}:e,o=t.totalPage,n=void 0===o?1:o,i=t.currentPage,a=void 0===i?1:i,r=t.skipPage,s=void 0===r?{}:r,A=[];n<1&&(n=1),a<1&&(a=1);for(var l=1;l<=n;l++)A.push({label:l,value:l});this.elementsViewClass.selectPageView.setProps({selectOptions:A,currentValue:a,disabled:s.disabled,isMobile:this.props.isMobile}),this.elements.skipPageCurrpageElement.innerHTML=a,this.elements.skipPageTotalpageElement.innerHTML=n}}},{key:"_isShowRemarkBtn",value:function(){if(this.elements.remarkElement){var e=this.props.isLoadRemark&&this.props.canRemark&&this.state.viewState.remarkText;C.default.updateStyle(this.elements.remarkElement,{display:e?"":"none"})}}},{key:"render",value:function(){var e=this.state.viewState,t=e.page,o=void 0===t?{}:t,n=e.zoom,i=void 0===n?{}:n,a=e.documentType,r=e.fullScreen,s=e.remark,A=(e.fileid,o.prevPage),l=void 0===A?{}:A,c=o.nextPage,d=void 0===c?{}:c,u=o.prevStep,h=void 0===u?{}:u,f=o.nextStep,p=void 0===f?{}:f,g=o.addPage,m=void 0===g?{}:g,y=o.skipPage,v=void 0===y?{}:y,w=(o.currentPage,i.zoom_big),b=void 0===w?{}:w,B=i.zoom_small,_=void 0===B?{}:B;this.elements.previousPageElement.disabled="dynamicPPT"===a?h.disabled:l.disabled,this.elements.nextPageElement.disabled="dynamicPPT"===a?p.disabled:d.disabled,this.elements.addPageElement.disabled=m.disabled,this.elements.enlargeWhiteboardElement.disabled=b.disabled,this.elements.narrowWhiteboardElement.disabled=_.disabled,v.disabled?C.default.addClass(this.elements.skipPageElement,"disabled"):C.default.removeClass(this.elements.skipPageElement,"disabled"),C.default.updateStyle(this.elements.nextPageElement,{display:m.disabled?"":"none"}),C.default.updateStyle(this.elements.addPageElement,{display:m.disabled?"none":""}),r?C.default.addClass(this.elements.fullScreenElement,"yes"):C.default.removeClass(this.elements.fullScreenElement,"yes"),C.default.updateStyle(this.elements.volumeElement,{display:this.props.isLoadVolume&&"dynamicPPT"===a&&0<this.state.dynamicPptAVSize?"":"none"}),s?C.default.addClass(this.elements.remarkElement,"yes"):C.default.removeClass(this.elements.remarkElement,"yes"),C.default.updateStyle(this.elements.screenShotElement,{display:"generalDocument"!==a||0!==this.role&&1!==this.role?"none":""})}}]),f);function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,n));return a.parentNode=e,a.instanceId=t,a.whiteBoardManagerInstance=o,a.configration=i,a.elements={},a.room=room,a.elementsViewClass={},a.documentToolbarTalkDrag=void 0,a.state={updateState:!1,dynamicPptAVSize:0,tempDisabledDrag:!1,viewState:{tool:{},action:{},zoom:{},page:{},documentType:"generalDocument",fileid:0,dynamicPptVolume:100,fullScreen:!1,remark:!1,remarkText:"",other:{primaryColor:a.configration.primaryColor,secondaryColor:a.configration.secondaryColor,backgroundColor:a.configration.backgroundColor,pencilWidth:a.configration.pencilWidth,shapeWidth:a.configration.shapeWidth,eraserWidth:a.configration.eraserWidth,fontSize:a.configration.fontSize,fontFamily:a.configration.fontFamily}}},a._createConnectElements(),a._updateSelectInfo(),a._updateLanguage(),a.render(),o&&o.room&&o.room.getMySelf&&(a.role=o.room.getMySelf().role),a}window.TalkDocumentToolbar=h,o.TalkDocumentToolbar=h,o.default=h},{"../../utils/DomUtils":340,"../../utils/Global":341,"../../utils/Language":342,"../../utils/Utils":345,"../components/Select":347,"../components/TalkcloudReact":348,html2canvas:332}],353:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=s(e("../components/TalkcloudReact")),g=s(e("../../utils/DomUtils")),u=s(e("../../utils/Utils")),m=s(e("../components/VideoDumb")),r=s(e("../components/MediaPlayerController"));function s(e){return e&&e.__esModule?e:{default:e}}var A=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,a.default),n(l,[{key:"shouldComponentUpdateState",value:function(e){if(e.streamInfo!==this.state.streamInfo&&e.streamInfo&&this.state.streamInfo&&e.streamInfo.attributes&&this.state.streamInfo.attributes){var t=!1,o=!0,n=!1,i=void 0;try{for(var a,r=Object.entries(this.state.streamInfo.attributes)[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var s=a.value,A=p(s,2),l=A[0],c=A[1];if("position"!==l&&c!==e.streamInfo.attributes[l]){t=!0;break}}}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}if(e.streamInfo.attributes.position!==this.state.streamInfo.attributes.position&&!t)return!0}return!1}},{key:"componentDidUpdateState",value:function(e){if(e.streamInfo&&!this.state.streamInfo){var t=this.elements.rootElement;u.default.getFullscreenElement()&&u.default.getFullscreenElement().id===t.id&&u.default.exitFullscreen()}if(this.elements.closeVideoPlayerElement&&this.state.streamInfo){var o=!1,n=this.state.streamInfo||{},i=n.attributes;"file"===n.streamType&&n.userid!=this.props.myUserId&&(o=!0);var a=i&&"h5Document"===i.source;g.default.updateStyle(this.elements.closeVideoPlayerElement,{display:!this.props.controlPermissions.hasClose||o||a?"none":""}),this.elements.closeVideoPlayerElement.disabled=!this.props.controlPermissions.hasClose||o}this.state.streamInfo&&this.state.streamInfo.attributes?!this.progressTimer||"media"!==this.state.streamInfo.streamType||this.state.streamInfo.userid!=this.props.myUserId&&0!=this.props.myRole&&1!=this.props.myRole?this.progressTimer&&this.state.streamInfo.attributes.pause?this._stopProgressTimer():this.progressTimer||this.state.streamInfo.attributes.pause||this._startProgressTimer():this._stopProgressTimer():this.progressTimer&&this._stopProgressTimer(),this.videoDumb&&(e.volume!==this.state.volume&&this.videoDumb.setProps({volume:this.state.volume}),e.muteVolume!==this.state.muteVolume&&this.videoDumb.setProps({muteVolume:this.state.muteVolume}),e.streamInfo!==this.state.streamInfo&&this.videoDumb.setProps({streamInfo:this.state.streamInfo})),this.mediaPlayerControllerDumb&&(e.streamInfo!==this.state.streamInfo&&this.mediaPlayerControllerDumb.setProps({streamInfo:this.state.streamInfo}),e.volume!==this.state.volume&&this.mediaPlayerControllerDumb.setProps({volume:this.state.volume}),e.muteVolume!==this.state.muteVolume&&this.mediaPlayerControllerDumb.setProps({muteVolume:this.state.muteVolume}),e.isFullScreen!==this.state.isFullScreen&&this.mediaPlayerControllerDumb.setProps({isFullScreen:this.state.isFullScreen}))}},{key:"componentDidUpdateProps",value:function(e){if(e.isLoadControl!==this.props.isLoadControl&&(!this.mediaPlayerControllerDumb&&this.props.isLoadControl?this._loadMediaPlayerController():this.mediaPlayerControllerDumb&&!this.props.isLoadControl&&(this.mediaPlayerControllerDumb.destroyView(),this.mediaPlayerControllerDumb=void 0)),this.elements.closeVideoPlayerElement&&e.controlPermissions.hasClose!==this.props.controlPermissions.hasClose){var t=!1,o=this.state.streamInfo||{};"file"===o.streamType&&o.userid!=this.props.myUserId&&(t=!0),g.default.updateStyle(this.elements.closeVideoPlayerElement,{display:!this.props.controlPermissions.hasClose||t?"none":""}),this.elements.closeVideoPlayerElement.disabled=!this.props.controlPermissions.hasClose||t}this.mediaPlayerControllerDumb&&(e.myUserId!==this.props.myUserId&&this.mediaPlayerControllerDumb.setProps({myUserId:this.props.myUserId}),e.isPlayback!==this.props.isPlayback&&(this.props.isPlayback?g.default.addClass(this.elements.rootElement,"tk-playback"):g.default.removeClass(this.elements.rootElement,"tk-playback"),this.mediaPlayerControllerDumb.setProps({isPlayback:this.props.isPlayback})),e.controlPermissions!==this.props.controlPermissions&&this.mediaPlayerControllerDumb.setProps({controlPermissions:this.props.controlPermissions})),this.videoDumb&&e.myUserId!==this.props.myUserId&&this.videoDumb.setProps({myUserId:this.props.myUserId})}},{key:"destroyView",value:function(){for(var e in g.default.removeChild(this.elements.rootElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"receiveEventFullScreenChange",value:function(){if(u.default.isFullScreenStatus()){var e=this.elements.rootElement;u.default.getFullscreenElement()&&u.default.getFullscreenElement().id===e.id?this._changeFullScreenState(!0):this._changeFullScreenState(!1)}else this._changeFullScreenState(!1)}},{key:"onPlayOrPauseClick",value:function(){var e=this;if("pc"===TK.SDKTYPE&&this.state.streamInfo&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate()){var t=this.whiteBoardManagerInstance.getRoomDelegate();switch(this.state.streamInfo.streamType){case"media":if(this.state.streamInfo.attributes.pause){var o=this.state.streamInfo.attributes,n=o.position,i=void 0===n?0:n,a=o.duration;(void 0===a?0:a)<=i&&t.seekMedia(0),t.pauseShareMedia(!1),g.default.updateStyle(this.elements.closeVideoPlayerElement,{display:""}),this.props.controlCallback&&this.props.controlCallback.play&&u.default.isFunction(this.props.controlCallback.play)&&this.props.controlCallback.play()}else t.pauseShareMedia(!0),g.default.updateStyle(this.elements.closeVideoPlayerElement,{display:"none"}),this.props.controlCallback&&this.props.controlCallback.pause&&u.default.isFunction(this.props.controlCallback.pause)&&this.props.controlCallback.pause();break;case"file":if(this.state.streamInfo.userid===this.props.myUserId&&t.getNativeInterface()){var r=t.getNativeInterface();if(this.state.streamInfo.attributes.pause){var s=this.state.streamInfo.attributes,A=s.position,l=void 0===A?0:A,c=s.duration,d=void 0===c?0:c;this._updateLocalFileStreamInfoPlayerPosition(function(){d<=l+1e3&&r.seekMediaFile(0),r.pauseShareMediaFile(!1),e.props.controlCallback&&e.props.controlCallback.play&&u.default.isFunction(e.props.controlCallback.play)&&(e.props.controlCallback.play(),g.default.updateStyle(e.elements.closeVideoPlayerElement,{display:""}))})}else r.pauseShareMediaFile(!0),this.props.controlCallback&&this.props.controlCallback.pause&&u.default.isFunction(this.props.controlCallback.pause)&&(this.props.controlCallback.pause(),g.default.updateStyle(this.elements.closeVideoPlayerElement,{display:"none"}))}}}}},{key:"onChangeVolume",value:function(e){var t={volume:e};0!==e||this.state.muteVolume?0!==e&&this.state.muteVolume&&(t.muteVolume=!1):t.muteVolume=!0,this.setState(t)}},{key:"onChangeProgress",value:function(e){if("mobile"!==TK.SDKTYPE&&this.state.streamInfo&&this.state.streamInfo.attributes&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate())switch(this.state.streamInfo.streamType){case"media":var t=e/100;t<0&&(t=0),1<t&&(t=1);var o=this.state.streamInfo.attributes.duration*t;this._updateStreamInfoAttributes("position",o),this.whiteBoardManagerInstance.getRoomDelegate().seekMedia(t);break;case"file":if(this.state.streamInfo.userid===this.props.myUserId&&this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface()){var n=e/100;n<0&&(n=0),1<n&&(n=1);var i=this.state.streamInfo.attributes.duration*n;this._updateStreamInfoAttributes("position",i),this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface().seekMediaFile(n)}}}},{key:"onVolumeMuteClick",value:function(){var e={muteVolume:!this.state.muteVolume};!e.muteVolume&&this.state.volume<=0&&(e.volume=100),this.setState(e)}},{key:"onCloseClick",value:function(){if(this.state.streamInfo&&this.whiteBoardManagerInstance)switch(this.state.streamInfo.streamType){case"media":this.whiteBoardManagerInstance.stopShareMedia();break;case"file":this.whiteBoardManagerInstance.stopShareLocalMedia()}}},{key:"onFullScreenClick",value:function(){if(this.state.isFullScreen)u.default.exitFullscreen();else{u.default.isFullScreenStatus()&&u.default.exitFullscreen();var e=this.elements.rootElement;u.default.launchFullscreen(e)}}},{key:"_createElements",value:function(){this.elements.rootElement=g.default.createElement("section",this.instanceId+(this.isVideoPlayer?"VideoPlayer":"AudioPlayer")+"TalkMediaPlayerBox","talkcloud-sdk-whiteboard tk-media-player  tk-media-player-container "+(this.isVideoPlayer?"tk-video-player-container ":"tk-audio-player-container ")+(this.props.isPlayback?"tk-playback ":" "),{display:this.state.streamInfo?"":"none"}),this.elements.mediaSourceElement=g.default.createElement("article",this.instanceId+(this.isVideoPlayer?"VideoPlayer":"AudioPlayer")+"TalkMediaPlayerSourceBox","talkcloud-sdk-whiteboard tk-media-player  tk-media-player-source",{display:this.isVideoPlayer?"":"none"});var e=!1,t=this.state.streamInfo||{};"file"===t.streamType&&t.userid!=this.props.myUserId&&(e=!0),this.isVideoPlayer&&(this.elements.closeVideoPlayerElement=g.default.createElement("button",void 0,"talkcloud-sdk-whiteboard add-cursor-pointer tk-video-player-close-btn ",{display:!this.props.controlPermissions.hasClose||e?"none":""})),this.elements.mediaTotalControlElement=g.default.createElement("article",this.instanceId+(this.isVideoPlayer?"VideoPlayer":"AudioPlayer")+"TalkMediaPlayerTotalControlBox","talkcloud-sdk-whiteboard tk-media-player  tk-media-player-total-control-box",{}),this.isVideoPlayer&&(this.elements.rootElement.onmouseover=this._videoMouseover.bind(this),this.elements.rootElement.onmouseout=this._videoMouseout.bind(this),this.elements.rootElement.onclick=this._videoClick.bind(this),this.elements.mediaTotalControlElement.onmouseover=this._videoControlMouseover.bind(this),this.elements.mediaTotalControlElement.onclick=this._videoControlClick.bind(this))}},{key:"_videoMouseover",value:function(){var e=this;g.default.addClass(this.elements.rootElement,"show-controller"),clearTimeout(this.showControllerTimer),this.showControllerTimer=setTimeout(function(){g.default.removeClass(e.elements.rootElement,"show-controller")},2e3)}},{key:"_videoMouseout",value:function(){g.default.removeClass(this.elements.rootElement,"show-controller")}},{key:"_videoClick",value:function(){var e=this;this.elements.rootElement.classList.toggle("show-controller")&&(clearTimeout(this.showControllerTimer),this.showControllerTimer=setTimeout(function(){g.default.removeClass(e.elements.rootElement,"show-controller")},2e3))}},{key:"_videoControlMouseover",value:function(e){clearTimeout(this.showControllerTimer),g.default.addClass(this.elements.rootElement,"show-controller"),e.stopPropagation()}},{key:"_videoControlClick",value:function(e){e.stopPropagation()}},{key:"_connectElements",value:function(){g.default.appendChild(this.elements.rootElement,this.elements.mediaSourceElement),g.default.appendChild(this.elements.rootElement,this.elements.mediaTotalControlElement),this.elements.closeVideoPlayerElement&&g.default.appendChild(this.elements.rootElement,this.elements.closeVideoPlayerElement),g.default.appendChild(this.parentNode,this.elements.rootElement),this.props.isLoadControl&&this._loadMediaPlayerController(),this.elements.closeVideoPlayerElement&&(this.elements.closeVideoPlayerElement.onclick=this.onCloseClick.bind(this))}},{key:"_loadMediaPlayerController",value:function(){this.props.isLoadControl?(this.mediaPlayerControllerDumb&&this.mediaPlayerControllerDumb.destroyView(),this.mediaPlayerControllerDumb=new r.default(this.elements.mediaTotalControlElement,this.instanceId,this.whiteBoardManagerInstance,{streamInfo:this.state.streamInfo,volume:this.state.volume,muteVolume:this.state.muteVolume,isFullScreen:this.state.isFullScreen,isPlayback:this.props.isPlayback,myUserId:this.props.myUserId,controlPermissions:this.props.controlPermissions,isVideoPlayer:this.isVideoPlayer,onCloseClick:this.onCloseClick.bind(this),onPlayOrPauseClick:this.onPlayOrPauseClick.bind(this),onChangeVolume:this.onChangeVolume.bind(this),onVolumeMuteClick:this.onVolumeMuteClick.bind(this),onChangeProgress:this.onChangeProgress.bind(this),onFullScreenClick:this.onFullScreenClick.bind(this)})):this.mediaPlayerControllerDumb&&this.mediaPlayerControllerDumb.destroyView()}},{key:"_formatTime",value:function(e){var t=parseInt(e/60),o=Math.round(e%60);return 60===o&&(t+=1,o=0),0===parseInt(t/10)&&(t="0"+t),0===parseInt(o/10)&&(o="0"+o),t+":"+o}},{key:"_startProgressTimer",value:function(){var h=this;if(this.props.isPlayback)this._stopProgressTimer();else if(this._stopProgressTimer(),this.state.streamInfo){if("media"===this.state.streamInfo.streamType&&(this.state.streamInfo.userid==this.props.myUserId||0==this.props.myRole||1==this.props.myRole))return void this._stopProgressTimer();this.progressTimer=setInterval(function(){if(h.state.streamInfo){var e=h.state.streamInfo,t=e.userid,o=e.streamType,n=e.attributes,i=void 0===n?{}:n;switch(o){case"media":if("media"===h.state.streamInfo.streamType&&(h.state.streamInfo.userid==h.props.myUserId||0==h.props.myRole||1==h.props.myRole))return void h._stopProgressTimer();var a=i.position,r=void 0===a?0:a,s=i.duration,A=void 0===s?0:s;A<(r+=h.progressIntervalDuration)&&(r=A,h._stopProgressTimer()),h._updateStreamInfoAttributes("position",r);break;case"file":if(t!==h.props.myUserId){var l=i.position,c=void 0===l?0:l,d=i.duration,u=void 0===d?0:d;u<(c+=h.progressIntervalDuration)&&(c=u,h._stopProgressTimer()),h._updateStreamInfoAttributes("position",c)}else h._updateLocalFileStreamInfoPlayerPosition()}}else h._stopProgressTimer()},this.progressIntervalDuration)}}},{key:"_stopProgressTimer",value:function(){clearInterval(this.progressTimer),this.progressTimer=null}},{key:"_updateStreamInfoAttributes",value:function(e,t){if(this.state.streamInfo){var o={};o[e]=t,this.setState({streamInfo:Object.deepAssign({},this.state.streamInfo,{attributes:o})})}}},{key:"_updateLocalFileStreamInfoPlayerPosition",value:function(a){var r=this;this.state.streamInfo&&"file"===this.state.streamInfo.streamType&&this.state.streamInfo.userid===this.props.myUserId&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate()&&this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface()&&this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface().getMediaFileProgress(function(e){if("object"===(void 0===e?"undefined":f(e))){var t=e.position,o=void 0===t?0:t,n=e.duration,i=void 0===n?0:n;i<o&&(o=i,r._stopProgressTimer()),r._updateStreamInfoAttributes("position",o),u.default.isFunction(a)&&a(e)}})}},{key:"_changeFullScreenState",value:function(e){this.setState({isFullScreen:e})}},{key:"getVideoDumbElementId",value:function(){if(this.videoDumb)return this.videoDumb.getElementId()}},{key:"render",value:function(){this.state.streamInfo&&!this.videoDumb?this.videoDumb=new m.default(this.elements.mediaSourceElement,this.instanceId,this.whiteBoardManagerInstance,{videoDumbElementIdPrefix:this.instanceId,streamInfo:this.state.streamInfo,volume:this.state.volume,muteVolume:this.state.muteVolume,myUserId:this.props.myUserId}):!this.state.streamInfo&&this.videoDumb&&(this.videoDumb.destroyView(),this.videoDumb=void 0);var e=!1,t={},o=this.state.streamInfo;if("object"===(void 0===o?"undefined":f(o))&&"object"===f(o.attributes))if("h5Document"===o.attributes.source)if(e=!o.attributes.video,o.attributes.video){if("object"===f(o.attributes.other)&&"object"===f(o.attributes.other.position)){var n=document.getElementsByClassName("h5Document-iframe-element")[0],i=g.default.getNodePosition(n),a=p(i,2),r=a[0],s=a[1],A=g.default.getNodePosition(this.parentNode),l=p(A,2),c=l[0],d=l[1],u=o.attributes.other.position;t.position="absolute",t.width=u.width*n.offsetWidth+"px",t.height=u.height*n.offsetHeight+"px",t.top=u.top*n.offsetHeight+r-c+"px",t.left=u.left*n.offsetWidth+s-d+"px"}}else e=!0;else t.position="",t.width="",t.height="",t.top="",t.left="";else t.position="",t.width="",t.height="",t.top="",t.left="";g.default.updateStyle(this.elements.rootElement,h({display:!this.state.streamInfo||e?"none":""},t))}}]),l);function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},a=5<arguments.length&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,n));return r.isVideoPlayer=a,r.parentNode=e,r.instanceId=t,r.whiteBoardManagerInstance=o,r.configration=i,r.state={streamInfo:void 0,volume:100,muteVolume:!1,isFullScreen:!1},r.progressIntervalDuration=1e3,r.elements={},r.videoDumb=void 0,r._createElements(),r._connectElements(),r.render(),r}o.default=A},{"../../utils/DomUtils":340,"../../utils/Utils":345,"../components/MediaPlayerController":346,"../components/TalkcloudReact":348,"../components/VideoDumb":349}],354:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TalkVideoPlayer=void 0;var n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=a(e("../../utils/Global")),c=a(e("../../utils/Utils"));function a(e){return e&&e.__esModule?e:{default:e}}var r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a(e("./MediaPlayer")).default),n(s,[{key:"reveiveEventRoomUsermediaorfilestateChanged",value:function(e){var t=e.message,o=t.type,n=t.userId,i=t.attributes,a=void 0===i?{}:i,r=t.published;if(("media"===o||"file"===o)&&a.audio&&a.video)if(r){A.default.isPlayVideoing=!0,this.setState({streamInfo:void 0}),this.setState({streamInfo:{userid:n,streamType:o,audio:a.audio,video:a.video,attributes:a}}),n===this.props.myUserId&&"file"===o&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate()&&this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface()&&(this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface().pauseShareMediaFile(!1),this.whiteBoardManagerInstance.getRoomDelegate().getNativeInterface().seekMediaFile(0));var s=a.pause;this.sendMediaPlayerNoticeActionCommand("start",e),this.sendMediaPlayerNoticeActionCommand(s?"pause":"play",e),this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.reveiveEventRoomReceiveActionCommand&&this.whiteBoardManagerInstance.reveiveEventRoomReceiveActionCommand({type:"room-receiveActionCommand",message:{action:"closeDynamicPptWebPlay"}})}else A.default.isPlayVideoing=!1,this.setState({streamInfo:void 0}),this.sendMediaPlayerNoticeActionCommand("end",e)}},{key:"reveiveEventRoomUsermediaorfileattributesUpdate",value:function(e){var t=e.message,o=t.type,n=t.attributes,i=void 0===n?{}:n,a=t.updateAttributes,r=void 0===a?{}:a;("media"===o||"file"===o)&&i.audio&&i.video&&this.state.streamInfo&&(this.setState({streamInfo:Object.deepAssign({},this.state.streamInfo,{attributes:r})}),void 0!==r.pause&&this.sendMediaPlayerNoticeActionCommand(r.pause?"pause":"play",e))}},{key:"receiveEventRoomErrorNotice",value:function(e){switch(e.errorCode){case TK.ERROR_NOTICE.SHARE_MEDIA_FAILURE:case TK.ERROR_NOTICE.SHARE_FILE_FAILURE:A.default.isPlayVideoing=!1,this.setState({streamInfo:void 0}),this.sendMediaPlayerNoticeActionCommand("startShareMediaFail",e);break;case TK.ERROR_NOTICE.STOP_MEDIA_FAILURE:case TK.ERROR_NOTICE.STOP_FILE_FAILURE:this.sendMediaPlayerNoticeActionCommand("stopShareMediaFail",e);break;case TK.ERROR_NOTICE.SUBSCRIBE_MEDIA_FAILURE:case TK.ERROR_NOTICE.SUBSCRIBE_FILE_FAILURE:A.default.isPlayVideoing=!1,this.setState({streamInfo:void 0}),this.sendMediaPlayerNoticeActionCommand("subscribeShareMediaFail",e);break;case TK.ERROR_NOTICE.UNSUBSCRIBE_MEDIA_FAILURE:case TK.ERROR_NOTICE.UNSUBSCRIBE_FILE_FAILURE:this.sendMediaPlayerNoticeActionCommand("unsubscribeShareMediaFail",e)}}},{key:"sendMediaPlayerNoticeActionCommand",value:function(e,t){var o=t.message,n=o.type,i=o.userId,a=o.attributes,r=void 0===a?{}:a;if(("media"===n||"file"===n)&&r.audio&&r.video&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.whiteboardViewMap&&this.whiteBoardManagerInstance.whiteboardViewMap.has("default")){var s=this.whiteBoardManagerInstance.whiteboardViewMap.get("default");if(s&&s.sendActionCommand){var A,l={playerType:"videoPlayer",userid:i,streamType:n,audio:r.audio,video:r.video,attributes:r};"end"===e&&r&&"h5Document"===r.source&&(s.h5DocumentMediaid=""),l.isDynamicPptVideo="dynamicPPT"===l.attributes.source||"videoPlayer"===l.playerType&&""===l.attributes.filename,A=Object.deepAssign({type:e,fileid:l.attributes.fileid},l),s.sendActionCommand("mediaPlayerNotice",A),c.default.isFunction(s.forceViewStateUpdate)&&s.forceViewStateUpdate()}}}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t,o,n,i,!0));return a.configration=i,a}window.TalkVideoPlayer=r,o.TalkVideoPlayer=r,o.default=r},{"../../utils/Global":341,"../../utils/Utils":345,"./MediaPlayer":353}],355:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TalkWhiteboardToolbar=void 0;var _e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e};function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=A(e("../components/TalkcloudReact")),Ce=A(e("../../utils/DomUtils")),m=A(e("../../utils/Utils")),Ee=A(e("../../utils/Language")),s=A(e("../../utils/Global"));function A(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,r.default),i(c,[{key:"componentDidUpdateState",value:function(e){e.tempDisabledDrag!==this.state.tempDisabledDrag&&this.whiteboardToolbarTalkDrag&&n(this.whiteboardToolbarTalkDrag.updateDisabled)&&this.whiteboardToolbarTalkDrag.updateDisabled(this.state.tempDisabledDrag),e.viewState.other.pencilWidth!==this.state.viewState.other.pencilWidth&&this._setPencilWidthToSlider(),e.viewState.other.eraserWidth!==this.state.viewState.other.eraserWidth&&this._setEraserWidthToSlider()}},{key:"componentDidUpdateProps",value:function(e){if(e.languageType!==this.props.languageType&&this._updateLanguage(),e.isDrag!==this.props.isDrag&&(this.props.isDrag?this._addTalkDrag():this.whiteboardToolbarTalkDrag&&"function"==typeof this.whiteboardToolbarTalkDrag.destroy&&(this.whiteboardToolbarTalkDrag.destroy(),this.whiteboardToolbarTalkDrag=void 0)),!m.default.deepCompareJson(e.initDragPosition,this.props.initDragPosition)&&this.whiteboardToolbarTalkDrag&&"function"==typeof this.whiteboardToolbarTalkDrag.setPosition){var t=this.props.initDragPosition||{},o=t.left,n=void 0===o?0:o,i=t.top,a=void 0===i?0:i;this.whiteboardToolbarTalkDrag.setPosition(n,a)}if(this.elements&&(!m.default.deepCompareJson(e.loadWhiteboardTools,this.props.loadWhiteboardTools)||e.isMobile!==this.props.isMobile)){var r=this.props.loadWhiteboardTools||{},s=r.mouse,A=r.laser,l=r.pen,c=r.text,d=r.shape,u=r.eraser,h=r.clear,f=r.undo,p=r.redo,g=r.setting;Ce.default.updateStyle(this.elements.tool_mouse,{display:s?"":"none"}),Ce.default.updateStyle(this.elements.tool_laser,{display:!A||this.props.isMobile?"none":""}),Ce.default.updateStyle(this.elements.penList,{display:l?"":"none"}),Ce.default.updateStyle(this.elements.tool_text,{display:c?"":"none"}),Ce.default.updateStyle(this.elements.shapeList,{display:d?"":"none"}),Ce.default.updateStyle(this.elements.tool_eraser,{display:u?"":"none"}),Ce.default.updateStyle(this.elements.action_clear,{display:h?"":"none"}),Ce.default.updateStyle(this.elements.action_undo,{display:f?"":"none"}),Ce.default.updateStyle(this.elements.action_redo,{display:p?"":"none"}),Ce.default.updateStyle(this.elements.settingList,{display:g?"":"none"})}e.pencilWidthScale!==this.props.pencilWidthScale&&this._setPencilWidthToSlider(),e.eraserWidthScale!==this.props.eraserWidthScale&&this._setEraserWidthToSlider()}},{key:"changeParentNode",value:function(e){e&&(Ce.default.removeChild(this.elements.whiteboardToolbarViewRootElement,this.parentNode),this.parentNode=e,Ce.default.appendChild(this.parentNode,this.elements.whiteboardToolbarViewRootElement))}},{key:"destroyView",value:function(){for(var e in Ce.default.removeChild(this.elements.whiteboardToolbarViewRootElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"receiveActionCommand",value:function(e,t){switch("object"!==(void 0===t?"undefined":n(t))||Array.isArray(t)||(t=Object.deepAssign({},t)),L.Logger.debug(s.default.logType,"[WhiteboardToolbar]receive whiteboard view action commandï¼ˆaction,cmdï¼‰:",e,t),e){case"closeAllSelectBox":this._closeList();break;case"viewStateUpdate":this.setState({viewState:t.viewState})}}},{key:"whiteboardToolbarViewRootMouseLeave",value:function(e){return this._closeList(),e&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"listOpenOrCloseOnClick",value:function(e,t){if(this.elements[e])if(this._closeList(e),Ce.default.hasClass(this.elements[e],"open"))Ce.default.removeClass(this.elements[e],"open"),Ce.default.removeClass(this.elements[e],"left-show-list");else{Ce.default.addClass(this.elements[e],"open");var o=void 0,n=void 0;switch(e){case"penList":(o=this.elements.penList.getAttribute("data-current-pen"))&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.useWhiteboardTool(o,this.instanceId),n=this._getRect(this.elements.penListExtend);break;case"shapeList":(o=this.elements.shapeList.getAttribute("data-current-shape"))&&this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.useWhiteboardTool(o,this.instanceId),n=this._getRect(this.elements.shapeListExtend);break;case"settingList":n=this._getRect(this.elements.settingListExtend)}if(n){var i=this._getRect(this.elements.whiteboardToolbarViewRootElement),a=this._getRect(this.parentNode);i.left-a.left>a.width-(i.width+n.width+5)?Ce.default.addClass(this.elements[e],"left-show-list"):Ce.default.removeClass(this.elements[e],"left-show-list")}}return t&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"listOpenOrCloseOnMouseLeave",value:function(e,t){return this.elements[e]&&Ce.default.removeClass(this.elements[e],"open"),t&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"useWhiteboardToolOnClick",value:function(e,t){return this.whiteBoardManagerInstance&&e&&this.whiteBoardManagerInstance.useWhiteboardTool(e,this.instanceId),t&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"executeWhiteboardAction",value:function(e,t){return this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.executeWhiteboardAction(e,this.instanceId),t&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"changeColorOnClick",value:function(e,t){return this._changeWhiteBoardConfigration("primaryColor",e),t&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"changeFontFamilyOnClick",value:function(e,t,o){return this._changeWhiteBoardConfigration("fontFamily",e),o&&(o.preventDefault(),o.stopPropagation()),!1}},{key:"changeFontSizeOnClick",value:function(e,t){return this._changeWhiteBoardConfigration("fontSize",e),t&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"sendActionCommand",value:function(e,t){if(this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.whiteboardViewMap&&this.whiteBoardManagerInstance.whiteboardViewMap.has(this.instanceId)){var o=this.whiteBoardManagerInstance.whiteboardViewMap.get(this.instanceId);o&&o.sendActionCommand&&o.sendActionCommand(e,t)}}},{key:"resize",value:function(){this.whiteboardToolbarTalkDrag&&m.default.isFunction(this.whiteboardToolbarTalkDrag.resizeCallback)&&this.whiteboardToolbarTalkDrag.resizeCallback()}},{key:"_getRect",value:function(e){var t=e.getBoundingClientRect(),o=document.documentElement.clientTop,n=document.documentElement.clientLeft;return{top:t.top-o,bottom:t.bottom-o,left:t.left-n,right:t.right-n,width:t.width,height:t.height}}},{key:"_createConnectElements",value:function(){var n=this,e=this.props.loadWhiteboardTools||{},t=e.mouse,o=e.laser,i=e.pen,a=e.text,r=e.shape,s=e.eraser,A=e.clear,l=e.undo,c=e.redo,d=e.setting;this.elements.whiteboardToolbarViewRootElement=Ce.default.createElement("article",this.instanceId+"WhiteboardToolViewRoot","talkcloud-sdk-whiteboard "+this.instanceId+" whiteboard-toolbar-root",{zIndex:6}),Ce.default.appendChild(this.parentNode,this.elements.whiteboardToolbarViewRootElement),this.elements.whiteboardToolbarViewRootElement.innerHTML='\n            <ul class="whiteboard-tool-list-container" > \n                <li class="tool-option tool_mouse"  style="display:'+(t?"":"none")+'" >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option tool_laser" style="display:'+(!o||this.props.isMobile?"none":"")+'" >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option pen-list"  data-current-pen=\'tool_pencil\' style="display:'+(i?"":"none")+'" > \n                    <em class="icon"></em>\n                    <div class="tool-pen-list-extend" >\n                         <ol class="tool-pen-container" > \n                             <em class="arrow" ></em>\n                            <li class="pen-option tool_pencil" >\n                                <em class="pen-icon "></em>\n                            </li>\n                            <li class="pen-option tool_highlighter" >\n                                <em class="pen-icon"></em>\n                            </li>\n                            <li class="pen-option tool_line" >\n                                 <em class="pen-icon"></em>\n                            </li>\n                            <li class="pen-option tool_arrow" >\n                                 <em class="pen-icon"></em>\n                            </li>\n                        </ol>\n                    </div>                \n                </li>\n                <li class="tool-option tool_text" style="display:'+(a?"":"none")+'" >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option shape-list" data-current-shape=\'tool_rectangle_empty\'  style="display:'+(r?"":"none")+'"  > \n                    <em class="icon"></em>\n                     <div class="tool-shape-list-extend" >\n                         <ol class="tool-shape-container" > \n                            <em class="arrow" ></em>\n                            <li class="shape-option tool_rectangle_empty" >\n                                <em class="shape-icon"></em>\n                            </li>\n                            <li class="shape-option tool_rectangle" >\n                                <em class="shape-icon"></em>\n                            </li>\n                            <li class="shape-option tool_ellipse_empty" >\n                                <em class="shape-icon"></em>\n                            </li>\n                            <li class="shape-option tool_ellipse" >\n                                <em class="shape-icon"></em>\n                            </li>\n                        </ol>\n                     </div>\n                </li>\n                <li class="tool-option tool_eraser"  style="display:'+(s?"":"none")+'" >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option tool_undo" style="display:'+(l?"":"none")+'"  >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option tool_redo" style="display:'+(c?"":"none")+'" >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option tool_clear" style="display:'+(A?"":"none")+'"  >\n                    <em class="icon"></em>\n                </li>\n                <li class="tool-option setting-list" style="display:'+(d?"":"none")+'" > \n                    <em class="icon"></em>\n                    <div class="setting-list-extend" title=""  >\n                        <div class="setting-container" > \n                            <em class="arrow" ></em>\n                            <div class="colors-container" >                         \n                            </div>\n                            <div class="font-container">\n                                <span class="font-title title"></span>\n                                <div class="font-content-container" > \n                                    <div class="font-family-container"> \n                                    </div>\n                                    <div class="font-size-container" >\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="pencil-width-container" >\n                                <span class="pencil-width-title title"  ></span>\n                                <div class="slider-container pencil-slider-container" id="'+this.instanceId+'PencilWidthSlider" ></div>\n                            </div> \n                            <div class="eraser-width-container" >\n                                <span class="eraser-width-title title"></span>\n                                <div class="slider-container eraser-slider-container"  id="'+this.instanceId+'EraserWidthSlider" ></div>\n                            </div> \n                        </div>\n                    </div>\n                  \n                </li>\n            </ul>\n        ',this.elements.tool_mouse=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_mouse")[0],this.elements.tool_laser=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_laser")[0],this.elements.tool_text=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_text")[0],this.elements.tool_eraser=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_eraser")[0],this.elements.tool_pencil=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_pencil")[0],this.elements.tool_highlighter=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_highlighter")[0],this.elements.tool_line=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_line")[0],this.elements.tool_arrow=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_arrow")[0],this.elements.tool_ellipse=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_ellipse")[0],this.elements.tool_ellipse_empty=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_ellipse_empty")[0],this.elements.tool_rectangle=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_rectangle")[0],this.elements.tool_rectangle_empty=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_rectangle_empty")[0],this.elements.action_undo=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_undo")[0],this.elements.action_redo=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_redo")[0],this.elements.action_clear=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool_clear")[0],this.elements.penList=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("pen-list")[0],this.elements.shapeList=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("shape-list")[0],this.elements.settingList=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("setting-list")[0],this.elements.penListExtend=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool-pen-list-extend")[0],this.elements.shapeListExtend=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("tool-shape-list-extend")[0],this.elements.settingListExtend=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("setting-list-extend")[0],this.elements.colorsContainer=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("colors-container")[0],this.elements.fontTitle=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("font-title")[0],this.elements.fontFamilyContainer=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("font-family-container")[0],this.elements.fontSizeContainer=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("font-size-container")[0],this.elements.pencilWidthTitle=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("pencil-width-title")[0],this.elements.eraserWidthTitle=document.getElementById(this.instanceId+"WhiteboardToolViewRoot").getElementsByClassName("eraser-width-title")[0],window.TalkSlider&&(this.pencilWidthSlider=new window.TalkSlider({sliderContainer:{id:n.instanceId+"PencilWidthSlider",direction:"horizontal"},onChange:function(e){var t=n.props.pencilWidthScale,o=void 0===t?1:t;n.sendActionCommand("pencilWidthChange",{pencilWidthPercentage:e,pencilWidth:e*o})},onAfterChange:function(e){e=e<1?1:e;var t=n.props.pencilWidthScale,o=void 0===t?1:t;n._changeWhiteBoardConfigration("pencilWidth",e*o),n._changeWhiteBoardConfigration("shapeWidth",e*o),n.sendActionCommand("pencilWidthChange",{pencilWidthPercentage:e,pencilWidth:e*o})}}),this.eraserWidthSlider=new window.TalkSlider({sliderContainer:{id:n.instanceId+"EraserWidthSlider",direction:"horizontal"},onChange:function(e){var t=n.props.eraserWidthScale,o=void 0===t?1:t;n.sendActionCommand("eraserWidthChange",{eraserWidth:e*o,eraserWidthPercentage:e/100})},onAfterChange:function(e){e=e<1?1:e;var t=n.props.eraserWidthScale,o=void 0===t?1:t;n._changeWhiteBoardConfigration("eraserWidth",e*o),n.sendActionCommand("eraserWidthChange",{eraserWidth:e*o,eraserWidthPercentage:e/100})}}),this._setPencilWidthToSlider(),this._setEraserWidthToSlider()),this._addTalkDrag()}},{key:"_addTalkDrag",value:function(){if(this.props.isDrag&&window.TalkDrag&&this.elements.whiteboardToolbarViewRootElement){this.whiteboardToolbarTalkDrag&&"function"==typeof this.whiteboardToolbarTalkDrag.destroy&&(this.whiteboardToolbarTalkDrag.destroy(),this.whiteboardToolbarTalkDrag=void 0);var e=this.props.initDragPosition||{},t=e.left,o=void 0===t?0:t,n=e.top,i=void 0===n?0:n;this.whiteboardToolbarTalkDrag=new window.TalkDrag(this.elements.whiteboardToolbarViewRootElement,{containerData:{left:o,top:i}})}}},{key:"_updateLanguage",value:function(){var e=this.props.languageType,t=void 0===e?"ch":e;"ch"!==t&&"tw"!==t&&"en"!==t&&"ja"!==t&&(t="ch");var o=Ee.default.get(t).whiteboardToolbar,n=o.fontSizeText,i=o.fontFamily,a=void 0===i?{}:i,r=o.pencilWidthTitle,s=o.eraserWidthTitle,A=o.toolTextList,l=void 0===A?{}:A,c=a.title,d=a.options,u=void 0===d?{}:d;this.elements.fontTitle.innerHTML=c,this.elements.pencilWidthTitle.innerHTML=r,this.elements.eraserWidthTitle.innerHTML=s,Ce.default.removeAllChild(this.elements.fontFamilyContainer);var h=!0,f=!1,p=void 0;try{for(var g,m=Object.entries(u)[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value,v=_e(y,2),w=v[0],b=v[1];(k=Ce.default.createElement("button",void 0,"font-family-option "+w)).innerHTML=b,k.setAttribute("data-font-family-key",w),k.setAttribute("data-font-family-value",b),k.onclick=this.changeFontFamilyOnClick.bind(this,b,w),Ce.default.appendChild(this.elements.fontFamilyContainer,k)}}catch(e){f=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(f)throw p}}Ce.default.removeAllChild(this.elements.fontSizeContainer);var B=0,_=void 0,C=!0,E=!1,S=void 0;try{for(var I,T=[12,14,18,24,26,36,48,72][Symbol.iterator]();!(C=(I=T.next()).done);C=!0){var k,Q=I.value;(k=Ce.default.createElement("button",void 0,"font-size-option font-size-"+Q)).innerHTML=Q+n,k.setAttribute("data-font-size",Q),k.onclick=this.changeFontSizeOnClick.bind(this,Q),2<B&&(B=0),0===B&&(_=Ce.default.createElement("span",void 0,"font-size-list"),Ce.default.appendChild(this.elements.fontSizeContainer,_)),_&&Ce.default.appendChild(_,k),++B}}catch(e){E=!0,S=e}finally{try{!C&&T.return&&T.return()}finally{if(E)throw S}}var U=!0,F=!1,P=void 0;try{for(var D,x=Object.entries(l)[Symbol.iterator]();!(U=(D=x.next()).done);U=!0){var L=D.value,N=_e(L,2),H=N[0],R=N[1];this.elements[H]&&(this.elements[H].title=R)}}catch(e){F=!0,P=e}finally{try{!U&&x.return&&x.return()}finally{if(F)throw P}}this.render()}},{key:"_changeWhiteBoardConfigration",value:function(e,t){if(this.whiteBoardManagerInstance){var o={};o[e]=t,this.whiteBoardManagerInstance.changeWhiteBoardConfigration(o,this.instanceId)}}},{key:"_closeList",value:function(e){"penList"!==e&&Ce.default.removeClass(this.elements.penList,"open"),"shapeList"!==e&&Ce.default.removeClass(this.elements.shapeList,"open"),"settingList"!==e&&Ce.default.removeClass(this.elements.settingList,"open")}},{key:"_addEvent",value:function(){Ce.default.removeAllChild(this.elements.colorsContainer);var e=!0,t=!1,o=void 0;try{for(var n,i=["#5AC9FA","#FFCC00","#ED3E3A","#4740D2","#007BFF","#09C62B","#000000","#EDEDED"][Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value,r=Ce.default.createElement("button",void 0,"color-option color-"+a.replace(/#/g,""),{backgroundColor:a});r.innerHTML='<span style="border-color: '+a+'"></span>',r.setAttribute("data-color",a),r.onclick=this.changeColorOnClick.bind(this,a),Ce.default.appendChild(this.elements.colorsContainer,r)}}catch(e){t=!0,o=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw o}}this.elements.whiteboardToolbarViewRootElement.onmouseleave=this.whiteboardToolbarViewRootMouseLeave.bind(this);var s=!0,A=!(this.elements.settingListExtend.onclick=function(e){return e&&(e.preventDefault(),e.stopPropagation()),!1}),l=void 0;try{for(var c,d=["penList","shapeList","settingList"][Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;this.elements[u]&&(this.elements[u].onclick=this.listOpenOrCloseOnClick.bind(this,u),this.elements[u].onmouseleave=this.listOpenOrCloseOnMouseLeave.bind(this,u))}}catch(e){A=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(A)throw l}}var h=!0,f=!1,p=void 0;try{for(var g,m=["tool_mouse","tool_laser","tool_text","tool_eraser","tool_pencil","tool_highlighter","tool_line","tool_arrow","tool_ellipse","tool_ellipse_empty","tool_rectangle","tool_rectangle_empty"][Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value;this.elements[y]&&(this.elements[y].onclick=this.useWhiteboardToolOnClick.bind(this,y))}}catch(e){f=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(f)throw p}}var v=!0,w=!1,b=void 0;try{for(var B,_=["action_clear","action_redo","action_undo"][Symbol.iterator]();!(v=(B=_.next()).done);v=!0){var C=B.value;this.elements[C]&&(this.elements[C].onclick=this.executeWhiteboardAction.bind(this,C))}}catch(e){w=!0,b=e}finally{try{!v&&_.return&&_.return()}finally{if(w)throw b}}}},{key:"_setPencilWidthToSlider",value:function(){if(this.pencilWidthSlider&&this.pencilWidthSlider.setProgress){var e=this.props.pencilWidthScale,t=void 0===e?1:e;this.pencilWidthSlider.setProgress(this.state.viewState.other.pencilWidth/t),this.sendActionCommand("pencilWidthChange",{pencilWidth:this.state.viewState.other.pencilWidth,pencilWidthPercentage:this.state.viewState.other.pencilWidth/t/100})}}},{key:"_setEraserWidthToSlider",value:function(){if(this.eraserWidthSlider&&this.eraserWidthSlider.setProgress){var e=this.props.eraserWidthScale,t=void 0===e?1:e;this.eraserWidthSlider.setProgress(this.state.viewState.other.eraserWidth/t),this.sendActionCommand("eraserWidthChange",{eraserWidth:this.state.viewState.other.eraserWidth,eraserWidthPercentage:this.state.viewState.other.eraserWidth/t/100})}}},{key:"render",value:function(){var e=this.state.viewState,t=e.tool,o=void 0===t?{}:t,n=e.action,i=void 0===n?{}:n,a=e.other,r=void 0===a?{}:a,s=r.primaryColor,A=r.fontFamily,l=r.fontSize,c={},d={},u=!0,h=!1,f=void 0;try{for(var p,g=Object.entries(o)[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var m=p.value,y=_e(m,2),v=y[0],w=y[1];if(this.elements[v]){switch(v){case"tool_pencil":case"tool_highlighter":case"tool_line":case"tool_arrow":w.isUse&&(c[v]=w);break;case"tool_rectangle":case"tool_rectangle_empty":case"tool_ellipse_empty":case"tool_ellipse":w.isUse&&(d[v]=w)}w.isUse?Ce.default.addClass(this.elements[v],"active"):Ce.default.removeClass(this.elements[v],"active"),w.disabled?Ce.default.addClass(this.elements[v],"disabled"):Ce.default.removeClass(this.elements[v],"disabled"),this.elements[v].disabled=w.disabled}}}catch(e){h=!0,f=e}finally{try{!u&&g.return&&g.return()}finally{if(h)throw f}}if(Object.keys(c).length){var b=!0,B=!1,_=void 0;try{for(var C,E=Object.keys(c)[Symbol.iterator]();!(b=(C=E.next()).done);b=!0){var S=C.value;this.elements.penList.setAttribute("data-current-pen",S),Ce.default.addClass(this.elements.penList,"active")}}catch(e){B=!0,_=e}finally{try{!b&&E.return&&E.return()}finally{if(B)throw _}}}else Ce.default.removeClass(this.elements.penList,"active");if(Object.keys(d).length){var I=!0,T=!1,k=void 0;try{for(var Q,U=Object.keys(d)[Symbol.iterator]();!(I=(Q=U.next()).done);I=!0){var F=Q.value;this.elements.shapeList.setAttribute("data-current-shape",F),Ce.default.addClass(this.elements.shapeList,"active")}}catch(e){T=!0,k=e}finally{try{!I&&U.return&&U.return()}finally{if(T)throw k}}}else Ce.default.removeClass(this.elements.shapeList,"active");var P=!0,D=!1,x=void 0;try{for(var L,N=Object.entries(i)[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){var H=L.value,R=_e(H,2),M=R[0],O=R[1];this.elements[M]&&(O.disabled?Ce.default.addClass(this.elements[M],"disabled"):Ce.default.removeClass(this.elements[M],"disabled"),this.elements[M].disabled=O.disabled)}}catch(e){D=!0,x=e}finally{try{!P&&N.return&&N.return()}finally{if(D)throw x}}var W=this.elements.colorsContainer.getElementsByClassName("color-option"),K=!0,V=!1,j=void 0;try{for(var z,J=W[Symbol.iterator]();!(K=(z=J.next()).done);K=!0){var G=z.value;G.getAttribute("data-color")===s?Ce.default.addClass(G,"active"):Ce.default.removeClass(G,"active")}}catch(e){V=!0,j=e}finally{try{!K&&J.return&&J.return()}finally{if(V)throw j}}var X=this.elements.fontFamilyContainer.getElementsByClassName("font-family-option"),Y=!0,q=!1,Z=void 0;try{for(var $,ee=X[Symbol.iterator]();!(Y=($=ee.next()).done);Y=!0){for(var te=$.value,oe=void 0,ne=["ch","tw","en"],ie=0;ie<ne.length;ie++){var ae=ne[ie],re=Ee.default.get(ae).whiteboardToolbar.fontFamily.options,se=void 0===re?{}:re,Ae=!0,le=!1,ce=void 0;try{for(var de,ue=Object.entries(se)[Symbol.iterator]();!(Ae=(de=ue.next()).done);Ae=!0){var he=de.value,fe=_e(he,2),pe=fe[0];if(fe[1]===A){oe=pe;break}}}catch(e){le=!0,ce=e}finally{try{!Ae&&ue.return&&ue.return()}finally{if(le)throw ce}}if(oe)break}te.getAttribute("data-font-family-key")===oe?Ce.default.addClass(te,"active"):Ce.default.removeClass(te,"active")}}catch(e){q=!0,Z=e}finally{try{!Y&&ee.return&&ee.return()}finally{if(q)throw Z}}var ge=this.elements.fontSizeContainer.getElementsByClassName("font-size-option"),me=!0,ye=!1,ve=void 0;try{for(var we,be=ge[Symbol.iterator]();!(me=(we=be.next()).done);me=!0){var Be=we.value;Be.getAttribute("data-font-size")===""+l?Ce.default.addClass(Be,"active"):Ce.default.removeClass(Be,"active")}}catch(e){ye=!0,ve=e}finally{try{!me&&be.return&&be.return()}finally{if(ye)throw ve}}}}]),c);function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n));return a.parentNode=e,a.instanceId=t,a.whiteBoardManagerInstance=o,a.configration=i,a.elements={},a.whiteboardToolbarTalkDrag=void 0,a.state={tempDisabledDrag:!1,viewState:{tool:{},action:{},zoom:{},page:{},documentType:"generalDocument",fileid:0,dynamicPptVolume:100,fullScreen:!1,remark:!1,other:{primaryColor:a.configration.primaryColor,secondaryColor:a.configration.secondaryColor,backgroundColor:a.configration.backgroundColor,pencilWidth:a.configration.pencilWidth,shapeWidth:a.configration.shapeWidth,eraserWidth:a.configration.eraserWidth,fontSize:a.configration.fontSize,fontFamily:a.configration.fontFamily}},useColor:""},a.fileTypeMark="general",a._createConnectElements(),a._addEvent(),a._updateLanguage(),a.render(),a}window.TalkWhiteboardToolbar=l,o.TalkWhiteboardToolbar=l,o.default=l},{"../../utils/DomUtils":340,"../../utils/Global":341,"../../utils/Language":342,"../../utils/Utils":345,"../components/TalkcloudReact":348}],356:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e};function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=r(e("../../utils/DomUtils")),a=r(e("../../utils/Configuration")),v=r(e("../../utils/Constant")),Ce=r(e("../../utils/Global")),X=r(e("../../utils/Utils")),Ee=r(e("../../intermediateLayer/WhiteboardIntermediateLayer")),Y=r(e("../../intermediateLayer/DynamicPptIntermediateLayer")),y=r(e("../../intermediateLayer/H5DocumentPptIntermediateLayer"));function r(e){return e&&e.__esModule?e:{default:e}}function q(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var s=(n(A,[{key:"getConfigration",value:function(){return this.configration}},{key:"saveFiledataAndLoadCurrpageWhiteboardData",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._saveFiledataAndLoadCurrpageWhiteboardData(t)}},{key:"noticeWhiteboardActionCommand",value:function(e,t){if("default"===this.instanceId)switch(e){case"playOrPauseDynamicPpt":"dynamicPPT"===this.fileTypeMark&&Y.default.postMessage(this.instanceId,{action:t.pause?"stopDynamicPpt":"playDynamicPpt"});break;case"updateMute":"dynamicPPT"===this.fileTypeMark&&Y.default.postMessage(this.instanceId,{action:"ExtendedNotice",extendedData:{type:"updateMute",data:{mute:t.isMute}}});break;case"ExtendedNotice":"dynamicPPT"===this.fileTypeMark&&Y.default.postMessage(this.instanceId,{action:"ExtendedNotice",extendedData:t.extendedData});break;case"closeDynamicPptAutoVideo":"dynamicPPT"===this.fileTypeMark&&Y.default.postMessage(this.instanceId,{action:"closeDynamicPptAutoVideo"})}}},{key:"reloadCurrentDocument",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};if("default"===this.instanceId||this.configration.hasExtendDocument)switch(this.fileTypeMark){case"generalDocument":var o=Ee.default.getWhiteboardFiledata(this.instanceId),n=(o.cospdfpath,o.swfpath),i=o.isContentDocument,a=o.fileid,r=o.filetype,s=o.currpage;if(n&&"whiteboard"!==r&&0!=a){var A=void 0;if(Number(i))n&&(A=n);else{var l=n.lastIndexOf("."),c=n.substring(l),d=n.replace(c,"-"+s+c);A=Ce.default.nowUseDocAddress+d}Ee.default.setWhiteboardWatermarkImage(this.instanceId,A,{resetDedaultWhiteboardMagnification:!1,fullWhite:this.configration.fullWhite})}break;case"dynamicPPT":t.isAgainreconnect||(this.forceReloadTimestampFromPpt=(new Date).getTime()),this._loadCurrentDynamicPpt({},{isAgainreconnect:t.isAgainreconnect});break;case"h5Document":this._loadCurrentH5Document({forceReloadTimestamp:(new Date).getTime()})}}},{key:"changeDocumentRemarkState",value:function(e){this.remark=e&&this.configration.canRemark,this._viewStateUpdate()}},{key:"changeFullScreenState",value:function(e){this.fullScreen=e,this._viewStateUpdate(),this.resizeWhiteboardHandler()}},{key:"destroyWhiteboardView",value:function(){for(var e in Ee.default.hasWhiteboardById(this.instanceId)&&Ee.default.destroyWhiteboardInstance(this.instanceId),Y.default.hasDynamicPptById(this.instanceId)&&Y.default.destroyDynamicPptInstance(this.instanceId),y.default.hasH5DocumentById(this.instanceId)&&y.default.destroyH5DocumentInstance(this.instanceId),G.default.removeChild(this.elements.whiteboardViewRootElement,this.parentNode),this.elements)this.elements[e]=void 0,delete this.elements[e]}},{key:"changeWhiteBoardConfigration",value:function(e){Object.deepAssign(this.configration,e);var t={},o={},n={},i=!0,a=!1,r=void 0;try{for(var s,A=Object.entries(e)[Symbol.iterator]();!(i=(s=A.next()).done);i=!0){var l=s.value,c=_e(l,2),d=c[0],u=c[1];"canDraw"===d?t.deawPermission=this.configration.canDraw:"myUserId"===d?t.myselfId=u:"myName"===d?t.nickname=u:"primaryColor"===d||"secondaryColor"===d||"primaryColor"===d?t[d.replace(/Color/g,"")]=u:"synchronization"===d?t.synchronizationWhiteboard=this.configration.synchronization&&this.configration.isConnectedRoom:t[d]=u,"synchronization"===d?o.synchronizationDynamicPpt=this.configration.synchronization&&this.configration.isConnectedRoom:"actionClick"===d?o.dynamicPptActionClick=this.configration.actionClick&&this.configration.isConnectedRoom:o[d]=u,"synchronization"===d?n.synchronizationH5Document=this.configration.synchronization&&this.configration.isConnectedRoom:"actionClick"===d?n.h5DocumentActionClick=this.configration.actionClick&&this.configration.isConnectedRoom:n[d]=u}}catch(e){a=!0,r=e}finally{try{!i&&A.return&&A.return()}finally{if(a)throw r}}void 0!==e.isConnectedRoom&&(t.synchronizationWhiteboard=this.configration.synchronization&&this.configration.isConnectedRoom,o.synchronizationDynamicPpt=this.configration.synchronization&&this.configration.isConnectedRoom,n.synchronizationH5Document=this.configration.synchronization&&this.configration.isConnectedRoom,o.dynamicPptActionClick=this.configration.actionClick&&this.configration.isConnectedRoom,n.h5DocumentActionClick=this.configration.actionClick&&this.configration.isConnectedRoom,t.deawPermission=this.configration.canDraw),void 0!==e.synchronization&&(t.deawPermission=this.configration.canDraw),Ee.default.updateWhiteboardProperty(this.instanceId,t),(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.updateDynamicPptProperty(this.instanceId,o),(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&y.default.updateH5DocumentProperty(this.instanceId,n),void 0!==e.loadDynamicPptView&&this.elements.dynamicPptViewElement&&(e.loadDynamicPptView&&!document.getElementById(this.elements.dynamicPptViewElement.getAttribute("id"))?(G.default.appendChild(this.elements.documentViewElement,this.elements.dynamicPptViewElement),this._productionDynamicPpt()):!e.loadDynamicPptView&&document.getElementById(this.elements.dynamicPptViewElement.getAttribute("id"))&&(Y.default.hasDynamicPptById(this.instanceId)&&Y.default.destroyDynamicPptInstance(this.instanceId),G.default.removeChild(this.elements.dynamicPptViewElement,this.elements.documentViewElement))),void 0!==e.loadH5DocumentView&&this.elements.h5DocumentViewElement&&(e.loadH5DocumentView&&!document.getElementById(this.elements.h5DocumentViewElement.getAttribute("id"))?(G.default.appendChild(this.elements.documentViewElement,this.elements.h5DocumentViewElement),this._productionH5Document()):!e.loadH5DocumentView&&document.getElementById(this.elements.h5DocumentViewElement.getAttribute("id"))&&(y.default.hasH5DocumentById(this.instanceId)&&y.default.destroyH5DocumentInstance(this.instanceId),G.default.removeChild(this.elements.h5DocumentViewElement,this.elements.documentViewElement))),void 0!==e.rootBackgroundColor&&G.default.updateStyle(this.elements.whiteboardViewRootElement,{backgroundColor:e.rootBackgroundColor}),void 0!==e.isMobile&&(e.isMobile?G.default.addClass(this.elements.whiteboardViewRootElement,"app-mobile"):G.default.removeClass(this.elements.whiteboardViewRootElement,"app-mobile")),void 0===e.canPage&&void 0===e.addPage&&void 0===e.isConnectedRoom||this._viewStateUpdate()}},{key:"receiveEventRoomPubmsg",value:function(e){e&&"string"==typeof e&&(e=JSON.parse(e)),"object"===(void 0===e?"undefined":Be(e))&&e.message&&"string"==typeof e.message&&(e.message=JSON.parse(e.message)),"object"===Be(e.message)&&e.message.data&&"string"==typeof e.message.data&&(e.message.data=JSON.parse(e.message.data));var t=e.message;switch(t.name){case"ShowPage":case"ExtendShowPage":t.source="room-pubmsg",this._handleShowPageSignalling(t,e.local);break;case"whiteboardMarkTool":case"ExtendWhiteboardMarkTool":t.data&&t.data.selectMouse?Ee.default.activeWhiteboardTool("tool_mouse",this.instanceId):Ee.default.useHistoryPenTool(this.instanceId);break;case"NewPptTriggerActionClick":case"ExtendNewPptTriggerActionClick":(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.postMessageDynamicPptTriggerAction(this.instanceId,t.data);break;case"H5DocumentAction":case"ExtendH5DocumentAction":(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&y.default.postMessageH5DocumentTriggerAction(this.instanceId,t.data);break;case"PptVolumeControl":case"ExtendPptVolumeControl":this.volume=100*t.data.volume,this._updatedynamicPptVolume(100*t.data.volume)}}},{key:"receiveEventRoomDelmsg",value:function(){}},{key:"receiveEventRoomMsglist",value:function(e,t){switch(e){case"ShowPage":case"ExtendShowPage":t.source="room-msglist",this._handleShowPageSignalling(t);break;case"whiteboardMarkTool":case"ExtendWhiteboardMarkTool":t.data&&t.data.selectMouse?Ee.default.activeWhiteboardTool("tool_mouse",this.instanceId):Ee.default.useHistoryPenTool(this.instanceId);break;case"NewPptTriggerActionClick":case"ExtendNewPptTriggerActionClick":(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.postMessageDynamicPptTriggerAction(this.instanceId,t.data);break;case"H5DocumentAction":case"ExtendH5DocumentAction":(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&y.default.postMessageH5DocumentTriggerAction(this.instanceId,t.data);break;case"PptVolumeControl":case"ExtendPptVolumeControl":this._updatedynamicPptVolume(100*t.data.volume)}}},{key:"reveiveEventRoomReceiveActionCommand",value:function(e,t){switch(e){case"fullScreenChangeCallback":this.changeFullScreenState(t.isFullScreen);break;case"changeDynamicPptSize":this.configration.isMobile&&"dynamicPPT"===this.fileTypeMark&&Y.default.changeDynamicPptSize(this.instanceId);break;case"closeDynamicPptWebPlay":"dynamicPPT"===this.fileTypeMark&&Y.default.postMessage(this.instanceId,{action:"closeDynamicPptAutoVideo"})}}},{key:"sendActionCommand",value:function(e,t){this.receiveActionCommand&&"function"==typeof this.receiveActionCommand&&("object"!==(void 0===t?"undefined":Be(t))||Array.isArray(t)||(t=Object.deepAssign({},t)),this.receiveActionCommand(e,t,this.instanceId))}},{key:"pubMsg",value:function(e){if("ShowPage"===e.name){var t=!1;"string"==typeof e.data?(e.data=JSON.parse(e.data),t=!0):e.data=e.data,e.data&&e.data.filedata&&e.data.filedata.baseurl&&delete e.data.filedata.baseurl,t&&(e.data=JSON.stringify(e.data))}this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.pubMsg&&this.whiteBoardManagerInstance.pubMsg(e)}},{key:"delMsg",value:function(e){this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.delMsg&&this.whiteBoardManagerInstance.delMsg(e)}},{key:"getWhiteboardViewState",value:function(){return this.whiteboardViewState}},{key:"forceViewStateUpdate",value:function(){this._viewStateUpdate()}},{key:"useWhiteboardTool",value:function(e,t){if(this.whiteboardViewState.tool[e]&&this.whiteboardViewState.tool[e].disabled)L.Logger.warning(Ce.default.logType,"whiteboard tool("+e+") state is disabled , cannot use "+e+" tool!");else{if(("default"===this.instanceId||this.configration.hasExtendDocument)&&this.configration.synchronization&&this.configration.isConnectedRoom&&e!==Ee.default.getActiveTool(this.instanceId)&&("tool_mouse"!==e&&"tool_mouse"===Ee.default.getActiveTool(this.instanceId)||"tool_mouse"===e&&"tool_mouse"!==Ee.default.getActiveTool(this.instanceId))&&(0===this.configration.myRole||1===this.configration.myRole)){var o={name:"default"===this.instanceId?"whiteboardMarkTool":"ExtendWhiteboardMarkTool",id:"default"===this.instanceId?"whiteboardMarkTool":"ExtendWhiteboardMarkTool_"+this.instanceId,toID:t?"__none":"__allExceptSender",data:{sourceInstanceId:this.instanceId,selectMouse:"tool_mouse"===e},save:!0};this.pubMsg(o)}Ee.default.activeWhiteboardTool(e,this.instanceId)}}},{key:"executeWhiteboardAction",value:function(e){this.whiteboardViewState.action[e]&&this.whiteboardViewState.action[e].disabled?L.Logger.warning(Ce.default.logType,"whiteboard action("+e+") state is disabled , cannot execute "+e+" action!"):Ee.default.activeWhiteboardTool(e,this.instanceId)}},{key:"executeZoomWhiteaord",value:function(e){this.whiteboardViewState.zoom[e]&&this.whiteboardViewState.zoom[e].disabled?L.Logger.warning(Ce.default.logType,"whiteboard zoom("+e+") state is disabled , cannot execute "+e+" zoom!"):Ee.default.activeWhiteboardTool(e,this.instanceId)}},{key:"addPage",value:function(){var e=Ee.default.getWhiteboardFiledata(this.instanceId),t=e.fileid,o=e.pagenum;if("generalDocument"===this.fileTypeMark||0!==Number(t)){if(o++,Ee.default.updateWhiteboardFiledata(this.instanceId,{pagenum:o}),this.configration.synchronization&&this.configration.isConnectedRoom){var n={name:"default"===this.instanceId?"WBPageCount":"ExtendWBPageCount",id:"default"===this.instanceId?"WBPageCount":"WBPageCount_"+this.instanceId,toID:"__allExceptSender",data:{sourceInstanceId:this.instanceId,totalPage:o,fileid:t},save:!0};this.pubMsg(n)}this.nextPage()}else L.Logger.warning(Ce.default.logType,"whiteboard addPage method can only be used in pure whiteboard.")}},{key:"nextPage",value:function(){var t=this;if(this.whiteboardViewState.page.nextPage&&this.whiteboardViewState.page.nextPage.disabled)L.Logger.warning(Ce.default.logType,"whiteboard nexPage state is disabled , cannot execute nextPage method!");else switch(this.fileTypeMark){case"generalDocument":var e=Ee.default.getWhiteboardFiledata(this.instanceId),o=e.currpage,n=e.pagenum;n<++o&&(o=n);var i={data:{filedata:{currpage:o}}};this._sendSignalling_ShowPage(i,function(e){t.receiveEventRoomPubmsg({type:"room-pubmsg",message:e,local:!0})});break;case"h5Document":y.default.nextPage(this.instanceId);break;case"dynamicPPT":Y.default.nextSlide(this.instanceId)}}},{key:"prevPage",value:function(){var t=this;if(this.whiteboardViewState.page.prevPage&&this.whiteboardViewState.page.prevPage.disabled)L.Logger.warning(Ce.default.logType,"whiteboard prevPage state is disabled , cannot execute prevPage method!");else switch(this.fileTypeMark){case"generalDocument":var e=Ee.default.getWhiteboardFiledata(this.instanceId).currpage;--e<1&&(e=1);var o={data:{filedata:{currpage:e}}};this._sendSignalling_ShowPage(o,function(e){t.receiveEventRoomPubmsg({type:"room-pubmsg",message:e,local:!0})});break;case"h5Document":y.default.prevPage(this.instanceId);break;case"dynamicPPT":Y.default.prevSlide(this.instanceId)}}},{key:"skipPage",value:function(e){var t=this;switch(this.fileTypeMark){case"generalDocument":var o=Ee.default.getWhiteboardFiledata(this.instanceId).pagenum;o<e&&(e=o),e<1&&(e=1);var n={data:{filedata:{currpage:e}}};this._sendSignalling_ShowPage(n,function(e){t.receiveEventRoomPubmsg({type:"room-pubmsg",message:e,local:!0})});break;case"h5Document":y.default.skipPage(this.instanceId,e);break;case"dynamicPPT":var i=e;Y.default.jumpToAnimation(this.instanceId,i,0,!0)}}},{key:"nextStep",value:function(){if("dynamicPPT"===this.fileTypeMark)if(this.whiteboardViewState.page.nextStep&&this.whiteboardViewState.page.nextStep.disabled)L.Logger.warning(Ce.default.logType,"whiteboard nextStep state is disabled , cannot execute nextStep method!");else switch(this.fileTypeMark){case"dynamicPPT":Y.default.nextStep(this.instanceId)}else L.Logger.warning(Ce.default.logType,"whiteboard nextStep method can only be used in dynamic PPT files.")}},{key:"prevStep",value:function(){if("dynamicPPT"===this.fileTypeMark)if(this.whiteboardViewState.page.prevStep&&this.whiteboardViewState.page.prevStep.disabled)L.Logger.warning(Ce.default.logType,"whiteboard prevStep state is disabled , cannot execute prevStep method!");else switch(this.fileTypeMark){case"dynamicPPT":Y.default.prevStep(this.instanceId)}else L.Logger.warning(Ce.default.logType,"whiteboard prevStep method can only be used in dynamic PPT files.")}},{key:"resizeWhiteboardSizeCallback",value:function(e){e.loadScrollBar?G.default.addClass(this.elements.totalDocumentViewElement,"custom-scroll-bar"):G.default.removeClass(this.elements.totalDocumentViewElement,"custom-scroll-bar"),G.default.updateStyle(this.elements.documentViewElement,{width:e.style.width,height:e.style.height}),G.default.updateStyle(this.elements.totalDocumentViewElement,{width:e.style.width,height:e.style.height,top:"50%",left:"50%"}),G.default.updateStyle(this.elements.totalDocumentViewElement,{marginLeft:"-"+this.elements.totalDocumentViewElement.offsetWidth/2+"px",marginTop:"-"+this.elements.totalDocumentViewElement.offsetHeight/2+"px"})}},{key:"noticeUpdateToolDescCallback",value:function(){this._viewStateUpdate()}},{key:"noticeUpdateWhiteboardFiledataCallback",value:function(){this._viewStateUpdate()}},{key:"receiveActionCommandCallback",value:function(e,t){if(t.id===this.instanceId)switch(e){case"closeAllSelectBox":this.sendActionCommand("closeAllSelectBox");break;case"changeWhiteboardActiveTool":this._updateViewShowAndHide();break;case"updateWhiteboardWatermarkImageScale":Ee.default.updateWhiteboardWatermarkImageScale(this.instanceId,t.scale);break;case"dynamicPptLoadEnd":case"h5DocumentLoadEnd":case"generalDocumentLoadEnd":G.default.removeClass(this.elements.disableClickViewElement,"loading"),this.scale=t.scale,this._viewStateUpdate();var o=Ee.default.getWhiteboardFiledata(this.instanceId);o.success=t.success,o.reloadNumber=t.reloadNumber;var n={loadSuccessData:o};this.sendActionCommand("documentLoadSuccess",n);break;case"h5DocumentReloadFail":case"dynamicPptReloadFail":case"generalDocumentReloadFail":var i=Ee.default.getWhiteboardFiledata(this.instanceId);i.success=t.success,i.reloadNumber=t.reloadNumber;var a={loadFailData:i};this.sendActionCommand("documentLoadFail",a);break;case"sendSignalling_ShowPage":this._sendSignalling_ShowPage(t.updatePubmsgData);break;case"saveFiledataAndLoadCurrpageWhiteboardData":case"dynamicPptSlideChange":this._saveFiledataAndLoadCurrpageWhiteboardData(t.updateFileData);break;case"dynamicPptStepChange":Ee.default.updateWhiteboardFiledata(this.instanceId,t.updateFileData);break;case"publishDymanicPptNetworkMedia":if("default"===this.instanceId){Y.default.postMessage(this.instanceId,{action:"closeDynamicPptAutoVideo"});var r=Ee.default.getWhiteboardFiledata(this.instanceId),s=r.swfpath,A=r.isContentDocument,l=void 0;Number(A)?s&&(l=s.replace(/\/newppt.html/g,"")):l=Ce.default.nowUseDocAddress+s,t.url=l+"/"+t.url,this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.startShareMedia(t.url,t.video,this.configration.mediaShareToID,t.attributes)}break;case"publishDymanicPptNetworkAudio":if(this.configration.isNativePlayAudio){var c=Ee.default.getWhiteboardFiledata(this.instanceId),d=c.swfpath,u=c.isContentDocument,h=void 0;Number(u)?d&&(h=d.replace(/\/newppt.html/g,"")):h=Ce.default.nowUseDocAddress+d,h=(h=h.replace(/^https/,"http")).replace(/443/g,"80"),t.url=h+"/"+t.url,this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate().isPlayAudio&&(this.whiteBoardManagerInstance.getRoomDelegate().isPlayAudio(t.url,t.isPlay,t.attributes),this.whiteBoardManagerInstance.getRoomDelegate().setPptAudioVolume&&this.whiteBoardManagerInstance.getRoomDelegate().setPptAudioVolume(this.volume))}else{var f=t.attributes,p=f.fileid,g=f.currentPage,m=f.other,y=t.id,v=t.isPlay,w=t.url,b=y+"_"+w+"_"+g;if(this.audioEle=document.getElementById(b)||document.createElement("audio"),v){if(!this.pptAudio[b]){var B=Ee.default.getWhiteboardFiledata(this.instanceId),_=B.swfpath,C=B.isContentDocument,E="";"/"!==(E=Number(C)?(_||E).replace(/\/newppt.html/g,""):Ce.default.nowUseDocAddress+_)[E.length-1]?"/"!==w[0]&&(E+="/"):"/"===w[0]&&(w=w.substr(1)),this.audioEle.setAttribute("id",b),this.audioEle.setAttribute("src",E+w),this.audioEle.setAttribute("volume",this.dynamicPptVolume),this.audioEle.style.display="none",this.pptAudio[b]={isPlay:v,fileid:p,currentPage:g,url:w},document.querySelector("body").appendChild(this.audioEle),TK.DeviceMgr.associateElementsToSpeaker([this.audioEle])}this.pptAudio[b].isPlay=!0,this.audioEle.volume=this.dynamicPptVolume/100,this.audioEle.play()}else if(!1===v&&this.pptAudio[b]){var S=m||{},I=S.currentTime,T=S.duration;this.pptAudio[b].isPlay=!1,this.audioEle.pause(),I&&parseInt(I)===parseInt(T)&&(this.audioEle.remove(),this.pptAudio[b]=null)}}break;case"publishH5DocumentNetworkMedia":if(this.configration.isNativePlayAudio=!0,this.configration.isNativePlayAudio)t.url=t.url.replace(/^https/,"http"),t.url=t.url.replace(/443/g,"80"),t.attributes.url=t.url,this.whiteBoardManagerInstance&&(this.h5DocumentMediaid===t.url?"play"===t.status?this.whiteBoardManagerInstance.getRoomDelegate().pauseShareMedia(!1):"pause"===t.status?this.whiteBoardManagerInstance.getRoomDelegate().pauseShareMedia(!0):"close"===t.status&&this.whiteBoardManagerInstance.getRoomDelegate().stopShareMedia():"play"===t.status&&(this.h5DocumentMediaid=t.url,this.whiteBoardManagerInstance.getRoomDelegate().stopShareMedia(),this.whiteBoardManagerInstance.startShareMedia(t.url,t.video,this.configration.mediaShareToID,t.attributes)));else{var k=t.attributes,Q=k.fileid,U=k.currentPage,F=k.other,P=t.id,D=t.isPlay,x=t.url,N=P+"_"+x+"_"+U;if(this.audioEle=document.getElementById(N)||document.createElement("audio"),D){if(!this.pptAudio[N]){var H=Ee.default.getWhiteboardFiledata(this.instanceId),R=H.swfpath,M=H.isContentDocument,O="";"/"!==(O=Number(M)?(R||O).replace(/\/newppt.html/g,""):Ce.default.nowUseDocAddress+R)[O.length-1]?"/"!==x[0]&&(O+="/"):"/"===x[0]&&(x=x.substr(1)),this.audioEle.setAttribute("id",N),this.audioEle.setAttribute("src",O+x),this.audioEle.setAttribute("volume",this.dynamicPptVolume),this.audioEle.style.display="none",this.pptAudio[N]={isPlay:D,fileid:Q,currentPage:U,url:x},document.querySelector("body").appendChild(this.audioEle),TK.DeviceMgr.associateElementsToSpeaker([this.audioEle])}this.pptAudio[N].isPlay=!0,this.audioEle.volume=this.dynamicPptVolume/100,this.audioEle.play()}else if(!1===D&&this.pptAudio[N]){var W=F||{},K=W.currentTime,V=W.duration;this.pptAudio[N].isPlay=!1,this.audioEle.pause(),K&&parseInt(K)===parseInt(V)&&(this.audioEle.remove(),this.pptAudio[N]=null)}}break;case"updateWhiteboardFiledata":Ee.default.updateWhiteboardFiledata(this.instanceId,t.updateFileData);break;case"getWhiteboardFiledata":t&&t.callback&&"function"==typeof t.callback&&t.callback(Ee.default.getWhiteboardFiledata(this.instanceId));break;case"reloadCurrentDocument":this.reloadCurrentDocument({isAgainreconnect:t.isAgainreconnect});break;case"reloadDynamicPptIframeSrc":if(t.iframeSrc&&"dynamicPPT"===this.fileTypeMark&&new RegExp(Ee.default.getWhiteboardFiledata(this.instanceId).swfpath+"/newppt.html","g").test(t.iframeSrc)){var j=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress;Ce.default.docAddressKey=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey,!0),this.whiteBoardManagerInstance&&X.default.isFunction(this.whiteBoardManagerInstance.setLocalStorageItem)&&(this.whiteBoardManagerInstance.setLocalStorageItem("tkDocAddressKey",Ce.default.docAddressKey),this.sendActionCommand("docAddressUpdate",{docAddressList:[].concat(q(Ce.default.docAddressList)),docAddressIndex:Ce.default.docAddressKey,oldDocAddress:j,nowDocAddress:X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress})),Ce.default.nowUseDocAddress=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress,L.Logger.info(Ce.default.logType,"[reload dynamic ppt]change doc address , old address is "+j+" , now address is "+Ce.default.nowUseDocAddress),void 0!==t.forceReloadNumber&&(this.forceReloadNumberFromPpt=t.forceReloadNumber),this._loadCurrentDynamicPpt(),L.Logger.info(Ce.default.logType,"["+t.source+"]load dynamic ppt failure , reload file , old url is "+t.iframeSrc+" , now url is "+Y.default.getIframeSrc(this.instanceId)+" , reload number is "+t.forceReloadNumber)}break;case"reloadH5DocumentIframeSrc":if(t.iframeSrc&&"h5Document"===this.fileTypeMark&&new RegExp(Ee.default.getWhiteboardFiledata(this.instanceId).swfpath,"g").test(t.iframeSrc)){var z=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress;Ce.default.docAddressKey=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey,!0),this.whiteBoardManagerInstance&&X.default.isFunction(this.whiteBoardManagerInstance.setLocalStorageItem)&&(this.whiteBoardManagerInstance.setLocalStorageItem("tkDocAddressKey",Ce.default.docAddressKey),this.sendActionCommand("docAddressUpdate",{docAddressList:[].concat(q(Ce.default.docAddressList)),docAddressIndex:Ce.default.docAddressKey,oldDocAddress:z,nowDocAddress:X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress})),Ce.default.nowUseDocAddress=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress,L.Logger.info(Ce.default.logType,"[reload h5 document]change doc address , old address is "+z+" , now address is "+Ce.default.nowUseDocAddress);var J={};t.forceReloadNumber&&(J.forceReloadNumber=t.forceReloadNumber),this._loadCurrentH5Document(J,{forceReloadNumber:t.forceReloadNumber}),L.Logger.info(Ce.default.logType,"["+t.source+"]load h5 document failure , reload file , old url is "+t.iframeSrc+" , now url is "+Y.default.getIframeSrc(this.instanceId)+" , reload number is "+t.forceReloadNumber)}break;case"updateWhiteboardToolsInfo":this._viewStateUpdate();break;case"h5DocumentOnJumpPage":this.whiteBoardManagerInstance.skipPage(t.toPage,this.instanceId);break;case"currentWhiteboardId":this.sendActionCommand("currentWhiteboardId",t)}}},{key:"whiteboardWatermarkImageOnFailureCallback",value:function(e){var t=Ee.default.getWhiteboardFiledata(this.instanceId),o=(t.cospdfpath,t.swfpath),n=t.currpage,i=t.filetype,a=t.isContentDocument;if("generalDocument"===this.fileTypeMark&&o&&e&&"whiteboard"!==i&&this.generalDocumentFileForceReloadNumber<this.maxGeneralFileForceReloadNumber){var r=void 0;if(Number(a))r=o;else{var s=o.lastIndexOf("."),A=o.substring(s);r=o.replace(A,"-"+n+A)}if(new RegExp(r,"g").test(e)){if(Number(a))this.generalDocumentFileForceReloadNumber++,L.Logger.info(Ce.default.logType,"[general document]load general document failure , reload file ,  url is "+r+" , reload number is "+this.generalDocumentFileForceReloadNumber);else{var l=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress;Ce.default.docAddressKey=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey,!0),this.whiteBoardManagerInstance&&X.default.isFunction(this.whiteBoardManagerInstance.setLocalStorageItem)&&(this.whiteBoardManagerInstance.setLocalStorageItem("tkDocAddressKey",Ce.default.docAddressKey),this.sendActionCommand("docAddressUpdate",{docAddressList:[].concat(q(Ce.default.docAddressList)),docAddressIndex:Ce.default.docAddressKey,oldDocAddress:l,nowDocAddress:X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress})),Ce.default.nowUseDocAddress=X.default.getItem(Ce.default.docAddressList,Ce.default.docAddressKey)||this.configration.docAddress,L.Logger.info(Ce.default.logType,"[reload general document]change doc address , old address is "+l+" , now address is "+Ce.default.nowUseDocAddress),this.generalDocumentFileForceReloadNumber++,L.Logger.info(Ce.default.logType,"[general document]load general document failure , reload file , old url is "+(l+r)+" , now url is "+(Ce.default.nowUseDocAddress+r)+" , reload number is "+this.generalDocumentFileForceReloadNumber)}var c=void 0;Number(a)?r&&(c=r):c=Ce.default.nowUseDocAddress+r,Ee.default.setWhiteboardWatermarkImage(this.instanceId,c,{resetDedaultWhiteboardMagnification:!1,fullWhite:this.configration.fullWhite})}else this.generalDocumentFileForceReloadNumber=0;this.generalDocumentFileForceReloadNumber>=this.maxGeneralFileForceReloadNumber&&this.receiveActionCommandCallback("generalDocumentReloadFail",{reloadNumber:this.generalDocumentFileForceReloadNumber,success:!1,id:this.instanceId})}}},{key:"whiteboardWatermarkImageOnloadCallback",value:function(e){var t=e.width,o=e.height;this.scale=t/o,this.receiveActionCommandCallback("generalDocumentLoadEnd",{reloadNumber:this.generalDocumentFileForceReloadNumber,success:!0,id:this.instanceId,scale:this.scale||16/9})}},{key:"resizeWhiteboardHandler",value:function(){Ee.default.resizeWhiteboardHandler(this.instanceId),"dynamicPPT"===this.fileTypeMark&&"ios"===this.configration.clientType&&Y.default.changeDynamicPptSize(this.instanceId)}},{key:"isWhiteboardTextEditing",value:function(){return Ee.default.isWhiteboardTextEditing(this.instanceId)}},{key:"resetWhiteboardData",value:function(){Ee.default.clearWhiteboardAllDataById(this.instanceId)}},{key:"receiveWindowMessageEvent",value:function(e){(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.receiveWindowMessageEvent(this.instanceId,e),(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&y.default.receiveWindowMessageEvent(this.instanceId,e)}},{key:"getWhiteboardRootElement",value:function(){return this.elements.whiteboardViewRootElement}},{key:"resetPureWhiteboardTotalPage",value:function(e){if(1<e)for(var t=2;t<=e;t++)Ee.default.clearWhiteboardDataByFileidAndCurrpage(this.instanceId,0,t);var o=Ee.default.getWhiteboardFiledata(this.instanceId);0==o.fileid&&(o.currpage=1,o.pagenum=1,this._saveFiledataAndLoadCurrpageWhiteboardData(o),this._generalDocumentFileShowPage(!1))}},{key:"getDynamicPptInstanceByID",value:function(){return Y.default.getDynamicPptInstanceByID(this.instanceId)}},{key:"getH5DocumentInstanceByID",value:function(){return y.default.getH5DocumentInstanceByID(this.instanceId)}},{key:"_createElements",value:function(){this.elements.whiteboardViewRootElement=G.default.createElement("section",this.instanceId+"TalkcloudSdkWhiteboardRoot",(this.configration.isMobile?"app-mobile ":" ")+"talkcloud-sdk-whiteboard "+this.instanceId+" sdkwhiteboard-root",{width:"100%",height:"100%",position:"relative",left:0,top:0,backgroundColor:this.configration.rootBackgroundColor}),this.elements.totalDocumentViewElement=G.default.createElement("section",this.instanceId+"TalkcloudTotalDocument","talkcloud-sdk-whiteboard "+this.instanceId+" total-document-container",{width:"100%",height:"100%",position:"absolute",left:0,top:0,maxWidth:"100%",maxHeight:"100%"}),this.elements.documentViewElement=G.default.createElement("section",this.instanceId+"TalkcloudDocument","talkcloud-sdk-whiteboard "+this.instanceId+" document-container",{width:"100%",height:"100%",position:"absolute",left:0,top:0}),this.elements.whiteboardViewElement=G.default.createElement("article",this.instanceId+"TalkcloudWhiteboard","talkcloud-sdk-whiteboard "+this.instanceId+" whiteboard-container",{width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:2}),this.elements.dynamicPptViewElement=G.default.createElement("article",this.instanceId+"TalkcloudDynamicPpt","talkcloud-sdk-whiteboard "+this.instanceId+" dynamic-ppt-container",{width:"100%",height:"100%",position:"absolute",left:0,top:0,display:"none",zIndex:1}),this.elements.h5DocumentViewElement=G.default.createElement("article",this.instanceId+"TalkcloudH5Document","talkcloud-sdk-whiteboard "+this.instanceId+" h5-document-container",{width:"100%",height:"100%",position:"absolute",left:0,top:0,display:"none",zIndex:1}),this.elements.disableClickViewElement=G.default.createElement("div",void 0,"talkcloud-sdk-whiteboard "+this.instanceId+" disable-clock-container",{width:"100%",height:"100%",position:"absolute",left:0,top:0,display:"none",zIndex:4})}},{key:"_connectElements",value:function(){(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&G.default.appendChild(this.elements.documentViewElement,this.elements.dynamicPptViewElement),(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&G.default.appendChild(this.elements.documentViewElement,this.elements.h5DocumentViewElement),G.default.appendChild(this.elements.documentViewElement,this.elements.whiteboardViewElement),G.default.appendChild(this.elements.documentViewElement,this.elements.disableClickViewElement),G.default.appendChild(this.elements.totalDocumentViewElement,this.elements.documentViewElement),G.default.appendChild(this.elements.whiteboardViewRootElement,this.elements.totalDocumentViewElement),G.default.appendChild(this.parentNode,this.elements.whiteboardViewRootElement),this._productionWhiteboard(),this._productionDynamicPpt(),this._productionH5Document()}},{key:"_productionWhiteboard",value:function(){var A=this;Ee.default.hasWhiteboardById(this.instanceId)&&Ee.default.destroyWhiteboardInstance(this.instanceId);var e={whiteboardElementId:this.elements.whiteboardViewElement.getAttribute("id"),id:this.instanceId,handler:{sendSignallingToServer:function(e,t,o,n,i,a,r,s){A.configration.synchronization&&A.configration.isConnectedRoom&&A.pubMsg({name:e,id:t,toID:o,data:n,save:!i,expiresabs:a,associatedMsgID:r,associatedUserID:s})},delSignallingToServer:function(e,t,o,n){A.configration.synchronization&&A.configration.isConnectedRoom&&A.delMsg({name:e,id:t,toID:o,data:n})},resizeWhiteboardSizeCallback:this.resizeWhiteboardSizeCallback.bind(this),noticeUpdateToolDescCallback:this.noticeUpdateToolDescCallback.bind(this),noticeUpdateWhiteboardFiledataCallback:this.noticeUpdateWhiteboardFiledataCallback.bind(this),receiveActionCommandCallback:this.receiveActionCommandCallback.bind(this),whiteboardWatermarkImageOnFailureCallback:this.whiteboardWatermarkImageOnFailureCallback.bind(this),whiteboardWatermarkImageOnloadCallback:this.whiteboardWatermarkImageOnloadCallback.bind(this)},productionOptions:Object.deepAssign({deawPermission:this.configration.canDraw,showShapeAuthor:this.configration.showShapeAuthor,myselfId:this.configration.myUserId,nickname:this.configration.myName,synchronizationWhiteboard:this.configration.synchronization&&this.configration.isConnectedRoom,primaryColor:this.configration.primaryColor,secondaryColor:this.configration.secondaryColor,backgroundColor:this.configration.backgroundColor,pencilWidth:this.configration.pencilWidth,shapeWidth:this.configration.shapeWidth,eraserWidth:this.configration.eraserWidth,fontSize:this.configration.fontSize,fontFamily:this.configration.fontFamily,parcelAncestorElementId:this.elements.whiteboardViewRootElement.getAttribute("id"),defaultWhiteboardScale:this.configration.defaultWhiteboardScale,associatedMsgID:this.configration.associatedMsgID,associatedUserID:this.configration.associatedUserID,isOnlyUndoRedoClearMyselfShape:this.configration.isOnlyUndoRedoClearMyselfShape,insertPictureRule:this.configration.insertPictureRule},this.configration.initWhiteboardProductionOptions||{})};Ee.default.productionWhiteboard(e),Ee.default.registerWhiteboardTools(this.instanceId,{tool_pencil:{},tool_highlighter:{},tool_line:{},tool_arrow:{},tool_eraser:{},tool_text:{},tool_rectangle:{},tool_rectangle_empty:{},tool_ellipse:{},tool_ellipse_empty:{},tool_mouse:{},tool_laser:{},action_undo:{},action_redo:{},action_clear:{},zoom_big:{},zoom_small:{}}),Ee.default.clearRedoAndUndoStack(this.instanceId),Ee.default.loadCurrpageWhiteboard(this.instanceId),"default"!==this.instanceId&&!this.configration.hasExtendDocument||Ee.default.activeWhiteboardTool("tool_mouse",this.instanceId)}},{key:"_productionDynamicPpt",value:function(){var A=this;if(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument){Y.default.hasDynamicPptById(this.instanceId)&&Y.default.destroyDynamicPptInstance(this.instanceId);var e={dynamicPptElementId:this.elements.dynamicPptViewElement.getAttribute("id"),id:this.instanceId,handler:{sendSignallingToServer:function(e,t,o,n,i,a,r,s){A.configration.synchronization&&A.configration.isConnectedRoom&&A.pubMsg({name:e,id:t,toID:o,data:n,save:!i,expiresabs:a,associatedMsgID:r,associatedUserID:s})},receiveActionCommandCallback:this.receiveActionCommandCallback.bind(this)},productionOptions:{synchronizationDynamicPpt:this.configration.synchronization&&this.configration.isConnectedRoom,associatedMsgID:this.configration.associatedMsgID,associatedUserID:this.configration.associatedUserID,isShowReloadFileTip:this.configration.isShowReloadFileTip,languageType:this.configration.languageType,againreconnectElementParentNode:this.elements.documentViewElement,dynamicPptActionClick:this.configration.actionClick,isMeeting:this.configration.isMeeting}};Y.default.productionDynamicPpt(e)}}},{key:"_productionH5Document",value:function(){var A=this;if(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument){y.default.hasH5DocumentById(this.instanceId)&&y.default.destroyH5DocumentInstance(this.instanceId);var e={h5DocumentElementId:this.elements.h5DocumentViewElement.getAttribute("id"),getWhiteboardRootElement:this.getWhiteboardRootElement.bind(this),id:this.instanceId,handler:{sendSignallingToServer:function(e,t,o,n,i,a,r,s){A.configration.synchronization&&A.configration.isConnectedRoom&&A.pubMsg({name:e,id:t,toID:o,data:n,save:!i,expiresabs:a,associatedMsgID:r,associatedUserID:s})},receiveActionCommandCallback:this.receiveActionCommandCallback.bind(this)},productionOptions:{synchronizationH5Document:this.configration.synchronization&&this.configration.isConnectedRoom,associatedMsgID:this.configration.associatedMsgID,associatedUserID:this.configration.associatedUserID,isShowReloadFileTip:this.configration.isShowReloadFileTip,languageType:this.configration.languageType,h5DocumentActionClick:this.configration.actionClick,isH5MediaOutputDominant:this.configration.isH5MediaOutputDominant,isMeeting:this.configration.isMeeting}};y.default.productionH5Document(e)}}},{key:"_handleShowPageSignalling",value:function(e,t){var i=this,o=1<arguments.length&&void 0!==t&&t,n=e.source,a=e.data,r=this.fileid!=a.filedata.fileid;if(this.fileid!=a.filedata.fileid&&Object.entries(this.pptAudio).forEach(function(e){var t=_e(e,2),o=t[0],n=t[1];n&&n.fileid!==a.filedata.fileid&&(i.pptAudio[o]=void 0,document.getElementById(o).remove())}),this.fileid=a.filedata.fileid,!this.configration.isPlayback)if(o)"ShowPage"===e.name?Ce.default.showPageFromId=this.configration.myUserId:"ExtendShowPage"===e.name&&(Ce.default.extendShowPageFromId=this.configration.myUserId);else{var s=!0;if("ShowPage"===e.name?((r||!e.fromID||Ce.default.showPageFromId!==this.configration.myUserId&&e.fromID===this.configration.myUserId||e.fromID!==this.configration.myUserId)&&(s=!1),Ce.default.showPageFromId=e.fromID):"ExtendShowPage"===e.name&&((r||!e.fromID||Ce.default.extendShowPageFromId!==this.configration.myUserId&&e.fromID===this.configration.myUserId||e.fromID!==this.configration.myUserId)&&(s=!1),Ce.default.extendShowPageFromId=e.fromID),s)return}if(this.fileTypeMark=a.isDynamicPPT?"dynamicPPT":a.isH5Document?"h5Document":"generalDocument",!this.configration.isNativePlayAudio||a.isDynamicPPT||this.whiteBoardManagerInstance&&this.whiteBoardManagerInstance.getRoomDelegate().isPlayAudio&&this.whiteBoardManagerInstance.getRoomDelegate().isPlayAudio("",!1,{currentPage:-1}),(a.isDynamicPPT||a.isH5Document)&&(a.filedata.pagenum=Ee.default.getWhiteboardFiledata(this.instanceId).pagenum),a.isGeneralFile||!r&&a.isDynamicPPT&&(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.isLoadFinished(this.instanceId)||!r&&a.isH5Document&&(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&y.default.isLoadFinished(this.instanceId)){var A=a.filedata;A.currpage>A.pagenum&&(A.currpage=A.pagenum),A.currpage<1&&(A.currpage=1),a.isDynamicPPT&&(A.pptslide=A.currpage)}if(this._updateViewShowAndHide(),this._viewStateUpdate(),a.isGeneralFile){if("room-pubmsg"===n&&!r&&Number(a.filedata.currpage)===Ee.default.getWhiteboardFiledata(this.instanceId).currpage)return;this._saveFiledataAndLoadCurrpageWhiteboardData(a.filedata),this._generalDocumentFileShowPage(r)}else if(a.isDynamicPPT)Ee.default.setWhiteboardWatermarkImage(this.instanceId,""),this._dynamicPPTFileShowPage(r,e);else if(a.isH5Document){if("room-pubmsg"===n&&!r&&Number(a.filedata.currpage)===Ee.default.getWhiteboardFiledata(this.instanceId).currpage)return;Ee.default.setWhiteboardWatermarkImage(this.instanceId,""),this._saveFiledataAndLoadCurrpageWhiteboardData(a.filedata),this._h5DocumentFileShowPage(r)}}},{key:"_generalDocumentFileShowPage",value:function(e){this.generalDocumentFileForceReloadNumber=0,(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.setDynamicPptIframeSrc(this.instanceId,""),(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&y.default.setH5DocumentIframeSrc(this.instanceId,""),Ee.default.resetDedaultWhiteboardMagnification(this.instanceId);var t=Ee.default.getWhiteboardFiledata(this.instanceId),o=(t.cospdfpath,t.swfpath),n=t.currpage,i=t.pagenum,a=t.filetype,r=t.isContentDocument;if(G.default.removeClass(this.elements.disableClickViewElement,"loading"),"whiteboard"===a)this.scale=this.configration.defaultWhiteboardScale,this._viewStateUpdate(),Ee.default.updateWhiteboardWatermarkImageScale(this.instanceId,this.configration.defaultWhiteboardScale),Ee.default.setWhiteboardWatermarkImage(this.instanceId,"",{resetDedaultWhiteboardMagnification:!1});else{var s=void 0;if(Number(r))o&&(s=o);else{var A=o.lastIndexOf("."),l=o.substring(A),c=o.replace(l,"-"+n+l);s=Ce.default.nowUseDocAddress+c}if(Ee.default.setWhiteboardWatermarkImage(this.instanceId,s,{resetDedaultWhiteboardMagnification:!1,fullWhite:this.configration.fullWhite}),!Number(r)){var d=1,u=1;e?(this.cacheMaxPageNum=n,this.cacheMinPageNum=n,this.filePreLoadCurrPage=n,this.cacheMaxPageNum+this.filePreLoadStep<=i?this.cacheMaxPageNum+=this.filePreLoadStep:this.cacheMaxPageNum<i&&(this.cacheMaxPageNum+=i-this.cacheMaxPageNum),1<=this.cacheMinPageNum-this.filePreLoadStep?this.cacheMinPageNum-=this.filePreLoadStep:this.cacheMinPageNum=1,u=this.cacheMaxPageNum,d=this.cacheMinPageNum):(this.filePreLoadCurrPage<n?(d=this.cacheMaxPageNum+1,n>this.cacheMaxPageNum&&(this.cacheMaxPageNum=n),this.cacheMaxPageNum+this.filePreLoadStep<=i?this.cacheMaxPageNum+=this.filePreLoadStep:this.cacheMaxPageNum<i&&(this.cacheMaxPageNum+=i-this.cacheMaxPageNum),u=this.cacheMaxPageNum):this.filePreLoadCurrPage>n&&(u=this.cacheMinPageNum-1,n<this.cacheMinPageNum&&(this.cacheMinPageNum=n),1<=this.cacheMinPageNum-this.filePreLoadStep?this.cacheMinPageNum-=this.filePreLoadStep:this.cacheMinPageNum=1,d=this.cacheMinPageNum),this.filePreLoadCurrPage=n);for(var h=d;h<=u;h++)if(h!==n){var f=o.lastIndexOf("."),p=o.substring(f),g=o.replace(p,"-"+h+p),m=Ce.default.nowUseDocAddress+g;if(".pdf"==p)return!1;Ee.default.preloadWhiteboardImg(m)}}}}},{key:"_dynamicPPTFileShowPage",value:function(e,t){if(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)if(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument,e)Ee.default.updateWhiteboardWatermarkImageScale(this.instanceId,this.configration.defaultWhiteboardScale),this._saveFiledataAndLoadCurrpageWhiteboardData(t.data.filedata),this.forceReloadNumberFromPpt=void 0,this.forceReloadTimestampFromPpt=void 0,this._loadCurrentDynamicPpt();else{var o=t.data.filedata,n=o.currpage,i=o.pptstep;Y.default.jumpToAnimation(this.instanceId,n,i)}}},{key:"_h5DocumentFileShowPage",value:function(e){if(this.configration.loadH5DocumentView&&"default"===this.instanceId||this.configration.hasExtendDocument){this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument;var t=Ee.default.getWhiteboardFiledata(this.instanceId),o=(t.swfpath,t.currpage);e?(Ee.default.updateWhiteboardWatermarkImageScale(this.instanceId,this.configration.defaultWhiteboardScale),this._loadCurrentH5Document()):y.default.jumpToPage(this.instanceId,o)}}},{key:"_saveFiledataAndLoadCurrpageWhiteboardData",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};Ee.default.saveWhiteboardStackToStorage(this.instanceId),Ee.default.updateWhiteboardFiledata(this.instanceId,t),Ee.default.loadCurrpageWhiteboard(this.instanceId)}},{key:"_updateViewShowAndHide",value:function(){var e=Ee.default.whiteboardInstanceStore[Ee.default.whiteboardInstanceDefaultID]&&Ee.default.whiteboardInstanceStore[Ee.default.whiteboardInstanceDefaultID].clickCapture||this.configration.clickCapture;switch(this.fileTypeMark){case"generalDocument":if(G.default.show(this.elements.whiteboardViewElement),G.default.hide([this.elements.h5DocumentViewElement,this.elements.dynamicPptViewElement]),e){this.elements.whiteboardViewElement.querySelectorAll("canvas")&&G.default.show(Array.from(this.elements.whiteboardViewElement.querySelectorAll("canvas")));var t=this.instanceId+"TalkcloudWhiteboard",o=document.getElementById(t);o&&("tool_mouse"==Ee.default.getActiveTool(this.instanceId)?o.style.pointerEvents="none":o.style.pointerEvents=""),"tool_mouse"!==Ee.default.getActiveTool(this.instanceId)||e?G.default.show(this.elements.whiteboardViewElement):G.default.hide(this.elements.whiteboardViewElement)}else"tool_mouse"!==Ee.default.getActiveTool(this.instanceId)?this.elements.whiteboardViewElement.querySelectorAll("canvas")&&G.default.show(Array.from(this.elements.whiteboardViewElement.querySelectorAll("canvas"))):this.elements.whiteboardViewElement.querySelectorAll("canvas")&&G.default.hide(Array.from(this.elements.whiteboardViewElement.querySelectorAll("canvas")));break;case"h5Document":this.elements.whiteboardViewElement.querySelectorAll("canvas")&&G.default.show(Array.from(this.elements.whiteboardViewElement.querySelectorAll("canvas"))),G.default.show(this.elements.h5DocumentViewElement),G.default.hide(this.elements.dynamicPptViewElement),e?"tool_mouse"===Ee.default.getActiveTool(this.instanceId)?this.elements.whiteboardViewElement.style.pointerEvents="none":this.elements.whiteboardViewElement.style.pointerEvents="":"tool_mouse"!==Ee.default.getActiveTool(this.instanceId)?G.default.show(this.elements.whiteboardViewElement):G.default.hide(this.elements.whiteboardViewElement);break;case"dynamicPPT":this.elements.whiteboardViewElement.querySelectorAll("canvas")&&G.default.show(Array.from(this.elements.whiteboardViewElement.querySelectorAll("canvas"))),G.default.show(this.elements.dynamicPptViewElement),G.default.hide(this.elements.h5DocumentViewElement),e?"tool_mouse"===Ee.default.getActiveTool(this.instanceId)?this.elements.whiteboardViewElement.style.pointerEvents="none":this.elements.whiteboardViewElement.style.pointerEvents="":"tool_mouse"!==Ee.default.getActiveTool(this.instanceId)?G.default.show(this.elements.whiteboardViewElement):G.default.hide(this.elements.whiteboardViewElement)}G.default.removeClass(this.elements.documentViewElement,["talkcloud-filetype-generalDocument","talkcloud-filetype-h5Document","talkcloud-filetype-dynamicPPT"]),G.default.addClass(this.elements.documentViewElement,"talkcloud-filetype-"+this.fileTypeMark),this.resizeWhiteboardHandler()}},{key:"_updatedynamicPptVolume",value:function(t){t<0?t=0:100<t&&(t=100),this.dynamicPptVolume=t,(this.configration.loadDynamicPptView&&"default"===this.instanceId||this.configration.hasExtendDocument)&&Y.default.postMessage(this.instanceId,{action:"PptVolumeControl",volumeValue:this.dynamicPptVolume/100}),Object.keys(this.pptAudio).forEach(function(e){e&&document.getElementById(e)&&(document.getElementById(e).volume=t/100)}),this.whiteBoardManagerInstance.getRoomDelegate().setPptAudioVolume&&this.whiteBoardManagerInstance.getRoomDelegate().setPptAudioVolume(t),this._viewStateUpdate(),this.audioEle&&(this.audioEle.setAttribute("volume",t),this.audioEle.volume=t/100)}},{key:"_viewStateUpdate",value:function(){if(Ee.default.hasWhiteboardById(this.instanceId)){var e={},t=Ee.default.getWhiteboardFiledata(this.instanceId),o=t.currpage,n=t.pagenum,i=t.pptslide,a=t.pptstep,r=t.steptotal,s=t.fileid,A=Ee.default.getRegisterWhiteboardToolsList(this.instanceId),l={nextPage:{disabled:Ce.default.isPlayVideoing&&"default"===this.instanceId||!(this.configration.canPage&&this.configration.isConnectedRoom&&o<n)},prevPage:{disabled:Ce.default.isPlayVideoing&&"default"===this.instanceId||!(this.configration.canPage&&this.configration.isConnectedRoom&&1<o)},skipPage:{disabled:Ce.default.isPlayVideoing&&"default"===this.instanceId||!(this.configration.canPage&&this.configration.isConnectedRoom)},addPage:{disabled:!(!(Ce.default.isPlayVideoing&&"default"===this.instanceId||"generalDocument"!==this.fileTypeMark)&&this.configration.canPage&&this.configration.addPage&&this.configration.isConnectedRoom&&n<=o&&0===Number(s))},nextStep:{disabled:!(!(Ce.default.isPlayVideoing&&"default"===this.instanceId||"dynamicPPT"!==this.fileTypeMark)&&this.configration.canPage&&this.configration.isConnectedRoom)||n<=i&&r-1<=a},prevStep:{disabled:!(!(Ce.default.isPlayVideoing&&"default"===this.instanceId||"dynamicPPT"!==this.fileTypeMark)&&this.configration.canPage&&this.configration.isConnectedRoom)||i<=1&&a<=0},currentPage:o<1?1:o,totalPage:n<1?1:n},c=!0,d=!1,u=void 0;try{for(var h,f=Object.entries(A)[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value,g=_e(p,2),m=g[0],y=g[1];if(/tool_/g.test(m)){if(this.whiteboardViewState.tool[m]!==y)if("object"!==(void 0===y?"undefined":Be(y))||Array.isArray(y))e.tool=e.tool||{},e.tool[m]=y;else{var v=!0,w=!1,b=void 0;try{for(var B,_=Object.entries(y)[Symbol.iterator]();!(v=(B=_.next()).done);v=!0){var C=B.value,E=_e(C,2),S=E[0],I=E[1];this.whiteboardViewState.tool[m]=this.whiteboardViewState.tool[m]||{},I!==this.whiteboardViewState.tool[m][S]&&(e.tool=e.tool||{},e.tool[m]=e.tool[m]||{},e.tool[m][S]=I)}}catch(e){w=!0,b=e}finally{try{!v&&_.return&&_.return()}finally{if(w)throw b}}}}else if(/action_/g.test(m)){if(this.whiteboardViewState.action[m]!==y)if("object"!==(void 0===y?"undefined":Be(y))||Array.isArray(y))e.action=e.action||{},e.action[m]=y;else{var T=!0,k=!1,Q=void 0;try{for(var U,F=Object.entries(y)[Symbol.iterator]();!(T=(U=F.next()).done);T=!0){var P=U.value,D=_e(P,2),x=D[0],L=D[1];this.whiteboardViewState.action[m]=this.whiteboardViewState.action[m]||{},L!==this.whiteboardViewState.action[m][x]&&(e.action=e.action||{},e.action[m]=e.action[m]||{},e.action[m][x]=L)}}catch(e){k=!0,Q=e}finally{try{!T&&F.return&&F.return()}finally{if(k)throw Q}}}}else if(/zoom_/g.test(m)&&this.whiteboardViewState.zoom[m]!==y)if("object"!==(void 0===y?"undefined":Be(y))||Array.isArray(y))e.zoom=e.zoom||{},e.zoom[m]=y;else{var N=!0,H=!1,R=void 0;try{for(var M,O=Object.entries(y)[Symbol.iterator]();!(N=(M=O.next()).done);N=!0){var W=M.value,K=_e(W,2),V=K[0],j=K[1];this.whiteboardViewState.zoom[m]=this.whiteboardViewState.zoom[m]||{},j!==this.whiteboardViewState.zoom[m][V]&&(e.zoom=e.zoom||{},e.zoom[m]=e.zoom[m]||{},e.zoom[m][V]=j)}}catch(e){H=!0,R=e}finally{try{!N&&O.return&&O.return()}finally{if(H)throw R}}}}}catch(e){d=!0,u=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw u}}var z=!0,J=!1,G=void 0;try{for(var X,Y=Object.entries(l)[Symbol.iterator]();!(z=(X=Y.next()).done);z=!0){var q=X.value,Z=_e(q,2),$=Z[0],ee=Z[1];if(this.whiteboardViewState.page[$]=this.whiteboardViewState.page[$]||{},"object"===(void 0===ee?"undefined":Be(ee))){var te=!0,oe=!1,ne=void 0;try{for(var ie,ae=Object.entries(ee)[Symbol.iterator]();!(te=(ie=ae.next()).done);te=!0){var re=ie.value,se=_e(re,2),Ae=se[0],le=se[1];this.whiteboardViewState.page[$][Ae]!==le&&(e.page=e.page||{},e.page[$]=e.page[$]||{},e.page[$][Ae]=le)}}catch(e){oe=!0,ne=e}finally{try{!te&&ae.return&&ae.return()}finally{if(oe)throw ne}}}else this.whiteboardViewState.page[$]!==ee&&(e.page=e.page||{},e.page[$]=ee)}}catch(e){J=!0,G=e}finally{try{!z&&Y.return&&Y.return()}finally{if(J)throw G}}this.fileTypeMark!==this.whiteboardViewState.documentType&&(e.documentType=this.fileTypeMark),this.fileid!=this.whiteboardViewState.fileid&&(e.fileid=this.fileid),this.dynamicPptVolume!==this.whiteboardViewState.dynamicPptVolume&&(e.dynamicPptVolume=this.dynamicPptVolume),this.fullScreen!==this.whiteboardViewState.fullScreen&&(e.fullScreen=this.fullScreen),this.remark!==this.whiteboardViewState.remark&&(e.remark=this.remark),this.scale!==this.whiteboardViewState.scale&&(e.scale=this.scale);var ce=Ce.default.allDocumentRemarkInfoMap.get("documentRemark_"+this.fileid);this.remarkText=0!=this.fileid&&ce&&ce[this.fileid+"_"+l.currentPage]?ce[s+"_"+l.currentPage]:"",this.remarkText!==this.whiteboardViewState.remarkText&&(e.remarkText=this.remarkText);var de=Ee.default.getWhiteboardToolsInfo(this.instanceId);if(de&&"object"===(void 0===de?"undefined":Be(de))){var ue=!0,he=!1,fe=void 0;try{for(var pe,ge=Object.entries(de)[Symbol.iterator]();!(ue=(pe=ge.next()).done);ue=!0){var me=pe.value,ye=_e(me,2),ve=ye[0],we=ye[1];void 0!==this.whiteboardViewState.other[ve]&&this.whiteboardViewState.other[ve]!==we&&(e.other=e.other||{},e.other[ve]=we)}}catch(e){he=!0,fe=e}finally{try{!ue&&ge.return&&ge.return()}finally{if(he)throw fe}}}if(Object.keys(e).length&&(void 0!==e.tool&&this._updateViewShowAndHide(),Object.deepAssign(this.whiteboardViewState,e),Object.keys(this.whiteboardViewState.tool).length&&Object.keys(this.whiteboardViewState.action).length&&Object.keys(this.whiteboardViewState.zoom).length&&Object.keys(this.whiteboardViewState.page).length)){var be={viewState:this.whiteboardViewState,updateViewState:e};this.sendActionCommand("viewStateUpdate",be)}}}},{key:"_sendSignalling_ShowPage",value:function(e,t){if("default"===this.instanceId||this.configration.hasExtendDocument){var o=Ee.default.getWhiteboardFiledata(this.instanceId),n={associatedMsgID:this.configration.associatedMsgID,name:"default"===this.instanceId?"ShowPage":"ExtendShowPage",id:"default"===this.instanceId?"DocumentFilePage_ShowPage":"DocumentFilePage_ExtendShowPage_"+this.instanceId,toID:"__all",data:{sourceInstanceId:this.instanceId,isGeneralFile:"generalDocument"===this.fileTypeMark,isMedia:!1,isDynamicPPT:"dynamicPPT"===this.fileTypeMark,isH5Document:"h5Document"===this.fileTypeMark,action:"",mediaType:"",filedata:o},save:!0};e&&Object.deepAssign(n,e),this.configration.synchronization&&this.configration.isConnectedRoom&&this.pubMsg(n),t&&"function"==typeof t&&t(n)}}},{key:"_loadCurrentDynamicPpt",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};if("dynamicPPT"===this.fileTypeMark){var n=Ee.default.getWhiteboardFiledata(this.instanceId),i=n.fileid,a=n.swfpath,r=n.isContentDocument,s=this.getRealBaseurl(n),A=Number(r)?a:s||Ce.default.nowUseDocAddress+a+"/newppt.html",l={versions:v.default.dynamicPptVersions,fileid:i,playback:this.configration.isPlayback,classbegin:!0,publishDynamicPptMediaPermission_video:this.configration.synchronization&&this.configration.isConnectedRoom,remoteNewpptUpdateTime:v.default.remoteDynamicPptUpdateTime,role:this.configration.myRole,dynamicPptActionClick:this.configration.actionClick&&this.configration.isConnectedRoom,newpptPagingPage:this.configration.canPage&&this.configration.isConnectedRoom,dynamicPptDebug:v.default.dynamicPptDebugLog,PptVolumeValue:this.dynamicPptVolume/100,deviceType:"phone"===this.configration.deviceType?0:void 0,isBackEvent:this.configration.isBackEvent,isClientPlayAudio:this.configration.isNativePlayAudio};if(this.setPreloadParams(l,s),void 0!==this.forceReloadTimestampFromPpt&&(l.forceReloadTimestamp=this.forceReloadTimestampFromPpt),void 0!==this.forceReloadNumberFromPpt&&(l.forceReloadNumber=this.forceReloadNumberFromPpt,o.forceReloadNumber=this.forceReloadNumberFromPpt),e&&X.default.isJson(e)){var c=!0,d=!1,u=void 0;try{for(var h,f=Object.entries(e)[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value,g=_e(p,2),m=g[0],y=g[1];l[m]=y}}catch(e){d=!0,u=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw u}}}o.playback=this.configration.isPlayback,Y.default.setDynamicPptIframeSrc(this.instanceId,A,l,Object.assign({baseurl:s},n),o)}}},{key:"_loadCurrentH5Document",value:function(e,t){var o=1<arguments.length&&void 0!==t?t:{};if("h5Document"===this.fileTypeMark){var n=Ee.default.getWhiteboardFiledata(this.instanceId),i=(n.fileid,n.swfpath),a=n.isContentDocument,r=this.getRealBaseurl(n),s=void 0;L.Logger.info(Ce.default.logType,"Document swfpathï¼š",i,"isContentDocument:",a),Number(a)?i&&(s=i):s=r||Ce.default.nowUseDocAddress+i;var A=this.configration.sendH5DocumentRoomInfo;if(this.setPreloadParams(A,r),A.role=this.configration.myRole,A.name=this.configration.myName,A.serial=TK.mySerial,A.isH5MediaOutput=this.configration.isH5MediaOutput,e&&X.default.isJson(e)){var l=!0,c=!1,d=void 0;try{for(var u,h=Object.entries(e)[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var f=u.value,p=_e(f,2),g=p[0],m=p[1];A[g]=m}}catch(e){c=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}}y.default.setH5DocumentIframeSrc(this.instanceId,s,A,Object.assign({baseurl:r},n),o)}}},{key:"setPreloadParams",value:function(e,t){if(t){var o=Ce.default.nowUseDocAddress.split(":");e.playProtocol="http",e.playHostname=o[1].replace(/\//g,""),e.playPort="80"}}},{key:"getRealBaseurl",value:function(t){var e="";if(!TK.isTkNative&&!TK.isTkMacNative)return e;if(!Ce.default.preloadFile){var o=localStorage.getItem("preloadFile");try{o=JSON.parse(o)}catch(e){o=t.baseurl?t:o}Ce.default.preloadFile=o||Ce.default.preloadFile}return Ce.default.preloadFile&&this.isPreloadFile(t)&&(e=Ce.default.preloadFile.baseurl),e}},{key:"isPreloadFile",value:function(e){return!!Ce.default.preloadFile&&!!e&&String(Ce.default.preloadFile.fileid)===String(e.fileid)}}]),A);function A(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Object.deepAssign({},a.default.defaultWhiteboard,a.default.commonWhiteboard),n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),this.parentNode=e,this.instanceId=t,this.configration=o,this.receiveActionCommand=n,this.whiteBoardManagerInstance=i,this.elements={},this.fileid=0,this.fullScreen=!1,this.remark=!1,this.scale=this.configration.defaultWhiteboardScale,this.loadDocumentFail=void 0,this.remarkText="",this.fileTypeMark="generalDocument",this.cacheMaxPageNum=1,this.cacheMinPageNum=1,this.filePreLoadCurrPage=1,this.filePreLoadStep=2,this.dynamicPptVolume=100,this.maxGeneralFileForceReloadNumber=10,this.generalDocumentFileForceReloadNumber=0,this.volume=100,this.audioEle=null,this.pptAudio={},this.whiteboardViewState={tool:{},action:{},zoom:{},page:{},documentType:this.fileTypeMark,fileid:this.fileid,dynamicPptVolume:this.dynamicPptVolume,fullScreen:this.fullScreen,remark:this.remark,scale:this.scale,remarkText:this.remarkText,other:{primaryColor:this.configration.primaryColor,secondaryColor:this.configration.secondaryColor,backgroundColor:this.configration.backgroundColor,pencilWidth:this.configration.pencilWidth,shapeWidth:this.configration.shapeWidth,eraserWidth:this.configration.eraserWidth,fontSize:this.configration.fontSize,fontFamily:this.configration.fontFamily}},this._createElements(),this._connectElements()}o.default=s},{"../../intermediateLayer/DynamicPptIntermediateLayer":335,"../../intermediateLayer/H5DocumentPptIntermediateLayer":336,"../../intermediateLayer/WhiteboardIntermediateLayer":337,"../../utils/Configuration":338,"../../utils/Constant":339,"../../utils/DomUtils":340,"../../utils/Global":341,"../../utils/Utils":345}],357:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),e("babel-polyfill"),e("./utils/Log");var n,i=e("./TKWhiteBoardManager"),a=(n=i)&&n.__esModule?n:{default:n};try{var r=window.URL||webkitURL;if(r&&window&&window.MediaStream){var s=new window.MediaStream;try{r.createObjectURL(s)}catch(e){window._URLCreateObjectURL=r.createObjectURL,window.HTMLMediaElement.prototype._setAttribute=window.HTMLMediaElement.prototype.setAttribute,window.HTMLMediaElement.prototype._removeAttribute=window.HTMLMediaElement.prototype.removeAttribute,r.createObjectURL=function(t){try{return window._URLCreateObjectURL(t)}catch(e){return t&&window.MediaStream&&t instanceof window.MediaStream||console.error("redefine createObjectURL err:",e),t}},window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype&&(Object.defineProperty(window.HTMLMediaElement.prototype,"src",{set:function(e){e&&window.MediaStream&&e instanceof window.MediaStream?(this._srcObject=e,this.srcObject=this._srcObject):(this.srcObject=null,this._srcObject=void 0,this._setAttribute("src",e))}}),window.HTMLMediaElement.prototype.setAttribute=function(e,t){"src"===e?this.src=t:this._setAttribute(e,t)},window.HTMLMediaElement.prototype.removeAttribute=function(e){"src"===e?this.src="":this._removeAttribute(e)})}}}catch(e){console.error("compatibility createObjectURL err:",e)}o.default=a.default},{"./TKWhiteBoardManager":334,"./utils/Log":343,"babel-polyfill":1}]},{},[357]);